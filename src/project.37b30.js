var _0x25df=['uiWin','diffMax','selectTagget','updateSelectOperatedTarget','inRangeTargets','selectNextTarget','initHeroOperated','spawnItem','getDropWorldPos','prefabs/misc/item-sign-arrow','error','talkInfoMap','1b973nTHjhIU5k2rXJ/T/KF','instantiate','poolObjs','ProgressBar','max','progress','val','prefabs/buliding/doorTop','prefabs/buliding/ExplosiveBox','loadSubpackage','loadedSubpackCount','Type','loadRes','jwLcW','loader','stepTasks','schedule','THORN','hited','THORN_HIDE','tiledPos','TiledMapRoom','getLayerName','_blocklayer','enemyEntitys','_buildings','randomGetItemInArr','roomCfg','roomCfgId','PVaLj','_doorObjs','mLFUB','pool','value','updateMovingRoomCPT','_buildingMap','_tiledMap','TiledMap','_doorsPos','Direction','forEach','parent','effectLayer','prefabs/buliding/thorn','height','shadowUpdatetime','shadows','entityArrivePointMap','maxSP','hpRepairRate','getTileGIDAt','getContentSize','Item','progressBar','loadingWeigth','FinishedEvent','fireLinearVelocity','getWorldCenter','pVftH','children','bind','onLoad','joystick','touchstart','putSelectOperatedTarget','prgHP','ProgressCtrl','Animation','setVal','LoKKt','_objGroup','手动\x0a瞄准','switchAutoAtkDir','color','talk','自动瞄准模式','手动瞄准模式','playCommonClickEffect','pauseLayout','resumeGame','TTzKi','laserPointFirst','deadLayout','startPlay','update','36ce7pOfVRD64AmlgeeUI6W','button','UITip','NodePool','AudioMgr','_startTime','audioID','point','laserObjs','input','atkRad','isAtking','Group','createLaserObj','GameMgr','dis','res','normal','radiansToDegrees','NvMeU','Weapon-2','center','itemId','isFiring','fire-2','Weapon','8f47cnrDCZOE5tMCnvPQgCq','Prefab','getDirVec','director','ctx','BUILDING','7fc7bdJK8FDsZeDyjLbmoTf','spawnBullet','c1ec18WrwJLypvorIAV5eON','rotate','nodeGroup','poolId','ENEMY_BULLET','addForbid','isTouching','animCPT','finished','Sprite','spr','d8725tzuUZIzpubT3gwTQN9','refresh','scrollView','selecAt','itemPrefab','getItemName','equipments','AI-0','ExplosiveBox','CommonSwitch','UIWin','exports','target','enabled','targetWP','atkStatus','noAtkTime','msg','moveStatus','maxDisToTarget','result','bulletLayer','updateMove','weaponCPT','commonStatus','toTargetDir','atan2','entity','atkDeg','setAtkDir','onAtk','selfWP','add','moveLevel','updateTime','movePoint','abs','pointArr','level-tooLow','PlayMgr','findPath','bindRoomCPT','defineProperty','Component','findMax','startPoint','pre','version','next','width','length','pathValFunc','ResMgr','updateMusic','playerData','audioEngine','setMusicVolume','isInvalid','canDestroyByOther','rotation','tag','getComponent','rigidBody','spawnCommonHitEff','effColor','dot','newLinearVec','Bullet','rigidbody','getPreloadAsset','sub','Entity','position','disabled','isAlive','destroyByOther','node','CameraFollow','visibleRect','onTouchStart','changeSwitch','Config','GameFunc','ItemGradeColor','Color','PATHX','PATHY','map10','FIGHTING','map12','RoomType','map13','size','ItemType','WEAPON','EQUIPMENT','ItemCfg','小蝼蚁','Const','_RF','hero','map','heroMovingRoomChange','GameMath','localStorage','sys','getItem','\x20\x20open\x20effect:','true','ownerEntityCPT','setItem','spawnAutoEntityId','createMapData','energy','realiveTimes','maxHP','entityEnergyChange','rebound','energyRepairRate','entityId','heroData','weapons','createHitData','damageVal','entitys','emit','type','top','getChildByName','roomCountRange','pos','sockets','push','roomDatas','map\x20room\x20data\x20error','done','BORN','TREASURE_BOX','NRfpo','Label','Game','656abBPEHVO6aiDvjfssBjG','437dcPA5p9IQZ1UzKm7Uiut','shadow','weaponNone','dead','setActorDir','bodySpr','group','AI-executeAtk','mwGBW','d2197G0EzpKwJ0vuhI2fXQU','warningDelay','playEffect','WHITE','destroy','log','trail','getEntityId','hitLeftTime','pop','handlers','closeUI','treasureGet','string','mul','createExplosiveBoxData','scheduleOnce','active','setEntityData','delUpperTiledAt','floor','randomRange','UIMgr','realive','stand','linearVelocity','mulSelf','MoveUnit','PhysicsCollider','klCEl','bossPrgHP','bossEntityId','nodeDict','_isConsumeEnergyAfterATime','data','movingRoomCPT','getWeapon','weapon','doorBody','isSelected','sprite','_groundlayer','isVaild','random','tween','HERO','Joystick','status','touchmove','swQsn','reset','modeType','radian','touchPointNode','opacity','rooms','return','addComponent','Event','_randomRoomDatas','fPnKm','act','mapLoadEnd','iterator','UDhUp','getAllRoom','isValidPos','BOSS','atlas','laser-main-firing-12','4f2538q98RLOYIKskkOYlx9','Data','scene','nqHcu','realProgress','sQYrY','jump','remove-forbid-move','removeForbid','moveState','moveRad','moveForbid','moveSpeed','born','heroEntity','setPosition','89d8ekcFxJC9ZDFm+fAeqOb','Class','useOnceItem','resPreLoadEnd','KEY','STFPx','updateKeyMoveCamera','pause','resume','realiveEntity','sceneCameraGroup','selectItemSign','Canvas/sceneCameraGroup','PoolMgr','release','heroMovingRoomCPT','enterFighting','getRoomId','getBoss','eSDwa','remove-forbid-atk','uiPlay','getPhysicsManager','downkeyMap','macro','update-dir','eventHandler','worldSpaceConvertToSceneSpace','itemLayer','onEntityDead','clear','get','call','enemyId','spawnEnemy','getType','KYRuC'];(function(_0x4bd822,_0x2bd6f7){var _0xb4bdb3=function(_0x1d68f6){while(--_0x1d68f6){_0x4bd822['push'](_0x4bd822['shift']());}};_0xb4bdb3(++_0x2bd6f7);}(_0x25df,0x99));var _0x3f7b=function(_0x1c4ef0,_0x1525bc){_0x1c4ef0=_0x1c4ef0-0x0;var _0x25b9ae=_0x25df[_0x1c4ef0];return _0x25b9ae;};window['__require']=function t(_0x8b3a2d,_0x4318e6,_0x3084c5){function _0xa345c9(_0x1d7180,_0x52a83c){if(!_0x4318e6[_0x1d7180]){if(!_0x8b3a2d[_0x1d7180]){var _0x497c6a=_0x1d7180['split']('/');if(_0x497c6a=_0x497c6a[_0x497c6a['length']-0x1],!_0x8b3a2d[_0x497c6a]){var _0x1f589c='function'==typeof __require&&__require;if(!_0x52a83c&&_0x1f589c)return _0x1f589c(_0x497c6a,!0x0);if(_0x5c8068)return _0x5c8068(_0x497c6a,!0x0);throw new Error('Cannot\x20find\x20module\x20\x27'+_0x1d7180+'\x27');}}var _0x1ed0a8=_0x4318e6[_0x1d7180]={'exports':{}};_0x8b3a2d[_0x1d7180][0x0]['call'](_0x1ed0a8[_0x3f7b('0x0')],function(_0x3a8711){return _0xa345c9(_0x8b3a2d[_0x1d7180][0x1][_0x3a8711]||_0x3a8711);},_0x1ed0a8,_0x1ed0a8['exports'],t,_0x8b3a2d,_0x4318e6,_0x3084c5);}return _0x4318e6[_0x1d7180]['exports'];}for(var _0x5c8068='function'==typeof __require&&__require,_0x3bb16a=0x0;_0x3bb16a<_0x3084c5['length'];_0x3bb16a++)_0xa345c9(_0x3084c5[_0x3bb16a]);return _0xa345c9;}({'AI-0':[function(_0xa68fa5,_0x1c124c,_0x4af7f4){'use strict';cc['_RF']['push'](_0x1c124c,'c95aaJEz/ZFN6DzezkGjLuq','AI-0');var _0xac006=_0xa68fa5('GameMath'),_0x385b5b=_0xa68fa5('Game');cc['Class']({'extends':cc['Component'],'properties':{'atkDisToTarget':0xaa,'atkDesireVal':0.5,'atkIntervalTime':0x1,'atkDurationMin':0.3,'atkDurationMax':0x1,'atkRemindTime':0.5,'atkDirChangeSpeed':0x5a,'atkFinishDelayTime':0.3,'atkTalk':[cc['String']],'minDisToTarget':0xc8,'maxDisToTarget':0x64,'randomMoveDesireVal':0.7,'randomMoveIntervalTime':0.8,'randomMoveDisMin':0x3c,'randomMoveDisMax':0xb4,'keepAwayDesireVal':0.8,'tooNearCheckIntervalTime':0.1},'onLoad':function(){this['commonStatus']={'targetWP':0x0,'selfWP':0x0,'toTargetDir':0x0,'toTargetDis':0x0},this['atkStatus']={'act':!0x1,'updateTime':0x0,'noAtkTime':0x0,'atkTime':0x0,'durationTime':0x0},this['moveStatus']={'act':!0x1,'updateTime':0x0,'tooNearTime':0x0,'moveLevel':0x0,'pointArr':[]},this['stayStatus']={'act':!0x1,'updateTime':0x0},this[_0x3f7b('0x1')]=null,this['entity']=this['getComponent']('Entity'),_0x385b5b['log']('AI',this['entity']['entityId']);},'start':function(){var _0xa68fa5=this;this['bindRoomCPT']=this['entity']['bindRoomCPT'],this['mapValFunc']=function(_0x1c124c,_0x4af7f4){return _0xa68fa5['bindRoomCPT']['getMapVal'](_0x1c124c,_0x4af7f4);};},'update':function(_0xa68fa5){if(!this['entity']['isAlive'])return this[_0x3f7b('0x2')]=!0x1,void this['stopAllAct']();if(this['target']&&!this['target']['isAlive']&&(this[_0x3f7b('0x1')]=null),this['target']||(this[_0x3f7b('0x1')]=this['findTarget']()),this['target']){var _0x1c124c=this['target']['node']['convertToWorldSpaceAR'](cc['v2']()),_0x4af7f4=this['node']['convertToWorldSpaceAR'](cc['v2']()),_0x385b5b=_0x1c124c['sub'](_0x4af7f4),_0x3272bc=_0x385b5b['mag']();this['commonStatus'][_0x3f7b('0x3')]=_0x1c124c,this['commonStatus']['selfWP']=_0x4af7f4,this['commonStatus']['toTargetDir']=_0x385b5b,this['commonStatus']['toTargetDis']=_0x3272bc,this['updateAtkDir'](_0xa68fa5);this['atkStatus']['stateName'];if(_0x3272bc<this['atkDisToTarget']){if(this['atkStatus']['stateName']='inRange',!this['atkStatus']['act']&&(this[_0x3f7b('0x4')]['noAtkTime']+=_0xa68fa5,this['atkStatus']['noAtkTime']>this['atkIntervalTime']&&(this['atkStatus'][_0x3f7b('0x5')]=0x0,this['atkDesireVal']>Math['random']()))){var _0xec78ad=_0xac006['randomRange'](this['atkDurationMin'],this['atkDurationMax']);this['executeAtk'](_0xec78ad);}}else this['atkStatus']['stateName']='outRange',this[_0x3f7b('0x4')][_0x3f7b('0x5')]=Math['max'](this['atkStatus']['noAtkTime']-0.5*_0xa68fa5,0x0);this['atkStatus']['act']&&(this['atkStatus']['atkTime']+=_0xa68fa5,this['atkStatus']['atkTime']>this['atkStatus']['durationTime']&&(this['atkStatus']['atkTime']=0x0,this['stopAtk']()),this['atkStatus']['atkTime']>this['atkStatus']['stopAtkTime']&&this['entity']['weaponCPT']&&(this['entity']['weaponCPT']['isAtking']=!0x1));var _0x86369c=this['moveStatus']['stateName'],_0x20914d=!0x1;if(_0x3272bc>this['minDisToTarget']){this['moveStatus']['stateName']='tooFar';var _0x550984=this['moveToPos'](_0x1c124c),_0x1105b2=_0x550984['result'];_0x550984[_0x3f7b('0x6')];_0x20914d=_0x1105b2;}else if(_0x3272bc<this['maxDisToTarget']){if(this['moveStatus']['stateName']='tooNear',this['moveStatus']['tooNearTime']+=_0xa68fa5,this[_0x3f7b('0x7')]['tooNearTime']>this['tooNearCheckIntervalTime']&&(this['moveStatus']['tooNearTime']=0x0,this['keepAwayDesireVal']>Math['random']())){if('hyLOO'==='hyLOO'){var _0x5b9ab6=_0x385b5b['normalize']()['negSelf']()['mulSelf'](this[_0x3f7b('0x8')]+0x14),_0x559f0e=this['moveToPos'](_0x1c124c['add'](_0x5b9ab6),0x2),_0x5b61bf=_0x559f0e[_0x3f7b('0x9')];_0x559f0e['msg'];_0x20914d=_0x5b61bf;}else{var _0x3397ed=_0x385b5b['PlayMgr'],_0x3a4084=_0x385b5b['PoolMgr']['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x3a4084['group']=this['bulletGroup'],_0x3a4084['parent']=_0x3397ed['scene']['getChildByName'](_0x3f7b('0xa')),_0x3a4084['position']=_0x3397ed['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x5e214d=_0x3a4084['getComponent']('Bullet');_0x5e214d['setHitData'](_0x385b5b['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x5e214d['poolId']=this['poolId'],_0x5e214d['fire'](_0xa68fa5,_0x1c124c);}}}else this['moveStatus']['stateName']='inRange',this['moveStatus']['moveFailed']=0x0,_0x20914d=!0x0,this['moveStatus']['stateName']!==_0x86369c&&(this['moveStatus']['randomMoveTime']=0.5*this['randomMoveIntervalTime'],this['stopMove']()),0x0===this['moveStatus']['moveLevel']&&(this['moveStatus']['randomMoveTime']+=_0xa68fa5),this['moveStatus']['randomMoveTime']>this['randomMoveIntervalTime']&&(this['moveStatus']['randomMoveTime']=0x0,this['randomMoveDesireVal']>Math['random']()&&this['randomMove'](0x3));if(!_0x20914d&&0x0===this[_0x3f7b('0x7')]['moveLevel']&&(this['moveStatus']['moveFailed']+=0x1,this['moveStatus']['moveFailed']>0xa)){this['moveStatus']['moveFailed']=0x0;for(var _0xa2ca3e=0x0;!this['randomMove'](0x2)&&_0xa2ca3e<0x5;)_0xa2ca3e+=0x1;}this[_0x3f7b('0xb')](_0xa68fa5);}else this['stopAllAct']();},'stopAllAct':function(){this['stopAtk'](),this['stopMove']();},'executeAtk':function(_0xa68fa5){if(!this['atkStatus']['act']&&(this['atkStatus']['act']=!0x0,this['atkStatus']['durationTime']=_0xa68fa5+this['atkRemindTime']+this['atkFinishDelayTime'],this['atkStatus']['stopAtkTime']=_0xa68fa5+this['atkRemindTime'],this['atkStatus']['atkTime']=0x0,this['node']['emit']('AI-executeAtk'),this['scheduleOnce'](this['onAtk'],this['atkRemindTime']),this['atkTalk']['length']>0x0)){var _0x1c124c=_0xac006['randomRangeInt'](0x0,this['atkTalk']['length']-0x1);this['entity']['talk'](this['atkTalk'][_0x1c124c],null,1.5);}},'onAtk':function(){this['entity'][_0x3f7b('0xc')]&&(this['entity']['weaponCPT']['isAtking']=!0x0);},'updateAtkDir':function(_0xa68fa5){if(this['entity'][_0x3f7b('0xc')])if(this['atkStatus']['act']){var _0x1c124c=this[_0x3f7b('0xd')][_0x3f7b('0xe')]['normalize'](),_0x4af7f4=Math[_0x3f7b('0xf')](_0x1c124c['y'],_0x1c124c['x']),_0x385b5b=cc['misc']['radiansToDegrees'](_0x4af7f4),_0x295fee=(this['entity']['weaponCPT']['rad'],this['entity']['weaponCPT']['atkDeg']),_0x5a2548=(this[_0x3f7b('0x10')]['weaponCPT']['atkDirVec'],_0xac006['normalizeDeg'](_0x385b5b-_0x295fee)),_0xdf23b4=(_0x5a2548>0x0?0x1:-0x1)*Math['min'](this['atkDirChangeSpeed']*_0xa68fa5,Math['abs'](_0x5a2548)),_0x5e9105=_0xac006['normalizeDeg'](_0xdf23b4+_0x295fee),_0x3bf5d9=cc['misc']['degreesToRadians'](_0x5e9105);this['entity'][_0x3f7b('0xc')]['atkRad']=_0x3bf5d9,this['entity']['weaponCPT'][_0x3f7b('0x11')]=_0x5e9105,this['entity']['weaponCPT']['atkDirVec']=cc['v2'](Math['cos'](_0x3bf5d9),Math['sin'](_0x3bf5d9)),this[_0x3f7b('0x10')]['weaponCPT'][_0x3f7b('0x12')](_0x3bf5d9);}else{var _0x268ad9=this['commonStatus']['toTargetDir']['normalize'](),_0x30577d=Math['atan2'](_0x268ad9['y'],_0x268ad9['x']),_0x122700=cc['misc']['radiansToDegrees'](_0x30577d);this['entity']['weaponCPT']['atkRad']=_0x30577d,this['entity']['weaponCPT']['atkDeg']=_0x122700,this['entity']['weaponCPT']['atkDirVec']=_0x268ad9,this['entity']['weaponCPT']['setAtkDir'](_0x30577d);}},'stopAtk':function(){this['atkStatus']['act']&&(this['atkStatus']['act']=!0x1,this['unschedule'](this[_0x3f7b('0x13')]),this['entity']['weaponCPT']&&(this[_0x3f7b('0x10')]['weaponCPT']['isAtking']=!0x1),this['node']['emit']('AI-stopAtk'));},'randomMove':function(){var _0xa68fa5=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x1,_0x1c124c=0x2*Math['PI']*Math['random'](),_0x4af7f4=_0xac006['randomRange'](this['randomMoveDisMin'],this['randomMoveDisMax']),_0x385b5b=cc['v2'](Math['cos'](_0x1c124c)*_0x4af7f4,Math['sin'](_0x1c124c)*_0x4af7f4);return this['moveToPos'](this['commonStatus'][_0x3f7b('0x14')][_0x3f7b('0x15')](_0x385b5b),_0xa68fa5)[_0x3f7b('0x9')];},'stopMove':function(){this['moveStatus']['act']&&(this['moveStatus']['act']=!0x1,this['moveStatus'][_0x3f7b('0x16')]=0x0,this['node']['emit']('update-dir',{'dir':null}));},'updateMove':function(_0xa68fa5){this['moveStatus']['act']&&(this['moveStatus'][_0x3f7b('0x17')]+=_0xa68fa5,this['moveStatus']['movePoint']||this['getMovePoint'](),this[_0x3f7b('0x7')][_0x3f7b('0x18')]?this['moveToPoint']():this['stopMove']());},'moveToPoint':function(){var _0xa68fa5=this['moveStatus']['movePoint']['sub'](this['node']['position']);Math['abs'](_0xa68fa5['x'])<0x3&&Math[_0x3f7b('0x19')](_0xa68fa5['y'])<0x3?(this['moveStatus']['movePoint']=null,0x0===this['moveStatus']['pointArr']['length']?this['stopMove']():(this['getMovePoint'](),this['moveToPoint']())):this['node']['emit']('update-dir',{'dir':_0xa68fa5['normalize'](),'rad':Math['atan2'](_0xa68fa5['y'],_0xa68fa5['x'])});},'getMovePoint':function(){this['moveStatus']['movePoint']||(this['moveStatus']['movePoint']=this['moveStatus'][_0x3f7b('0x1a')]['pop']());},'moveToPos':function(_0xa68fa5){var _0x1c124c=this,_0x4af7f4=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0;if(this['moveStatus'][_0x3f7b('0x16')]>_0x4af7f4)return{'result':!0x0,'msg':_0x3f7b('0x1b')};var _0xac006=this['commonStatus'],_0x4e1f7c=_0x385b5b[_0x3f7b('0x1c')]['aStar'][_0x3f7b('0x1d')](this[_0x3f7b('0x1e')]['getTilePosByWp'](_0xac006['selfWP']),this['bindRoomCPT']['getTilePosByWp'](_0xa68fa5),this['mapValFunc']);if(_0x4e1f7c[0x0]){_0x4e1f7c['pop']();var _0xd60369=_0x4e1f7c['map'](function(_0xa68fa5){return _0x1c124c['bindRoomCPT']['convertToScenePos'](_0xa68fa5);});return this['setMovePoints'](_0xd60369),this['moveStatus']['act']=!0x0,this['moveStatus']['moveLevel']=_0x4af7f4,{'result':!0x0,'msg':'1'};}return{'result':!0x1,'msg':'blocked'};},'setMovePoints':function(_0xa68fa5){this['moveStatus']['pointArr']=_0xa68fa5,this['moveStatus']['movePoint']=null;},'findTarget':function(){var _0xa68fa5=_0x385b5b['PlayMgr']['heroEntity']&&_0x385b5b['PlayMgr']['heroEntity']['getComponent']('Entity'),_0x1c124c=_0x385b5b['PlayMgr']['heroMovingRoomCPT'];return _0x1c124c&&_0xa68fa5&&_0xa68fa5['isAlive']&&this['bindRoomCPT']&&_0x1c124c===this[_0x3f7b('0x1e')]?_0xa68fa5:null;}}),cc['_RF']['pop']();},{'Game':'Game','GameMath':'GameMath'}],'AStar':[function(_0x3fd24b,_0x48e803,_0x9260f5){'use strict';cc['_RF']['push'](_0x48e803,'2d00dzlAxBPFIqQ+cAxEn/0','AStar');var _0x40f0ce=function(){function _0x3fd24b(_0x3fd24b,_0x48e803){for(var _0x9260f5=0x0;_0x9260f5<_0x48e803['length'];_0x9260f5++){var _0x40f0ce=_0x48e803[_0x9260f5];_0x40f0ce['enumerable']=_0x40f0ce['enumerable']||!0x1,_0x40f0ce['configurable']=!0x0,'value'in _0x40f0ce&&(_0x40f0ce['writable']=!0x0),Object[_0x3f7b('0x1f')](_0x3fd24b,_0x40f0ce['key'],_0x40f0ce);}}return function(_0x48e803,_0x9260f5,_0x40f0ce){return _0x9260f5&&_0x3fd24b(_0x48e803['prototype'],_0x9260f5),_0x40f0ce&&_0x3fd24b(_0x48e803,_0x40f0ce),_0x48e803;};}();function _0x427bac(_0x3fd24b,_0x48e803){if(!(_0x3fd24b instanceof _0x48e803))throw new TypeError('Cannot\x20call\x20a\x20class\x20as\x20a\x20function');}var _0x4c34a9=function(){function _0x3fd24b(_0x48e803,_0x9260f5){_0x427bac(this,_0x3fd24b),this['x']=_0x48e803,this['y']=_0x9260f5,this['version']=!0x1,this['links']=null,this['linksLength']=0x0,this['parent']=null,this['nowCost']=0x0,this['mayCost']=0x0,this['next']=null,this['pre']=null,this['dist']=0x0;}return _0x40f0ce(_0x3fd24b,[{'key':'addLinks','value':function(_0x3fd24b,_0x48e803){this['links']=[],this['x']>0x0&&this['addL'](this['x']-0x1,this['y'],_0x3fd24b,_0x48e803),this['y']>0x0&&this['addL'](this['x'],this['y']-0x1,_0x3fd24b,_0x48e803),this['addL'](this['x']+0x1,this['y'],_0x3fd24b,_0x48e803),this['addL'](this['x'],this['y']+0x1,_0x3fd24b,_0x48e803);}},{'key':'addL','value':function(_0x48e803,_0x9260f5,_0x40f0ce,_0x427bac){var _0x4c34a9=_0x9260f5+'*'+_0x48e803;0x0===_0x427bac(_0x48e803,_0x9260f5)&&(_0x40f0ce[_0x4c34a9]||(_0x40f0ce[_0x4c34a9]=new _0x3fd24b(_0x48e803,_0x9260f5),this['links']['push'](_0x40f0ce[_0x4c34a9])));}}]),_0x3fd24b;}();cc['Class']({'extends':cc[_0x3f7b('0x20')],'properties':{},'ctor':function(){this['Init']();},'Init':function(){this[_0x3f7b('0x21')]=0x1388,this['startPoint']=cc['v2'](),this['endPoint']=cc['v2'](),this['path']=[],this['mapArr']={},this['pathValFunc']=function(_0x3fd24b,_0x48e803){return 0x0;};},'findPath':function(_0x3fd24b,_0x48e803,_0x9260f5){return this['startPoint']=_0x3fd24b,this['endPoint']=_0x48e803,this['pathValFunc']=_0x9260f5,this['path']=[],this['search'](),this['path'];},'search':function(){if(!(this['pathValFunc'](this['endPoint']['x'],this['endPoint']['y'])>0x0)){this['mapArr']={};var _0x3fd24b=new _0x4c34a9(this['startPoint']['x'],this['startPoint']['y']),_0x48e803=new _0x4c34a9(this['endPoint']['x'],this['endPoint']['y']),_0x9260f5=void 0x0,_0x40f0ce=void 0x0,_0x427bac=void 0x0,_0x5dc2da=void 0x0,_0x319831=void 0x0,_0x3a3e60=void 0x0,_0x17af14=void 0x0,_0x229901=Math['abs'](this['startPoint']['x']-this['endPoint']['x'])+Math['abs'](this[_0x3f7b('0x22')]['y']-this['endPoint']['y']),_0x36e772=[null,null];_0x36e772[0x0]=_0x3fd24b,_0x3fd24b['version']=!0x0,_0x3fd24b['nowCost']=0x0;for(var _0x3473d3=0x0;;){if('TiPja'!=='rZpZS'){if(++_0x3473d3>=this['findMax'])return void(this['path']=[]);if(_0x319831=_0x36e772[0x0],_0x36e772[0x0]=_0x319831['next'],_0x36e772[0x0]&&(_0x36e772[0x0][_0x3f7b('0x23')]=null),_0x319831['x']===_0x48e803['x']&&_0x319831['y']===_0x48e803['y'])return this['path']=[],void this['prunePath'](_0x3fd24b,_0x319831);for(_0x319831['links']||_0x319831['addLinks'](this['mapArr'],this['pathValFunc']),_0x40f0ce=(_0x17af14=_0x319831['links'])['length'],_0x9260f5=0x0;_0x9260f5<_0x40f0ce;_0x9260f5++)_0x3a3e60=_0x17af14[_0x9260f5],_0x427bac=_0x319831['nowCost']+0x1,_0x3a3e60['version']?(_0x3a3e60['pre']&&(_0x3a3e60[_0x3f7b('0x23')]['next']=_0x3a3e60['next']),_0x3a3e60['next']&&(_0x3a3e60['next']['pre']=_0x3a3e60['pre']),_0x36e772[0x1]===_0x3a3e60&&(_0x36e772[0x1]=_0x3a3e60['next']),_0x3a3e60['parent']=_0x319831,_0x3a3e60['nowCost']=_0x427bac,_0x3a3e60['mayCost']=_0x427bac+_0x3a3e60['dist'],_0x3a3e60['pre']=null,_0x3a3e60['next']=_0x36e772[0x0],_0x36e772[0x0]&&(_0x36e772[0x0]['pre']=_0x3a3e60),_0x36e772[0x0]=_0x3a3e60):(_0x3a3e60[_0x3f7b('0x24')]=!0x0,_0x3a3e60['parent']=_0x319831,_0x3a3e60['nowCost']=_0x427bac,_0x3a3e60['dist']=Math['abs'](this['endPoint']['x']-_0x3a3e60['x'])+Math['abs'](this['endPoint']['y']-_0x3a3e60['y']),_0x427bac+=_0x3a3e60['dist'],_0x3a3e60['mayCost']=_0x427bac,_0x427bac=_0x427bac-_0x229901>>0x1,_0x3a3e60['pre']=null,_0x3a3e60[_0x3f7b('0x25')]=_0x36e772[_0x427bac],_0x36e772[_0x427bac]&&(_0x36e772[_0x427bac]['pre']=_0x3a3e60),_0x36e772[_0x427bac]=_0x3a3e60);if(!_0x36e772[0x0]){if(!_0x36e772[0x1])break;_0x5dc2da=_0x36e772[0x0],_0x36e772[0x0]=_0x36e772[0x1],_0x36e772[0x1]=_0x5dc2da,_0x229901+=0x2;}}else{var _0x5b5067=this['node']['getAnchorPoint'](),_0x3817bb=this['node']['getContentSize'](),_0x45466f=this['_tiledMap']['getTileSize'](),_0x58be6f=Math['floor']((_0x3fd24b['x']+_0x5b5067['x']*_0x3817bb['width'])/_0x45466f[_0x3f7b('0x26')]),_0x1ff8bd=Math['floor']((_0x3817bb['height']-(_0x3fd24b['y']+_0x5b5067['y']*_0x3817bb['height']))/_0x45466f['height']);return cc['v2'](_0x58be6f,_0x1ff8bd);}}}},'prunePath':function(_0x3fd24b,_0x48e803){if(this['startPoint']['x']!==this['endPoint']['x']||this['startPoint']['y']!==this['endPoint']['y'])for(var _0x9260f5=_0x48e803,_0x40f0ce=_0x9260f5['x']-_0x48e803['x'],_0x427bac=_0x9260f5['y']-_0x48e803['y'],_0x4c34a9=void 0x0,_0x38313b=void 0x0,_0x39cdff=void 0x0,_0x34a3a8=void 0x0;;){if(_0x9260f5['x']===_0x3fd24b['x']&&_0x9260f5['y']===_0x3fd24b['y'])return void(this['path'][this['path'][_0x3f7b('0x27')]]=cc['v2'](_0x9260f5['x'],_0x9260f5['y']));_0x39cdff=_0x9260f5['parent'],_0x4c34a9=_0x9260f5['x'],_0x38313b=_0x9260f5['y'],_0x39cdff!=_0x3fd24b&&(_0x34a3a8=_0x39cdff['parent'],0x1===Math['abs'](_0x34a3a8['x']-_0x4c34a9)&&0x1===Math['abs'](_0x34a3a8['y']-_0x38313b)&&0x0===this[_0x3f7b('0x28')](_0x34a3a8['x'],_0x38313b)&&0x0===this['pathValFunc'](_0x4c34a9,_0x34a3a8['y'])&&(_0x39cdff=_0x34a3a8)),_0x39cdff['x']-_0x4c34a9==_0x40f0ce&&_0x39cdff['y']-_0x38313b==_0x427bac?_0x9260f5=_0x39cdff:(_0x40f0ce=_0x39cdff['x']-_0x4c34a9,_0x427bac=_0x39cdff['y']-_0x38313b,this['path'][this['path']['length']]=cc['v2'](_0x9260f5['x'],_0x9260f5['y']),_0x9260f5=_0x39cdff);}}}),cc['_RF']['pop']();},{}],'AtkUnit':[function(_0x49fc22,_0x17e7dd,_0x99805c){'use strict';cc['_RF']['push'](_0x17e7dd,'dee85iSgedOs5C8RjXGLrYw','AtkUnit'),cc['Class']({'extends':cc['Component'],'properties':{},'start':function(){}}),cc['_RF']['pop']();},{}],'AudioMgr':[function(_0x2b30b2,_0x57042d,_0x50d8a4){'use strict';cc['_RF']['push'](_0x57042d,'0f2aeV86v1OfbF017I1JTeA','AudioMgr');var _0x343afa=_0x2b30b2('Game');cc['Class']({'extends':cc['Component'],'properties':{},'onLoad':function(){},'init':function(){cc['audioEngine']['setMusicVolume'](0.3),cc['audioEngine']['setEffectsVolume'](0.25),_0x343afa['Data']['node']['on']('playerSwitchChange',this['onPlayerSwitchChange'],this),cc['game']['on'](cc['game']['EVENT_SHOW'],this['onGameShow'],this);},'onPlayerSwitchChange':function(_0x2b30b2){'audioMusic'===_0x2b30b2&&this['updateMusic']();},'playBgm':function(_0x2b30b2){var _0x57042d=!(arguments['length']>0x1&&void 0x0!==arguments[0x1])||arguments[0x1];_0x343afa[_0x3f7b('0x29')]['getAudioClip'](_0x2b30b2,function(_0x2b30b2){cc['audioEngine']['playMusic'](_0x2b30b2,_0x57042d);}),this['updateMusic']();},'playEffect':function(_0x2b30b2){var _0x57042d=arguments['length']>0x1&&void 0x0!==arguments[0x1]&&arguments[0x1];_0x343afa['Data']['playerData']['audioEffect']&&_0x343afa['ResMgr']['getAudioClip'](_0x2b30b2,function(_0x2b30b2){cc['audioEngine']['playEffect'](_0x2b30b2,_0x57042d);});},'onGameShow':function(){cc['audioEngine']['setEffectsVolume'](0.25),this[_0x3f7b('0x2a')]();},'updateMusic':function(){_0x343afa['Data'][_0x3f7b('0x2b')]['audioMusic']?(cc[_0x3f7b('0x2c')]['setMusicVolume'](0.3),cc[_0x3f7b('0x2c')]['resumeMusic']()):(cc['audioEngine'][_0x3f7b('0x2d')](0x0),cc['audioEngine']['pauseMusic']());},'playCommonClickEffect':function(){this['playEffect']('click');}}),cc['_RF']['pop']();},{'Game':'Game'}],'Building':[function(_0x5b23dc,_0x2ddecf,_0x1fb2af){'use strict';cc['_RF']['push'](_0x2ddecf,'3ecd7eF1ZFDg40UzhtAYko2','Building'),cc['Class']({'extends':cc['Component'],'properties':{},'onLoad':function(){}}),cc['_RF']['pop']();},{}],'Bullet-0':[function(_0x5f5457,_0x300a38,_0x169fd9){'use strict';cc['_RF']['push'](_0x300a38,'a2141JTCr5LEIAbQJTZEtX7','Bullet-0');var _0x306e91=_0x5f5457('Bullet'),_0x29b3a7=_0x5f5457('Game');cc['Class']({'extends':_0x306e91,'properties':{'effColor':new cc['Color'](0xff,0xff,0xff)},'onLoad':function(){this['rigidbody']=this['node']['getComponent'](cc['RigidBody']),this[_0x3f7b('0x2e')]=!0x1,this['newLinearVec']=null;},'destroyByOther':function(){this['hitData'][_0x3f7b('0x2f')]&&(_0x29b3a7['PlayMgr']['spawnCommonHitEff'](this['node']['convertToWorldSpace'](cc['v2']()),this['effColor']),this['toDestroy']());},'toDestroy':function(){this['isInvalid']||(_0x29b3a7['PoolMgr']['put'](this['poolId'],this['node']),this['isInvalid']=!0x0);},'fire':function(_0x5f5457,_0x300a38){this['isInvalid']=!0x1,this['node'][_0x3f7b('0x30')]=-_0x300a38,this['rigidbody']['linearVelocity']=_0x5f5457,this['fireLinearVelocity']=_0x5f5457;},'onBeginContact':function(_0x5f5457,_0x300a38,_0x169fd9){if(0x0===_0x169fd9[_0x3f7b('0x31')])if(this['isInvalid'])_0x5f5457['disabled']=!0x0;else{var _0x306e91=_0x5f5457['getWorldManifold'](),_0x2c1507=_0x306e91['points'],_0x52ba2f=_0x29b3a7['PlayMgr'],_0x2e7948=_0x169fd9['node']['getComponent']('Entity'),_0xdd774a=_0x169fd9['node'][_0x3f7b('0x32')]('Bullet');if(_0x2e7948){if('Awpav'!=='rAMdK'){if(!_0x2e7948['isAlive'])return void(_0x5f5457['disabled']=!0x0);_0x29b3a7['Data']['handleHit'](_0x2e7948['getEntityId'](),this['hitData']),this['hitData']['isPierce']&&(_0x2e7948['rigidBody']&&_0x2e7948['rigidBody']['applyLinearImpulse'](this['fireLinearVelocity'],_0x2e7948[_0x3f7b('0x33')]['getWorldCenter'](),!0x0),_0x5f5457['disabled']=!0x0);}else{this['inRangeTargets']['add'](_0x5f5457),null===this['selectTagget']&&(this['selectTagget']=_0x5f5457,this['updateSelectOperatedTarget'](this['selectTagget']));}}if(_0xdd774a)_0x5f5457['disabled']=!0x0;else if(_0x52ba2f[_0x3f7b('0x34')](_0x2c1507[0x0],this[_0x3f7b('0x35')]),!_0x5f5457['disabled']&&!this['newLinearVec'])if(0x0===this['hitData']['rebound'])this['toDestroy']();else{this['hitData']['rebound']-=0x1;var _0x104782=_0x306e91['normal'],_0x1f39a5=this['fireLinearVelocity'],_0x262ae9=_0x1f39a5['sub'](_0x104782['mul'](0x2*_0x1f39a5[_0x3f7b('0x36')](_0x104782)));this['newLinearVec']=_0x262ae9;}}else _0x5f5457['disabled']=!0x0;},'onPostSolve':function(_0x5f5457,_0x300a38,_0x169fd9){var _0x306e91=this;this['isInvalid']||this['newLinearVec']&&(this['rigidbody']['linearVelocity']=this[_0x3f7b('0x37')],this['fireLinearVelocity']=this['newLinearVec'],this['scheduleOnce'](function(){_0x306e91['node']['rotation']=-cc['misc']['radiansToDegrees'](Math[_0x3f7b('0xf')](_0x306e91['fireLinearVelocity']['y'],_0x306e91['fireLinearVelocity']['x']));},0x0),this['newLinearVec']=null);}}),cc['_RF']['pop']();},{'Bullet':'Bullet','Game':'Game'}],'Bullet-11':[function(_0x47bae7,_0x2f7172,_0x48c435){'use strict';cc['_RF']['push'](_0x2f7172,'809daVge7hNRZtJQTYEXJen','Bullet-11');var _0x1e7c93=_0x47bae7(_0x3f7b('0x38')),_0x285c0f=_0x47bae7('Game');cc['Class']({'extends':_0x1e7c93,'properties':{'effColor':new cc['Color'](0xff,0xff,0xff)},'onLoad':function(){this[_0x3f7b('0x39')]=this['node']['getComponent'](cc['RigidBody']),this['isInvalid']=!0x1,this['newLinearVec']=null;},'destroyByOther':function(){this['hitData']['canDestroyByOther']&&this['toDestroy']();},'toDestroy':function(){if(!this['isInvalid']){_0x285c0f['PoolMgr']['put'](this['poolId'],this['node']),this['isInvalid']=!0x0;var _0x47bae7=this['node']['convertToWorldSpaceAR'](cc['v2']());_0x285c0f['PlayMgr']['spawnOnceAnimByPrefab'](_0x285c0f['ResMgr'][_0x3f7b('0x3a')]('prefabs/misc/explosive'),_0x47bae7),_0x285c0f['PlayMgr']['shakerScene'](),_0x285c0f['AudioMgr']['playEffect']('boom-0');var _0x2f7172=cc['v2'](0x55,0x55),_0x48c435=cc['Rect']['fromMinMax'](_0x47bae7[_0x3f7b('0x3b')](_0x2f7172),_0x47bae7['add'](_0x2f7172)),_0x1e7c93=cc['director']['getPhysicsManager']()['testAABB'](_0x48c435),_0x19fc87=_0x285c0f['Data']['createSimpleHitData'](0x3c),_0x36f14c=_0x285c0f['Const']['GroupCamp'][this['node']['group']],_0x59a2a3=!0x0,_0x532d96=!0x1,_0x1daab4=void 0x0;try{for(var _0x15446c,_0x9eed56=_0x1e7c93[Symbol['iterator']]();!(_0x59a2a3=(_0x15446c=_0x9eed56['next']())['done']);_0x59a2a3=!0x0){var _0x217913=_0x15446c['value'],_0x57a041=_0x217913['node']['getComponent'](_0x3f7b('0x3c'));if(_0x57a041&&_0x57a041['isAlive']&&0x0===_0x217913['tag']){if(_0x57a041['rigidBody']){var _0x249d85=_0x217913['node'][_0x3f7b('0x3d')]['sub'](this['node']['position'])['normalize']()['mulSelf'](0xfa0);_0x57a041['rigidBody']['applyLinearImpulse'](_0x249d85,_0x57a041['rigidBody']['getWorldCenter'](),!0x0);}_0x285c0f['Const']['GroupCamp'][_0x57a041['node']['group']]!==_0x36f14c&&_0x285c0f['Data']['handleHit'](_0x57a041['getEntityId'](),_0x19fc87);}}}catch(_0x4223fc){_0x532d96=!0x0,_0x1daab4=_0x4223fc;}finally{try{!_0x59a2a3&&_0x9eed56['return']&&_0x9eed56['return']();}finally{if(_0x532d96)throw _0x1daab4;}}}},'fire':function(_0x47bae7,_0x2f7172){this[_0x3f7b('0x2e')]=!0x1,this['node']['rotation']=-_0x2f7172,this['rigidbody']['linearVelocity']=_0x47bae7,this['fireLinearVelocity']=_0x47bae7;},'onBeginContact':function(_0x47bae7,_0x2f7172,_0x48c435){if(0x0===_0x48c435['tag'])if(this[_0x3f7b('0x2e')])_0x47bae7[_0x3f7b('0x3e')]=!0x0;else{var _0x1e7c93=_0x48c435['node']['getComponent']('Entity'),_0x285c0f=_0x48c435['node']['getComponent']('Bullet');!_0x1e7c93||_0x1e7c93[_0x3f7b('0x3f')]?_0x285c0f?_0x47bae7['disabled']=!0x0:this['toDestroy']():_0x47bae7['disabled']=!0x0;}else _0x47bae7['disabled']=!0x0;}}),cc['_RF']['pop']();},{'Bullet':'Bullet','Game':'Game'}],'Bullet-3':[function(_0x5d22b0,_0x56dc0c,_0xa37d99){'use strict';cc['_RF']['push'](_0x56dc0c,'a5e07DkYfBLqp0w2vDIqY6P','Bullet-3');var _0x5598d1=_0x5d22b0('Bullet'),_0x2b7e07=_0x5d22b0('Game');cc['Class']({'extends':_0x5598d1,'properties':{'effColor':new cc['Color'](0xff,0xff,0xff)},'onLoad':function(){this['rigidbody']=this['node']['getComponent'](cc['RigidBody']),this['collider']=this['getComponent'](cc['PhysicsCollider']),this['collider']['enabled']=!0x1;},'fire':function(_0x5d22b0){this['node']['rotation']=-_0x5d22b0;},'validStart':function(){this['collider']['enabled']=!0x0;},'validEnd':function(){this['collider']['enabled']=!0x1;},'animEnd':function(){this['node']['destroy']();},'onBeginContact':function(_0x5d22b0,_0x56dc0c,_0xa37d99){if(0x0===_0xa37d99['tag']){_0x5d22b0['disabled']=!0x0;var _0x5598d1=_0xa37d99['node']['getComponent']('Bullet');if(_0x5598d1)_0x5598d1[_0x3f7b('0x40')]();else{var _0x18930e=_0xa37d99['node']['getComponent']('Entity');if(_0x18930e&&_0x18930e['isAlive']){var _0x4f9873=_0x5d22b0['getWorldManifold']()['points'];if(_0x2b7e07['PlayMgr']['spawnCommonHitEff'](_0x4f9873[0x0],this['effColor']),_0x18930e['rigidBody']){if('bDFEm'!=='bDFEm'){this['status']=!0x1;}else{var _0x5e2928=_0xa37d99[_0x3f7b('0x41')]['position']['sub'](this['node']['position'])['normalize']()['mulSelf'](0x578);_0x18930e['rigidBody']['applyLinearImpulse'](_0x5e2928,_0x18930e['rigidBody']['getWorldCenter'](),!0x0);}}_0x2b7e07['Data']['handleHit'](_0x18930e['getEntityId'](),this['hitData']);}}}else _0x5d22b0['disabled']=!0x0;}}),cc['_RF']['pop']();},{'Bullet':'Bullet','Game':'Game'}],'Bullet':[function(_0x140f6e,_0xc923d8,_0x46b96d){'use strict';cc['_RF']['push'](_0xc923d8,'d6d9e2AtZFGu4ypNgPailFE','Bullet'),cc['Class']({'extends':cc['Component'],'properties':{},'destroyByOther':function(_0x140f6e){},'setHitData':function(_0x140f6e){this['hitData']=_0x140f6e;}}),cc['_RF']['pop']();},{}],'CameraFollow':[function(_0x4ff226,_0x2390dd,_0x121ff7){'use strict';cc['_RF']['push'](_0x2390dd,'29729EmAzVLgqmp/8NMxpuR',_0x3f7b('0x42')),cc['Class']({'extends':cc['Component'],'properties':{'camera':cc['Camera']},'onLoad':function(){this[_0x3f7b('0x1')]=null;},'setTarget':function(_0x4ff226){this['target']=_0x4ff226;},'update':function(_0x4ff226){if(this['target']){var _0x2390dd=this['target']['convertToWorldSpaceAR'](cc['v2']()),_0x121ff7=this['camera']['getWorldToCameraPoint'](_0x2390dd)['sub'](cc[_0x3f7b('0x43')]['center']);this[_0x3f7b('0x41')]['position']=this['node'][_0x3f7b('0x3d')]['lerp'](this['node']['position']['addSelf'](_0x121ff7),0.1);}}}),cc['_RF']['pop']();},{}],'CommonSwitch':[function(_0x25fb5f,_0xcdf5b5,_0x27df05){'use strict';cc['_RF']['push'](_0xcdf5b5,'ae063q4SdZAq6V/ZGC9Q4Ev','CommonSwitch'),cc['Class']({'extends':cc['Component'],'properties':{'dataKey':cc['String'],'openSP':cc['Node'],'closeSP':cc['Node']},'ctor':function(){this['status']=!0x1;},'onEnable':function(){if('ONHtG'!=='ONHtG'){this['isAtking']=!0x1,this['atkForbid']=0x0,this['poolId']=null,this['warningDelay']=!0x1,this['isFiring']=!0x1;}else{this['scheduleOnce'](this['updateStatus'],0x0),this['node']['on'](cc['Node']['EventType']['TOUCH_START'],this['onTouchStart'],this);}},'onDisable':function(){this['node']['off'](cc['Node']['EventType']['TOUCH_START'],this[_0x3f7b('0x44')],this);},'onTouchStart':function(){if('ssuuA'!=='kWoOz'){Game['AudioMgr']['playCommonClickEffect'](),Game['Data'][_0x3f7b('0x45')](this['dataKey']),this['updateStatus']();}else{var _0x3bc2f9=_0x27df05['node']['getComponent']('Entity');_0x3bc2f9&&(_0x25fb5f['disabled']=!_0x3bc2f9['isAlive']);}},'updateStatus':function(){this['status']=Game['Data'][_0x3f7b('0x2b')][this['dataKey']],this['openSP']['active']=this['status'],this['closeSP']['active']=!this['status'];}}),cc['_RF']['pop']();},{}],'Config':[function(_0x347ad6,_0x317df4,_0x9e01b5){'use strict';var _0x51d968;function _0x55ec23(_0x347ad6,_0x317df4,_0x9e01b5){return _0x317df4 in _0x347ad6?Object['defineProperty'](_0x347ad6,_0x317df4,{'value':_0x9e01b5,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x347ad6[_0x317df4]=_0x9e01b5,_0x347ad6;}cc['_RF']['push'](_0x317df4,'ca61cNK3f9PqIybU9BacsKj',_0x3f7b('0x46'));var _0x1ee11=_0x347ad6('Const'),_0x38ed5=_0x347ad6(_0x3f7b('0x47')),_0x415953=_0x317df4['exports']={};_0x415953['Color']={'WHITE':cc['color'](0xff,0xff,0xff),'GREEN':cc['color'](0x1e,0xff,0x28),'BLUE':cc['color'](0x0,0x82,0xff),'RED':cc['color'](0xff,0x28,0x28),'ORANGE':cc['color'](0xff,0x7f,0x0),'BLACK':cc['color'](0x0,0x0,0x0),'YELLOW':cc['color'](0xff,0xeb,0x4),'GRAY':cc['color'](127.5,127.5,127.5)},_0x415953[_0x3f7b('0x48')]=(_0x55ec23(_0x51d968={},0x0,_0x415953['Color']['WHITE']),_0x55ec23(_0x51d968,0x1,_0x415953['Color']['GREEN']),_0x55ec23(_0x51d968,0x2,_0x415953[_0x3f7b('0x49')]['BLUE']),_0x55ec23(_0x51d968,0x3,_0x415953['Color']['RED']),_0x55ec23(_0x51d968,0x4,_0x415953['Color']['ORANGE']),_0x51d968),_0x415953['RoomCfg']=[{'theme':0x1,'roomType':_0x1ee11['RoomType']['BORN'],'assetName':'map8'},{'theme':0x1,'roomType':_0x1ee11['RoomType']['BORN'],'assetName':'map1'},{'theme':0x2,'roomType':_0x1ee11['RoomType']['BORN'],'assetName':'m1'},{'theme':0x1,'roomType':_0x1ee11['RoomType'][_0x3f7b('0x4a')],'assetName':'map4'},{'theme':0x2,'roomType':_0x1ee11['RoomType']['PATHX'],'assetName':'m2'},{'theme':0x1,'roomType':_0x1ee11['RoomType'][_0x3f7b('0x4b')],'assetName':'map2'},{'theme':0x2,'roomType':_0x1ee11['RoomType'][_0x3f7b('0x4b')],'assetName':'m3'},{'theme':0x1,'roomType':_0x1ee11['RoomType']['TREASURE_BOX'],'assetName':'map7'},{'theme':0x2,'roomType':_0x1ee11['RoomType']['TREASURE_BOX'],'assetName':'m4'},{'theme':0x1,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'map3','spawnEnemyIds':[0x1,0x2]},{'theme':0x1,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'map5','spawnEnemyIds':[0x1,0x2]},{'theme':0x1,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'map9','spawnEnemyIds':[0x1,0x2]},{'theme':0x1,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':_0x3f7b('0x4c'),'spawnEnemyIds':[0x1,0x2]},{'theme':0x1,'roomType':_0x1ee11['RoomType'][_0x3f7b('0x4d')],'assetName':'map11','spawnEnemyIds':[0x1,0x2]},{'theme':0x1,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':_0x3f7b('0x4e'),'spawnEnemyIds':[0x1,0x2]},{'theme':0x1,'roomType':_0x1ee11[_0x3f7b('0x4f')]['FIGHTING'],'assetName':_0x3f7b('0x50'),'spawnEnemyIds':[0x1,0x2]},{'theme':0x1,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'map14','spawnEnemyIds':[0x1,0x2]},{'theme':0x1,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'map16','spawnEnemyIds':[0x1,0x2]},{'theme':0x2,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'m6','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x2,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'m7','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x2,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'m8','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x2,'roomType':_0x1ee11[_0x3f7b('0x4f')]['FIGHTING'],'assetName':'m9','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x2,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'m10','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x2,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'m11','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x2,'roomType':_0x1ee11[_0x3f7b('0x4f')][_0x3f7b('0x4d')],'assetName':'m12','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x2,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'m13','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x2,'roomType':_0x1ee11['RoomType']['FIGHTING'],'assetName':'m14','spawnEnemyIds':[0x2,0x3,0x4]},{'theme':0x1,'roomType':_0x1ee11['RoomType']['BOSS'],'assetName':'map6','spawnEnemyIds':[0x6]},{'theme':0x2,'roomType':_0x1ee11['RoomType']['BOSS'],'assetName':'m5','spawnEnemyIds':[0x5]}],_0x415953['PlayLevelCfg']=[{'theme':0x1,'roomCountRange':{'min':0x8,'max':0xa},'bossRoomCfgId':_0x415953['RoomCfg']['length']-0x2},{'theme':0x2,'roomCountRange':{'min':0xa,'max':0xc},'bossRoomCfgId':_0x415953['RoomCfg'][_0x3f7b('0x27')]-0x1}];var _0x36deac={};_0x415953['roomThemeMap']=_0x36deac,_0x415953['RoomCfg']['forEach'](function(_0x347ad6,_0x317df4){_0x347ad6['id']=_0x317df4,_0x38ed5['pushToArrMap'](_0x36deac,_0x347ad6['theme'],_0x347ad6);});var _0x10af02={};_0x415953['roomThemeAndRoomMap']=_0x10af02;var _0x24ce89=function(_0x347ad6){_0x10af02[_0x347ad6]=_0x10af02[_0x347ad6]||{},_0x36deac[_0x347ad6]['forEach'](function(_0x317df4){if('arpTe'==='GpuBp'){this['heroEntity']&&this['selectTagget']&&this['selectTagget']['getComponent']('Item')['interaction']();}else{_0x38ed5['pushToArrMap'](_0x10af02[_0x347ad6],_0x317df4['roomType'],_0x317df4);}});};for(var _0x3ec8bc in _0x36deac)_0x24ce89(_0x3ec8bc);_0x415953['tileSize']=cc[_0x3f7b('0x51')](0x28,0x28),_0x415953['tiledMapLayerCfg']={'layer4':{'group':_0x1ee11['Group']['MAP'],'offset':cc['v2'](0x0,0x0)},'layer3':{'group':_0x1ee11['Group']['MAP_UPPER'],'offset':cc['v2'](0x0,0x14)},'layer2':{'group':_0x1ee11['Group']['MAP'],'offset':cc['v2'](0x0,-0x14)},'layer1':{'group':_0x1ee11['Group']['MAP'],'offset':cc['v2'](0x0,0x0)}},_0x415953['commonTiledMapGID']={'DOOR':0x8,'NULL':0xd,'BLOCK':0xc,'FRAGILE_BOX':0x19,'EXPLOSIVE_BOX':0x1e,'THORN':0x1f,'THORN_HIDE':0x2a},_0x415953['tiledMapPathLength']=0x2d,_0x415953['getRoomCfg']=function(_0x347ad6){return _0x415953['RoomCfg'][_0x347ad6];},_0x415953['ItemCfg']=[{'id':0x0,'type':_0x1ee11[_0x3f7b('0x52')]['NONE'],'name':'none'},{'id':0x1,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x0,'poolInfo':[0x0,0x0],'name':'铁铲','energyCostVal':0x0,'damageVal':0x19,'criticalRate':0.1,'destroyOther':!0x0,'canDestroyByOther':!0x1},{'id':0x2,'type':_0x1ee11[_0x3f7b('0x52')]['WEAPON'],'grade':0x2,'poolInfo':[0xc,0x14],'name':'火焰机枪','energyCostVal':0x3,'damageVal':0xa,'criticalRate':0x0,'rebound':0x0},{'id':0x3,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x0,'poolInfo':[0x6,0xa],'name':'小手枪','energyCostVal':0x0,'damageVal':0xc,'criticalRate':0x0},{'id':0x4,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x0,'poolInfo':[0x3,0x6],'name':'破旧的手枪','energyCostVal':0x0,'damageVal':0xf,'criticalRate':0x0},{'id':0x5,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x3,'poolInfo':[0x1,0x1],'name':'狙击枪','energyCostVal':0xa,'damageVal':0x3c,'criticalRate':0.5,'isPierce':!0x0,'rebound':0x2},{'id':0x6,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x2,'poolInfo':[0x8,0x10],'name':'霰弹枪','energyCostVal':0x6,'damageVal':0xf,'criticalRate':0x0,'rebound':0x0},{'id':0x7,'type':_0x1ee11[_0x3f7b('0x52')][_0x3f7b('0x53')],'grade':0x1,'poolInfo':[0x0,0x0],'name':'咸鱼突刺','energyCostVal':0x0,'damageVal':0x14,'criticalRate':0.3,'destroyOther':!0x0,'canDestroyByOther':!0x1},{'id':0x8,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x1,'poolInfo':[0x7,0xf],'name':'冲锋枪','energyCostVal':0x1,'damageVal':0xc,'criticalRate':0.1},{'id':0x9,'type':_0x1ee11['ItemType'][_0x3f7b('0x53')],'grade':0x3,'poolInfo':[0xa,0x14],'name':'弹性毒素','energyCostVal':0x2,'damageVal':0xf,'criticalRate':0x0,'isPierce':!0x1,'rebound':0x5},{'id':0xa,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x0,'poolInfo':[0x3,0x6],'name':'破旧的机关枪','energyCostVal':0x0,'damageVal':0xa,'criticalRate':0x0},{'id':0xb,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x2,'poolInfo':[0x1,0x1],'name':'火箭筒','energyCostVal':0x8,'damageVal':0x14,'criticalRate':0x0},{'id':0xc,'type':_0x1ee11['ItemType']['WEAPON'],'grade':0x2,'poolInfo':[0x0,0x0],'name':'激光','energyCostVal':0x1,'damageVal':0x8,'criticalRate':0x0}],_0x415953['ItemCfg'][0x64]={'id':0x64,'grade':0x1,'type':_0x1ee11[_0x3f7b('0x52')]['TREASURE_BOX'],'name':'宝\x20箱'},_0x415953['ItemCfg'][0x65]={'id':0x65,'grade':0x4,'type':_0x1ee11['ItemType']['TREASURE_BOX'],'name':'铂金宝箱'},_0x415953['ItemCfg'][0x66]={'id':0x66,'grade':0x3,'type':_0x1ee11['ItemType']['TREASURE_BOX'],'name':'黄金宝箱'},_0x415953['ItemCfg'][0xc8]={'id':0xc8,'type':_0x1ee11['ItemType']['NEXT_LEVEL_ENTRANCE'],'name':'传送阵'},_0x415953['ItemCfg'][0x12c]={'id':0x12c,'grade':0x3,'type':_0x1ee11['ItemType']['ONCE_ITEM'],'name':'生命药水'},_0x415953['ItemCfg'][0x190]={'id':0x190,'type':_0x1ee11['ItemType']['EQUIPMENT'],'grade':0x4,'name':'子弹穿透'},_0x415953['ItemCfg'][0x191]={'id':0x191,'type':_0x1ee11['ItemType']['EQUIPMENT'],'grade':0x4,'name':'子弹反弹'},_0x415953['ItemCfg'][0x192]={'id':0x192,'type':_0x1ee11['ItemType']['EQUIPMENT'],'grade':0x1,'name':'血量上限+30'},_0x415953['ItemCfg'][0x193]={'id':0x193,'type':_0x1ee11['ItemType']['EQUIPMENT'],'grade':0x1,'name':'护盾上限+10'},_0x415953['ItemCfg'][0x194]={'id':0x194,'type':_0x1ee11['ItemType'][_0x3f7b('0x54')],'grade':0x1,'name':'能量上限+50'},_0x415953['ItemCfg'][0x195]={'id':0x195,'type':_0x1ee11[_0x3f7b('0x52')]['EQUIPMENT'],'grade':0x2,'name':'移动速度提高'},_0x415953[_0x3f7b('0x55')][0x196]={'id':0x196,'type':_0x1ee11['ItemType']['EQUIPMENT'],'grade':0x3,'name':'暴击率+30%'},_0x415953['getItemName']=function(_0x347ad6){return _0x415953['ItemCfg'][_0x347ad6]?_0x415953[_0x3f7b('0x55')][_0x347ad6]['name']:'null';},_0x415953['getItemColor']=function(_0x347ad6){var _0x317df4=_0x415953[_0x3f7b('0x55')][_0x347ad6];return Game['Config']['ItemGradeColor'][_0x317df4['grade']||0x0];},_0x415953['enemyCfg']=[{'id':0x0,'name':''},{'id':0x1,'type':0x2,'name':_0x3f7b('0x56'),'deadTalk':{'rate':0.2,'talks':[{'str':'呃','delayTime':0x0,'time':0.6},{'str':'我觉得我还可抢救一下','delayTime':0.8,'time':0x1}]},'attrs':{'maxHP':0x3c,'usingWeaponID':0x1}},{'id':0x2,'type':0x2,'name':'蝼蚁','deadTalk':{'rate':0.2,'talks':[{'str':'啊','delayTime':0x0,'time':0.5},{'str':'我的人生','delayTime':0x1,'time':0.8},{'str':'一片无悔','delayTime':2.1,'time':0x1}]},'attrs':{'maxHP':0x2d,'usingWeaponID':0x4}},{'id':0x3,'type':0x2,'name':'蝼蚁','deadTalk':{'rate':0.3,'talks':[{'str':'我想起那天夕阳下的奔跑','delayTime':0.7,'time':1.2},{'str':'那是我逝去的青春','delayTime':0x2,'time':1.5}]},'attrs':{'maxHP':0x46,'usingWeaponID':0x7}},{'id':0x4,'type':0x2,'name':'蝼蚁','deadTalk':{'rate':0.3,'talks':[{'str':'我没死','delayTime':0.7,'time':1.2},{'str':'只是睡着了','delayTime':0x2,'time':1.5}]},'attrs':{'maxHP':0x5a,'usingWeaponID':0xa}}],_0x415953['enemyCfg'][0x5]={'id':0x5,'type':0x3,'name':'快枪手','deadTalk':{'rate':0x1,'talks':[{'str':'我居然输了!!!','delayTime':0x0,'time':0x1},{'str':'你','delayTime':1.2,'time':0.8},{'str':'开挂了吧!','delayTime':2.2,'time':0x2}]},'attrs':{'maxHP':0xc80,'usingWeaponID':0x2}},_0x415953['enemyCfg'][0x6]={'id':0x6,'type':0x3,'name':'老咸鱼','deadTalk':{'rate':0x1,'talks':[{'str':'呃啊~','delayTime':0x0,'time':0x1},{'str':'我只是想安安静静的做一条咸鱼','delayTime':1.2,'time':0x3}]},'attrs':{'maxHP':0x4b0,'usingWeaponID':0x7}},cc['_RF']['pop']();},{'Const':_0x3f7b('0x57'),'GameFunc':'GameFunc'}],'Const':[function(_0x4e4341,_0x5a3eb0,_0x281d6a){'use strict';var _0x5070ea;function _0x5345b1(_0x4e4341,_0x5a3eb0,_0x281d6a){return _0x5a3eb0 in _0x4e4341?Object[_0x3f7b('0x1f')](_0x4e4341,_0x5a3eb0,{'value':_0x281d6a,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x4e4341[_0x5a3eb0]=_0x281d6a,_0x4e4341;}cc[_0x3f7b('0x58')]['push'](_0x5a3eb0,'1d3a6WwxudJ0bgE+46MNtGk','Const');var _0x40dc82=_0x5a3eb0['exports']={'gameName':'EnterTheDungeon'};_0x40dc82['localStorageKey']={'OPEN_MUSIC':'OPEN_MUSIC','OPEN_EFFECT':'OPEN_EFFECT'},_0x40dc82['HeroDirection']={'NONE':0x0,'LEFT':0x1,'RIGHT':0x2},_0x40dc82['Direction']={'NONE':0x0,'UP':0x1,'DOWN':0x2,'LEFT':0x3,'RIGHT':0x4},_0x40dc82['NegDirection']={0:0x0,1:0x2,2:0x1,3:0x4,4:0x3},_0x40dc82['Group']={'DEFAULT':'default','HERO':_0x3f7b('0x59'),'ENEMY':'enemy','BULLET':'bullet','ENEMY_BULLET':'enemyBullet','MAP':_0x3f7b('0x5a'),'MAP_UPPER':'mapUpper','BUILDING':'building','EFFECT':'effect','HERO_OPERATED_RANGE':'heroOperatedRange'},_0x40dc82['GroupCamp']=(_0x5345b1(_0x5070ea={},_0x40dc82['Group']['HERO'],0x0),_0x5345b1(_0x5070ea,_0x40dc82['Group']['BULLET'],0x0),_0x5345b1(_0x5070ea,_0x40dc82['Group']['ENEMY'],0x1),_0x5345b1(_0x5070ea,_0x40dc82['Group']['ENEMY_BULLET'],0x1),_0x5070ea),_0x40dc82[_0x3f7b('0x4f')]={'NONE':0x0,'BORN':0x1,'PATHX':0x2,'PATHY':0x3,'FIGHTING':0x4,'BOSS':0x5,'TREASURE_BOX':0x6},_0x40dc82['ItemType']={'NONE':0x0,'WEAPON':0x1,'ONCE_ITEM':0x2,'EQUIPMENT':0x3,'TREASURE_BOX':0x64,'NEXT_LEVEL_ENTRANCE':0xc8},_0x40dc82['EntityType']={'NONE':0x0,'HERO':0x1,'ENEMY1':0x2,'BOSS':0x3},cc['_RF']['pop']();},{}],'Data':[function(_0x43e312,_0x5580eb,_0x4cee95){'use strict';function _0x25e7e1(_0x43e312,_0x5580eb,_0x4cee95){return _0x5580eb in _0x43e312?Object['defineProperty'](_0x43e312,_0x5580eb,{'value':_0x4cee95,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x43e312[_0x5580eb]=_0x4cee95,_0x43e312;}function _0x28ccbf(_0x43e312){if('BkyYp'==='BkyYp'){if(Array['isArray'](_0x43e312)){for(var _0x5580eb=0x0,_0x4cee95=Array(_0x43e312['length']);_0x5580eb<_0x43e312['length'];_0x5580eb++)_0x4cee95[_0x5580eb]=_0x43e312[_0x5580eb];return _0x4cee95;}return Array['from'](_0x43e312);}else{_0x43e312['heroEntity']=cc['instantiate'](_0x25e7e1['ResMgr']['getPreloadAsset']('prefabs/heros/hero')),_0x43e312['heroEntity']['parent']=_0x43e312['scene']['getChildByName']('heroLayer'),_0x43e312['heroEntity']['setPosition'](_0x5580eb),_0x43e312['sceneCameraGroup']['getComponent']('CameraFollow')['setTarget'](_0x43e312['heroEntity']),_0x43e312['heroEntity']['on'](_0x3f7b('0x5b'),_0x43e312['onHeroMovingRoomChange'],_0x43e312);var _0x5e3d61=_0x43e312['heroEntity']['getComponent']('Entity');_0x43e312['entitys'][_0x5e3d61['getEntityId']()]=_0x43e312['heroEntity'],_0x25e7e1['AudioMgr']['playEffect']('drop');}}cc['_RF']['push'](_0x5580eb,'76f68FANwxMJKR4e8C1B5Ne','Data');var _0x127936=_0x43e312(_0x3f7b('0x5c')),_0x527d3c=_0x43e312('GameFunc'),_0x4d5cb8=_0x43e312('Game');cc['Class']({'extends':cc[_0x3f7b('0x20')],'properties':{},'ctor':function(){this['playerData']={'isAutoAim':!0x1,'isFirstEnterGame':!0x0,'audioMusic':!0x0,'audioEffect':!0x0};},'init':function(){var _0x43e312=cc['sys'][_0x3f7b('0x5d')]['getItem'](_0x4d5cb8[_0x3f7b('0x57')]['localStorageKey']['OPEN_MUSIC']),_0x5580eb=cc[_0x3f7b('0x5e')]['localStorage'][_0x3f7b('0x5f')](_0x4d5cb8['Const']['localStorageKey']['OPEN_EFFECT']);_0x4d5cb8['log']('open\x20music:'+_0x43e312+_0x3f7b('0x60')+_0x5580eb),null===_0x43e312&&(_0x43e312='true'),null===_0x5580eb&&(_0x5580eb='true'),this['playerData']['audioMusic']='true'===_0x43e312,this['playerData']['audioEffect']=_0x3f7b('0x61')===_0x5580eb;},'changeSwitch':function(_0x43e312){if('Yhkrm'==='rjNaX'){this['ownerEntityCPT']&&(this['ownerEntityCPT']['node']['on']('add-forbid-atk',this['addForbid'],this),this['ownerEntityCPT']['node']['on']('remove-forbid-atk',this['removeForbid'],this),this[_0x3f7b('0x62')]['node']['on']('update-atk-input',this['handleInput'],this));}else{void 0x0!==this['playerData'][_0x43e312]&&(this['playerData'][_0x43e312]=!this['playerData'][_0x43e312],this['node']['emit']('playerSwitchChange',_0x43e312,this['playerData'][_0x43e312]),'audioMusic'===_0x43e312?cc['sys'][_0x3f7b('0x5d')]['setItem'](_0x4d5cb8['Const']['localStorageKey']['OPEN_MUSIC'],this[_0x3f7b('0x2b')][_0x43e312]):'audioEffect'===_0x43e312&&cc['sys']['localStorage'][_0x3f7b('0x63')](_0x4d5cb8['Const']['localStorageKey']['OPEN_EFFECT'],this['playerData'][_0x43e312]));}},'switchAutoAimStatus':function(){this['playerData']['isAutoAim']=!this['playerData']['isAutoAim'],this['node']['emit']('playerAutoAimChange',this['playerData']['isAutoAim']);},'initPlay':function(){this[_0x3f7b('0x2b')]['isAutoAim']=!0x1,this['playTime']=0x0,this['killEnemyCount']=0x0,this['realiveTimes']=0x1,this['playLevel']=0x1,this['entitys']=[],this['autoId']=0x0,this['levelCfg']=_0x4d5cb8['Config']['PlayLevelCfg'][0x0],this['heroData']=this['createHeroData'](),this['createMapData']();},'hasNextLevel':function(){return _0x4d5cb8['Config']['PlayLevelCfg'][this['playLevel']];},'enterNextLevel':function(){this['playLevel']+=0x1,this['autoId']=0x0,this['entitys']=[],this['levelCfg']=_0x4d5cb8['Config']['PlayLevelCfg'][this['playLevel']-0x1],this['levelCfg']?(this['heroData']['entityId']=this[_0x3f7b('0x64')](),this['entitys'][this['heroData']['entityId']]=this['heroData'],this[_0x3f7b('0x65')]()):this['initPlay']();},'spawnAutoEntityId':function(){return this['autoId']++,this['autoId'];},'consumeEnergy':function(_0x43e312,_0x5580eb){if(_0x5580eb<=0x0)return!0x0;var _0x4cee95=this['entitys'][_0x43e312];if(!_0x4cee95)return!0x1;var _0x25e7e1=_0x4cee95['energy']-_0x5580eb;return _0x25e7e1>=0x0&&(_0x4cee95[_0x3f7b('0x66')]=_0x25e7e1,this[_0x3f7b('0x41')]['emit']('entityEnergyChange',_0x43e312,_0x25e7e1),!0x0);},'repairEnergy':function(_0x43e312,_0x5580eb){var _0x4cee95=arguments['length']>0x2&&void 0x0!==arguments[0x2]&&arguments[0x2],_0x25e7e1=this['entitys'][_0x43e312];if(!_0x25e7e1)return!0x1;_0x25e7e1[_0x3f7b('0x66')]=Math['min'](_0x25e7e1['energy']+_0x25e7e1['energyRepairRate']*_0x5580eb*(_0x4cee95?0.1:0x1),_0x25e7e1['maxEnergy']),this['node']['emit']('entityEnergyChange',_0x43e312,_0x25e7e1['energy']);},'repairSP':function(_0x43e312,_0x5580eb){var _0x4cee95=arguments['length']>0x2&&void 0x0!==arguments[0x2]&&arguments[0x2],_0x25e7e1=this['entitys'][_0x43e312];if(!_0x25e7e1)return!0x1;_0x25e7e1['sp']=Math['min'](_0x25e7e1['sp']+_0x25e7e1['spRepairRate']*_0x5580eb*(_0x4cee95?0.1:0x1),_0x25e7e1['maxSP']),this['node']['emit']('entitySPChange',_0x43e312,_0x25e7e1['sp'],'spRepair');},'realiveEntity':function(_0x43e312){var _0x5580eb=this['entitys'][_0x43e312];if(!_0x5580eb)return!0x1;this[_0x3f7b('0x67')]-=0x1,_0x5580eb['hp']=_0x5580eb[_0x3f7b('0x68')],_0x5580eb['sp']=_0x5580eb['maxSP'],_0x5580eb['energy']=_0x5580eb['maxEnergy'],this['node']['emit']('entityHPChange',_0x43e312,_0x5580eb['hp'],'realive'),this['node']['emit']('entitySPChange',_0x43e312,_0x5580eb['sp'],'realive'),this['node']['emit'](_0x3f7b('0x69'),_0x43e312,_0x5580eb['energy'],'realive');},'entityGetEquipment':function(_0x43e312,_0x5580eb){if('Momzc'==='Momzc'){var _0x4cee95=this['entitys'][_0x43e312];if(!_0x4cee95||!_0x4cee95['equipments'])return!0x1;switch(_0x4cee95['equipments']['push'](_0x5580eb),_0x5580eb){case 0x190:_0x4cee95['isPierce']=!0x0;break;case 0x191:_0x4cee95[_0x3f7b('0x6a')]+=0x2;break;case 0x192:_0x4cee95['maxHP']+=0x1e,_0x4cee95['hp']+=0x1e,this['node']['emit']('entityMaxHPChange',_0x43e312,_0x4cee95['maxHP'],'equipment'),this['node']['emit']('entityHPChange',_0x43e312,_0x4cee95['hp'],'equipment');break;case 0x193:_0x4cee95['maxSP']+=0xa,this['node']['emit']('entityMaxSPChange',_0x43e312,_0x4cee95['maxSP'],'equipment');break;case 0x194:_0x4cee95['maxEnergy']+=0x32,this['node']['emit']('entityMaxEnergyChange',_0x43e312,_0x4cee95['maxEnergy'],'equipment');break;case 0x195:_0x4cee95['moveSpeed']+=0x64,this['node']['emit']('entityMoveSpeedChange',_0x43e312,_0x4cee95['moveSpeed'],'equipment');break;case 0x196:_0x4cee95['criticalRate']+=0.3;}}else{!_0x4cee95&&_0x527d3c['return']&&_0x527d3c['return']();}},'useOnceItem':function(_0x43e312,_0x5580eb){var _0x4cee95=this['entitys'][_0x43e312];if(!_0x4cee95)return!0x1;if(0x12c===_0x5580eb){var _0x25e7e1=_0x4cee95['hp'];_0x4cee95['hp']+=Math['floor'](0.3*_0x4cee95['maxHP']),_0x4cee95['hp']>_0x4cee95['maxHP']&&(_0x4cee95['hp']=_0x4cee95['maxHP']),this['node']['emit']('entityHPChange',_0x43e312,_0x4cee95['hp'],'item',_0x25e7e1);}},'createHeroData':function(){var _0x43e312={'entityId':this['spawnAutoEntityId'](),'heroId':0x1,'hp':0x64,'maxHP':0x64,'sp':0x32,'maxSP':0x32,'energy':0xc8,'maxEnergy':0xc8,'strength':0xa,'criticalRate':0.1,'moveSpeed':0x15e,'atkSpeed':0x3e8,'hpRepairRate':0x0,'spRepairRate':0x32,'energyRepairRate':0x5a,'rebound':0x0,'weapons':[this['createWeapon'](0x3)],'usingWeaponIndex':0x0,'usingWeaponID':0x0,'equipments':[]};return this['entitys'][_0x43e312['entityId']]=_0x43e312,_0x43e312;},'createEnemyData':function(_0x43e312){var _0x5580eb=_0x4d5cb8['Config']['enemyCfg'][_0x43e312],_0x4cee95=_0x5580eb['attrs'],_0x25e7e1={'entityId':this['spawnAutoEntityId'](),'enemyId':_0x43e312,'type':_0x5580eb['type'],'hp':_0x4cee95['maxHP'],'maxHP':_0x4cee95['maxHP'],'sp':_0x4cee95['maxSP']||0x0,'maxSP':_0x4cee95['maxSP']||0x0,'energy':_0x4cee95['maxEnergy']||0x0,'maxEnergy':_0x4cee95['maxEnergy']||0x0,'strength':_0x4cee95['strength']||0x0,'criticalRate':_0x4cee95['criticalRate']||0x0,'moveSpeed':_0x4cee95['moveSpeed']||0x0,'atkSpeed':_0x4cee95['atkSpeed']||0x0,'hpRepairRate':_0x4cee95['hpRepairRate']||0x0,'spRepairRate':_0x4cee95['spRepairRate']||0x0,'energyRepairRate':_0x4cee95[_0x3f7b('0x6b')]||0x0,'rebound':0x0,'weapons':[],'usingWeaponIndex':0x0,'usingWeaponID':_0x4cee95['usingWeaponID']||0x0,'cfg':_0x5580eb};return this['entitys'][_0x25e7e1['entityId']]=_0x25e7e1,_0x25e7e1;},'createExplosiveBoxData':function(){var _0x43e312={'entityId':this['spawnAutoEntityId'](),'hp':0x1,'sp':0x0};return this['entitys'][_0x43e312[_0x3f7b('0x6c')]]=_0x43e312,_0x43e312;},'createFragileBoxData':function(){if('VSxbL'!=='VSxbL'){this['stepTasks']['push'](_0x43e312),this['enabled']=!0x0;}else{var _0x43e312={'entityId':this['spawnAutoEntityId'](),'hp':0xc,'sp':0x0};return this['entitys'][_0x43e312['entityId']]=_0x43e312,_0x43e312;}},'heroSwitchWeapon':function(){this['heroData']['weapons'][_0x3f7b('0x27')];var _0x43e312=this['heroData']['usingWeaponIndex'];this['heroData']['usingWeaponIndex']+=0x1,this['heroData']['weapons'][this[_0x3f7b('0x6d')]['usingWeaponIndex']]||(this['heroData']['usingWeaponIndex']=0x0),_0x43e312!==this['heroData']['usingWeaponIndex']&&this['node']['emit']('heroWeaponUpdate');},'heroPuckupWeapon':function(_0x43e312){if(this['heroData']['weapons']['length']<0x2)this['heroData'][_0x3f7b('0x6e')]['push'](this['createWeapon'](_0x43e312)),this['heroData']['usingWeaponIndex']=this['heroData']['weapons']['length']-0x1;else{var _0x5580eb=this['heroData']['weapons'][this['heroData']['usingWeaponIndex']];this['heroData']['weapons'][this['heroData']['usingWeaponIndex']]=this['createWeapon'](_0x43e312),this[_0x3f7b('0x41')]['emit']('heroDropItem',_0x5580eb);}this['node']['emit']('heroWeaponUpdate');},'createWeapon':function(_0x43e312){return{'id':_0x43e312};},'createHitDataByItemId':function(_0x43e312,_0x5580eb){var _0x4cee95=_0x4d5cb8[_0x3f7b('0x46')]['ItemCfg'][_0x5580eb];return this[_0x3f7b('0x6f')](_0x43e312,_0x4cee95[_0x3f7b('0x70')],_0x4cee95['criticalRate'],_0x4cee95['isPierce'],_0x4cee95['rebound'],_0x4cee95['destroyOther'],_0x4cee95['canDestroyByOther']);},'createSimpleHitData':function(){return{'baseDamageVal':arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x0,'criticalRate':arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0};},'createHitData':function(_0x43e312){var _0x5580eb=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,_0x4cee95=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x0,_0x25e7e1=arguments['length']>0x3&&void 0x0!==arguments[0x3]&&arguments[0x3],_0x28ccbf=arguments['length']>0x4&&void 0x0!==arguments[0x4]?arguments[0x4]:0x0,_0x127936=arguments[_0x3f7b('0x27')]>0x5&&void 0x0!==arguments[0x5]&&arguments[0x5],_0x527d3c=!(arguments['length']>0x6&&void 0x0!==arguments[0x6])||arguments[0x6],_0x4d5cb8=this[_0x3f7b('0x71')][_0x43e312];return _0x4d5cb8?{'entityId':_0x43e312,'isPierce':_0x25e7e1||_0x4d5cb8['isPierce'],'rebound':_0x28ccbf+(_0x4d5cb8['rebound']||0x0),'destroyOther':_0x127936,'canDestroyByOther':_0x527d3c,'baseDamageVal':_0x5580eb,'criticalRate':_0x4cee95+_0x4d5cb8['criticalRate']}:{'entityId':_0x43e312,'isPierce':_0x25e7e1,'rebound':_0x28ccbf,'destroyOther':_0x127936,'canDestroyByOther':_0x527d3c,'baseDamageVal':_0x5580eb,'criticalRate':_0x4cee95};},'handleHit':function(_0x43e312,_0x5580eb){var _0x4cee95=this['entitys'][_0x43e312];if(_0x4cee95){var _0x25e7e1=_0x5580eb['baseDamageVal'],_0x28ccbf=0x0;_0x5580eb['criticalRate']>0x0&&_0x5580eb['criticalRate']>Math['random']()&&(_0x25e7e1=Math['floor'](1.5*_0x25e7e1),_0x28ccbf=0x1);_0x4cee95['sp'];var _0x127936=_0x4cee95['sp']-_0x25e7e1;if(this['node']['emit']('entityBeHit',_0x43e312,_0x25e7e1,_0x28ccbf),_0x127936>=0x0)_0x4cee95['sp']=_0x127936,this['node'][_0x3f7b('0x72')]('entitySPChange',_0x43e312,_0x127936,'getAtk');else{if('wfWMD'==='wfWMD'){_0x4cee95['sp']=0x0,this['node'][_0x3f7b('0x72')]('entitySPChange',_0x43e312,0x0,'getAtk');var _0x527d3c=Math['max'](0x0,_0x4cee95['hp']+_0x127936);_0x4cee95['hp']=_0x527d3c,this['node']['emit']('entityHPChange',_0x43e312,_0x527d3c),0x0===_0x527d3c&&(this['node']['emit']('entityDead',_0x43e312),_0x4cee95[_0x3f7b('0x73')]>_0x4d5cb8['Const']['EntityType']['HERO']&&(this['killEnemyCount']+=0x1));}else{arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0]?(this['top']['active']=!0x0,this[_0x3f7b('0x74')][_0x3f7b('0x75')]('spr')[_0x3f7b('0x32')](cc['Animation'])['play']('doorOpening'),this['top']['getChildByName']('spr')[_0x3f7b('0x32')](cc['Animation'])['on']('finished',this['onOpenEnd'],this)):(this['bottom']['getComponent']('doorBody')['showNormalState'](),this['top']['active']=!0x1);}}}},'createRoomData':function(_0x43e312){return{'id':_0x43e312,'type':arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,'pos':cc['v2'](0x0,0x0),'isClear':!0x1,'sockets':{},'realSockets':{},'socketCount':0x0};},'createMapData':function(){var _0x43e312=this;this['roomTheme']=this['levelCfg']['theme'];var _0x5580eb=this['levelCfg'][_0x3f7b('0x76')],_0x4cee95=_0x5580eb['min'],_0x328e27=_0x5580eb['max'];this['roomCount']=_0x127936['randomRangeInt'](_0x4cee95,_0x328e27),this['roomDatas']=[];var _0x4db7ca=0x0,_0x4c1ca0=0x0,_0x1ab8f4={},_0x3dcd23=_0x4d5cb8['Config']['roomThemeAndRoomMap'][this['roomTheme']];function _0x16278c(_0x43e312,_0x5580eb){var _0x4cee95=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0x1,_0x25e7e1=void 0x0;switch(Number(_0x5580eb)){case _0x4d5cb8['Const']['Direction']['UP']:_0x25e7e1=cc['v2'](0x0,0x1);break;case _0x4d5cb8[_0x3f7b('0x57')]['Direction']['DOWN']:_0x25e7e1=cc['v2'](0x0,-0x1);break;case _0x4d5cb8[_0x3f7b('0x57')]['Direction']['LEFT']:_0x25e7e1=cc['v2'](-0x1,0x0);break;case _0x4d5cb8['Const']['Direction']['RIGHT']:_0x25e7e1=cc['v2'](0x1,0x0);}return _0x43e312['add'](_0x25e7e1['mulSelf'](_0x4cee95));}var _0x176e76=function(_0x5580eb,_0x4cee95){var _0x25e7e1=_0x16278c(_0x5580eb['pos'],_0x4cee95,0x2),_0x28ccbf=_0x4d5cb8[_0x3f7b('0x57')]['NegDirection'][_0x4cee95],_0x127936=_0x1ab8f4[_0x25e7e1['x']+'_'+_0x25e7e1['y']];if(_0x127936)return _0x5580eb['sockets'][_0x4cee95]=_0x127936['id'],_0x5580eb['socketCount']+=0x1,_0x127936['sockets'][_0x28ccbf]=_0x5580eb['id'],_0x127936['socketCount']+=0x1,null;_0x4c1ca0+=0x1;var _0x527d3c=_0x43e312['createRoomData'](_0x4c1ca0);return _0x527d3c[_0x3f7b('0x77')]=_0x25e7e1,_0x43e312['roomDatas']['push'](_0x527d3c),_0x1ab8f4[_0x25e7e1['x']+'_'+_0x25e7e1['y']]=_0x527d3c,_0x5580eb['sockets'][_0x4cee95]=_0x4c1ca0,_0x5580eb['socketCount']+=0x1,_0x527d3c[_0x3f7b('0x78')][_0x28ccbf]=_0x5580eb['id'],_0x527d3c['socketCount']+=0x1,_0x527d3c;},_0x61930c=function(_0x5580eb){for(var _0x4cee95=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0x4,_0x25e7e1=[],_0x28ccbf=[],_0x527d3c=0x1;_0x527d3c<=0x4;_0x527d3c++)_0x5580eb['sockets'][_0x527d3c]||_0x28ccbf[_0x3f7b('0x79')](_0x527d3c);var _0x4d5cb8=Math['min'](_0x43e312['roomCount']-_0x43e312['roomDatas']['length'],_0x28ccbf[_0x3f7b('0x27')],_0x4cee95);if(_0x4d5cb8<=0x0)return _0x25e7e1;for(var _0x328e27=_0x127936['randomRangeInt'](0x1,_0x4d5cb8),_0x4db7ca=0x1;_0x4db7ca<=_0x328e27;_0x4db7ca++){var _0x4c1ca0=_0x127936['randomRangeInt'](0x0,_0x28ccbf['length']-0x1),_0x1ab8f4=_0x28ccbf[_0x4c1ca0],_0x3dcd23=_0x176e76(_0x5580eb,_0x1ab8f4);_0x3dcd23&&_0x25e7e1['push'](_0x3dcd23),_0x28ccbf['splice'](_0x4c1ca0,0x1);}return _0x25e7e1;},_0x432071=this['createRoomData'](_0x4c1ca0);_0x1ab8f4[_0x432071['pos']['x']+'_'+_0x432071['pos']['y']]=_0x432071,this['roomDatas']['push'](_0x432071);for(var _0x3990f6=0x0,_0x5df43d=[],_0x4ab700=_0x61930c(_0x432071,0x1);this[_0x3f7b('0x7a')]['length']<this['roomCount'];){if(++_0x3990f6>0x3e7){if('KaCtc'!=='kCDMt'){cc['error'](_0x3f7b('0x7b')),_0x4db7ca+=0x1;break;}else{return this['enemyId'];}}0x0!==_0x4ab700['length']?(_0x5df43d=_0x4ab700,_0x4ab700=[]):(_0x5df43d=this['roomDatas']['slice'](0x1),_0x4ab700=[]);var _0x40b7b8=!0x0,_0x1d26fb=!0x1,_0x5f37e5=void 0x0;try{if('vWEjl'==='nsyJa'){_0x43e312['refresh']();}else{for(var _0x42e3fa,_0x3c94d8=_0x5df43d[Symbol['iterator']]();!(_0x40b7b8=(_0x42e3fa=_0x3c94d8['next']())[_0x3f7b('0x7c')]);_0x40b7b8=!0x0){var _0x45d5f4=_0x61930c(_0x42e3fa['value']);_0x4ab700=[]['concat'](_0x28ccbf(_0x4ab700),_0x28ccbf(_0x45d5f4));}}}catch(_0x46efc8){_0x1d26fb=!0x0,_0x5f37e5=_0x46efc8;}finally{try{!_0x40b7b8&&_0x3c94d8['return']&&_0x3c94d8['return']();}finally{if(_0x1d26fb)throw _0x5f37e5;}}}var _0x471b42=void 0x0,_0x2df673=[]['concat'](_0x28ccbf(this['roomDatas'])),_0x197086=_0x3dcd23[_0x4d5cb8['Const']['RoomType'][_0x3f7b('0x7d')]];(_0x471b42=_0x2df673['splice'](0x0,0x1)['shift']())['type']=_0x4d5cb8['Const']['RoomType']['BORN'],_0x471b42['roomCfgId']=_0x527d3c['randomGetItemInArr'](_0x197086)['id'],(_0x471b42=function(){var _0x43e312=[];_0x2df673['forEach'](function(_0x5580eb,_0x4cee95){0x1===_0x5580eb['socketCount']&&_0x43e312['push'](_0x4cee95);});var _0x5580eb=_0x527d3c['randomGetItemInArr'](_0x43e312);return _0x2df673['splice'](_0x5580eb,0x1)['shift']();}())?(_0x471b42['type']=_0x4d5cb8['Const']['RoomType']['BOSS'],_0x471b42['roomCfgId']=this['levelCfg']['bossRoomCfgId']):(_0x4db7ca+=0x1,_0x4d5cb8['log']('no\x20one\x20socket\x20room'));var _0x204f15=_0x3dcd23[_0x4d5cb8['Const']['RoomType'][_0x3f7b('0x7e')]];(_0x471b42=_0x527d3c['randomGetItemInArr'](_0x2df673,!0x0))[_0x3f7b('0x73')]=_0x4d5cb8['Const']['RoomType']['TREASURE_BOX'],_0x471b42['roomCfgId']=_0x527d3c['randomGetItemInArr'](_0x204f15)['id'];var _0x56a900=[]['concat'](_0x28ccbf(_0x3dcd23[_0x4d5cb8['Const']['RoomType']['FIGHTING']]));_0x56a900['sort'](function(){return 0.5-Math['random']();});var _0x5a1bee=0x0,_0x177f16=!0x0,_0x466b30=!0x1,_0x6efe52=void 0x0;try{for(var _0x58bed1,_0x358c75=_0x2df673[Symbol['iterator']]();!(_0x177f16=(_0x58bed1=_0x358c75['next']())['done']);_0x177f16=!0x0){var _0x55873b=_0x58bed1['value'];_0x55873b[_0x3f7b('0x73')]=_0x4d5cb8['Const'][_0x3f7b('0x4f')]['FIGHTING'],_0x56a900[_0x5a1bee]||(_0x5a1bee=0x0),_0x55873b['roomCfgId']=_0x56a900[_0x5a1bee]['id'],_0x5a1bee+=0x1;}}catch(_0x35d5c4){_0x466b30=!0x0,_0x6efe52=_0x35d5c4;}finally{try{!_0x177f16&&_0x358c75['return']&&_0x358c75['return']();}finally{if(_0x466b30)throw _0x6efe52;}}var _0x1e4164,_0x17015a=(_0x25e7e1(_0x1e4164={},_0x4d5cb8[_0x3f7b('0x57')]['RoomType']['PATHX'],_0x3dcd23[_0x4d5cb8['Const']['RoomType'][_0x3f7b('0x4a')]]),_0x25e7e1(_0x1e4164,_0x4d5cb8['Const']['RoomType'][_0x3f7b('0x4b')],_0x3dcd23[_0x4d5cb8['Const']['RoomType']['PATHY']]),_0x1e4164);return function _0x5580eb(_0x4cee95){if('NRfpo'===_0x3f7b('0x7f')){for(var _0x25e7e1 in _0x4cee95[_0x3f7b('0x78')]){var _0x28ccbf=_0x16278c(_0x4cee95['pos'],_0x25e7e1,0x1);if(!_0x1ab8f4[_0x28ccbf['x']+'_'+_0x28ccbf['y']]){_0x4c1ca0+=0x1;var _0x127936=_0x25e7e1>_0x4d5cb8['Const']['Direction']['DOWN']?_0x4d5cb8['Const']['RoomType'][_0x3f7b('0x4a')]:_0x4d5cb8['Const']['RoomType']['PATHY'],_0x328e27=_0x43e312['createRoomData'](_0x4c1ca0,_0x127936);_0x328e27['pos']=_0x28ccbf,_0x328e27['roomCfgId']=_0x527d3c['randomGetItemInArr'](_0x17015a[_0x127936])['id'],_0x43e312['roomDatas'][_0x3f7b('0x79')](_0x328e27),_0x1ab8f4[_0x28ccbf['x']+'_'+_0x28ccbf['y']]=_0x328e27;var _0x4db7ca=_0x43e312['roomDatas'][_0x4cee95[_0x3f7b('0x78')][_0x25e7e1]],_0x3dcd23=_0x4d5cb8['Const']['NegDirection'][_0x25e7e1];_0x4cee95['realSockets'][_0x25e7e1]=_0x328e27['id'],_0x328e27['realSockets'][_0x3dcd23]=_0x4cee95['id'],_0x328e27['realSockets'][_0x25e7e1]=_0x4db7ca['id'],_0x4db7ca['realSockets'][_0x3dcd23]=_0x328e27['id'],_0x5580eb(_0x4db7ca);}}}else{var _0x16383e=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:0x0;if('item'===_0x4cee95){var _0x333b60=this['entitys'][_0x43e312];if(_0x333b60){_0x333b60['getComponent']('Entity')['spawnParticle']();var _0x4c1610=_0x333b60['position'],_0x4531d2=new cc['Node']();_0x4531d2['parent']=this['scene']['getChildByName']('infoLayer'),_0x4531d2['position']=_0x4c1610[_0x3f7b('0x15')](cc['v2'](0x1e,0x28));var _0x8b62c1=_0x4531d2['addComponent'](cc[_0x3f7b('0x80')]);_0x8b62c1['string']='+'+Math['floor'](_0x5580eb-_0x16383e),_0x8b62c1['fontSize']=0x14,_0x4531d2['color']=_0x25e7e1[_0x3f7b('0x46')]['Color']['RED'],cc['tween'](_0x4531d2)['to'](0.3,{'position':cc['v2'](_0x4531d2['x'],_0x4531d2['y']+0x28)},{'easing':'backOut'})['to'](0.2,{'opacity':0x0})['call'](function(){_0x4531d2['destroy']();})['start']();}}}}(this['roomDatas'][0x0]),_0x4d5cb8['log']('mapError:'+_0x4db7ca,this['roomDatas']),0x0!==_0x4db7ca&&this['createMapData'](),_0x4db7ca;}}),cc['_RF']['pop']();},{'Game':_0x3f7b('0x81'),'GameFunc':'GameFunc','GameMath':'GameMath'}],'DropWeapon':[function(_0x29fe11,_0x2c5328,_0x1f9f08){'use strict';cc['_RF']['push'](_0x2c5328,_0x3f7b('0x82'),'DropWeapon');var _0x1d4a3c=_0x29fe11('Item');cc['Class']({'extends':_0x1d4a3c,'properties':{},'interaction':function(){Game['Data']['heroPuckupWeapon'](this['itemId']),this['node']['destroy']();}}),cc[_0x3f7b('0x58')]['pop']();},{'Item':'Item'}],'Enemy-0':[function(_0x3a1cb9,_0x1400c8,_0x24984e){'use strict';cc['_RF']['push'](_0x1400c8,_0x3f7b('0x83'),'Enemy-0');var _0x4f009e=_0x3a1cb9('Enemy'),_0x124ac0=_0x3a1cb9('GameMath');cc['Class']({'extends':_0x4f009e,'properties':{'bodySpr':cc['Node']},'onLoad':function(){this['weapon']=null,this[_0x3f7b('0xc')]=null,this['doorConntactNum']=0x0,this['moveTime']=0x0,this['weaponNone']=this['node']['getChildByName']('body')['getChildByName']('weaponNode'),this['rigidBody']=this['getComponent'](cc['RigidBody']),this['enemyAI']=this['getComponent']('AI-0'),this['node']['on']('dead',this['dead'],this);},'start':function(){this['updateUsingWepaon']();var _0x3a1cb9=this['node']['getChildByName'](_0x3f7b('0x84'));this['bindRoomCPT']['addShadow'](this['node'],_0x3a1cb9);},'dead':function(){var _0x3a1cb9=this;if(this['isAlive']=!0x1,this[_0x3f7b('0x85')]['active']=!0x1,this['atkMark']['active']=!0x1,Game['AudioMgr']['playEffect']('hit'),this['rigidBody']['linearVelocity']=this['rigidBody']['linearVelocity']['normalizeSelf']()['mulSelf'](_0x124ac0['randomRange'](0x1f4,0x320)),this['rigidBody']['linearDamping']=0x3,this['enemyCfg']['deadTalk']){var _0x1400c8=this['enemyCfg']['deadTalk'];Math['random']()<_0x1400c8['rate']&&_0x1400c8['talks']['forEach'](function(_0x1400c8){Game[_0x3f7b('0x1c')]['scheduleOnce'](function(){_0x3a1cb9['talk'](_0x1400c8['str'],null,_0x1400c8['time']);},_0x1400c8['delayTime']);});}this[_0x3f7b('0x2')]=!0x1,this['getComponent']('MoveUnit')['enabled']=!0x1;var _0x24984e=this[_0x3f7b('0x32')]('MoveUnit')['anim'];_0x24984e['play'](_0x3f7b('0x86')),_0x24984e['on']('finished',function(){_0x3a1cb9['rigidBody']['linearVelocity']=cc['v2'](),_0x3a1cb9['getComponent'](cc['PhysicsCollider'])['enabled']=!0x1;});},'onAtkAngleChange':function(_0x3a1cb9){this[_0x3f7b('0x87')](_0x3a1cb9);},'isAtking':function(){return!!this['weaponCPT']&&this['weaponCPT']['isAtking'];},'onMoveAngleChange':function(_0x3a1cb9){this['isAtking']()||(this['setActorDir'](_0x3a1cb9),this['weaponCPT']&&this['weaponCPT']['setAtkDir'](_0x3a1cb9));},'setActorDir':function(_0x3a1cb9){var _0x1400c8=cc['misc']['radiansToDegrees'](_0x3a1cb9);this[_0x3f7b('0x88')]['scaleX']=_0x1400c8>-0x5a&&_0x1400c8<0x5a?0x1:-0x1;},'updateUsingWepaon':function(){var _0x3a1cb9=this;Game['ResMgr']['getWeapon'](this['data']['usingWeaponID'],function(_0x1400c8){if('sGnsD'!=='SoKFU'){_0x3a1cb9['weapon']&&_0x3a1cb9['weapon']['destroy'](),_0x3a1cb9['weapon']=cc['instantiate'](_0x1400c8),_0x3a1cb9['weapon']['on']('atkAngleChange',_0x3a1cb9['onAtkAngleChange'],_0x3a1cb9),_0x3a1cb9[_0x3f7b('0xc')]=_0x3a1cb9['weapon']['getComponent']('Weapon'),_0x3a1cb9['weaponCPT']['equipToEntity'](_0x3a1cb9);}else{this['isInvalid']||(_0x124ac0['PoolMgr']['put'](this['poolId'],this['node']),this['isInvalid']=!0x0);}});},'onBeginContact':function(_0x3a1cb9,_0x1400c8,_0x24984e){var _0x4f009e=_0x24984e[_0x3f7b('0x41')][_0x3f7b('0x89')];if(0x1!==_0x1400c8['tag']||'map'===_0x4f009e||'building'===_0x4f009e)if(0x0!==_0x1400c8['tag']||'map'!==_0x4f009e&&'building'!==_0x4f009e){var _0x124ac0=_0x24984e['node']['getComponent']('Entity');_0x124ac0&&(_0x3a1cb9[_0x3f7b('0x3e')]=!_0x124ac0['isAlive']);}else _0x3a1cb9['disabled']=!0x0;else _0x3a1cb9[_0x3f7b('0x3e')]=!0x0;}}),cc[_0x3f7b('0x58')]['pop']();},{'Enemy':'Enemy','GameMath':'GameMath'}],'Enemy':[function(_0x47859b,_0x1fa2a7,_0x23dbd1){'use strict';cc['_RF']['push'](_0x1fa2a7,'55b82u8XQpOaJqgkqvl694m','Enemy');var _0x19c00a=_0x47859b('Entity');cc['Class']({'extends':_0x19c00a,'properties':{},'ctor':function(){this['enemyId']=0x0;},'setEntityData':function(_0x47859b){_0x19c00a['prototype']['setEntityData']['call'](this,_0x47859b),this['enemyId']=_0x47859b['enemyId'],this['enemyCfg']=Game['Config']['enemyCfg'][this['enemyId']],cc['assert'](this['enemyCfg'],'[enemy]\x20enemyId\x20error'),this['atkMark']=this['node']['getChildByName']('atkMark'),this['atkMark']['active']=!0x1,this['node']['on'](_0x3f7b('0x8a'),this['onAIexecuteAtk'],this),this['node']['on']('AI-stopAtk',this['onAIStopAtk'],this);},'onAIStopAtk':function(){this['atkMark']['active']=!0x1;},'onAIexecuteAtk':function(){if(_0x3f7b('0x8b')!=='mwGBW'){_0x19c00a['PlayMgr']['leavePlay'](),cc['director']['loadScene']('Start');}else{this['atkMark']['active']=!0x0;}},'getEnemyId':function(){return this['enemyId'];},'getEnemyCfg':function(){return this['enemyCfg'];},'pauseEntity':function(){this['enabled']=!0x1,this['getComponent']('MoveUnit')['enabled']=!0x1,this['enemyAI']&&(this['enemyAI']['enabled']=!0x1);},'resumeEntity':function(){this['enabled']=!0x0,this['getComponent']('MoveUnit')['enabled']=!0x0,this['enemyAI']&&(this['enemyAI']['enabled']=!0x0);}}),cc['_RF']['pop']();},{'Entity':'Entity'}],'Entity':[function(_0x5a10ee,_0x1a7f1d,_0x1853cd){'use strict';cc['_RF']['push'](_0x1a7f1d,_0x3f7b('0x8c'),'Entity'),cc['Class']({'extends':cc['Component'],'properties':{},'ctor':function(){this['isAlive']=!0x0,this['entityId']=0x0,this['_isAtking']=!0x1,this['bindRoomCPT']=null;},'setEntityData':function(_0x5a10ee){if('tspVF'!=='tspVF'){_0x5a10ee['node']['active']=!0x1;}else{this['data']=_0x5a10ee,this['entityId']=this['data']['entityId'];}},'getEntityData':function(_0x5a10ee){return this['data'];},'getEntityId':function(){if('LLCyR'!=='LKRew'){return this[_0x3f7b('0x6c')];}else{this['warningDelay']||(this[_0x3f7b('0x8d')]=!0x0,this['scheduleOnce'](this['warningDelayEnd'],0x1),n['AudioMgr'][_0x3f7b('0x8e')]('warning'));}},'setBindRoomCPT':function(_0x5a10ee){this['bindRoomCPT']=_0x5a10ee;},'talk2':function(_0x5a10ee,_0x1a7f1d){var _0x1853cd=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0.7,_0x1fba7d=!(arguments['length']>0x3&&void 0x0!==arguments[0x3])||arguments[0x3];_0x1a7f1d=_0x1a7f1d||Game['Config']['Color']['WHITE'];var _0x2068af=new cc['Node']();this['node']['addChild'](_0x2068af,0x3e7);var _0x8e2930=cc['v2'](0x0,0x32);_0x2068af['color']=_0x1a7f1d;var _0xd15c16=_0x2068af['addComponent'](cc['Label']);_0xd15c16['fontSize']=0x14,_0xd15c16['string']=_0x5a10ee,_0x2068af[_0x3f7b('0x3d')]=_0x8e2930,_0x1fba7d?cc['tween'](_0x2068af)['to'](0.15,{'y':_0x8e2930['y']+0x14})['delay'](_0x1853cd)['to'](0.12,{'opacity':0x0,'y':_0x8e2930['y']+0x32,'scale':1.3})['call'](function(){_0x2068af['destroy']();})['start']():(_0x2068af['y']+=0x14,cc['tween'](_0x2068af)['delay'](_0x1853cd)['call'](function(){_0x2068af['destroy']();})['start']());},'talk':function(_0x5a10ee,_0x1a7f1d){if('Infyf'==='Infyf'){var _0x1853cd=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0.7,_0x51698c=!(arguments['length']>0x3&&void 0x0!==arguments[0x3])||arguments[0x3];_0x1a7f1d=_0x1a7f1d||Game['Config']['Color'][_0x3f7b('0x8f')];var _0x56753a=new cc['Node'](),_0x5dbf70=new cc['Node'](),_0x4244ce=Game[_0x3f7b('0x1c')]['addTalkText'](this['node'],_0x56753a,cc['v2'](0x0,0x32));_0x5dbf70['parent']=_0x56753a;var _0x439dc8=cc['v2'](0x0,0x0);_0x5dbf70['color']=_0x1a7f1d;var _0x2dc3db=_0x5dbf70['addComponent'](cc['Label']);_0x2dc3db['fontSize']=0x14,_0x2dc3db['string']=_0x5a10ee,_0x5dbf70['position']=_0x439dc8,_0x51698c?cc['tween'](_0x5dbf70)['to'](0.15,{'y':_0x439dc8['y']+0x14})['delay'](_0x1853cd)['to'](0.12,{'opacity':0x0,'y':_0x439dc8['y']+0x32,'scale':1.15})['call'](function(){_0x5dbf70['destroy'](),Game['PlayMgr']['removeTalkText'](_0x4244ce);})['start']():(_0x5dbf70['y']+=0x14,cc['tween'](_0x5dbf70)['delay'](_0x1853cd)['call'](function(){_0x5dbf70[_0x3f7b('0x90')](),Game['PlayMgr']['removeTalkText'](_0x4244ce);})['start']());}else{this['commonStatus']={'targetWP':0x0,'selfWP':0x0,'toTargetDir':0x0,'toTargetDis':0x0},this['atkStatus']={'act':!0x1,'updateTime':0x0,'noAtkTime':0x0,'atkTime':0x0,'durationTime':0x0},this['moveStatus']={'act':!0x1,'updateTime':0x0,'tooNearTime':0x0,'moveLevel':0x0,'pointArr':[]},this['stayStatus']={'act':!0x1,'updateTime':0x0},this['target']=null,this['entity']=this['getComponent'](_0x3f7b('0x3c')),_0x56753a[_0x3f7b('0x91')]('AI',this['entity']['entityId']);}},'spawnParticle':function(){if('TPdSX'!=='mjYmW'){var _0x5a10ee=this;Game['ResMgr']['getParticleAsset'](_0x3f7b('0x92'),function(_0x1a7f1d){var _0x1853cd=new cc['Node']();_0x1853cd['parent']=_0x5a10ee['node'];var _0x464cd8=_0x1853cd['addComponent'](cc['ParticleSystem']);_0x464cd8['file']=_0x1a7f1d,_0x464cd8['resetSystem'](),_0x464cd8['autoRemoveOnFinish']=!0x0;});}else{if(this['bulletGroup']===a['Const']['Group']['BULLET']&&!this['ownerEntityCPT']['consumeEnergy'](this['energyCostVal']))return this['playExecuteWarning'](),void this['reset']();o=a['Data']['createHitDataByItemId'](this['ownerEntityCPT'][_0x3f7b('0x93')](),this['itemId']),this[_0x3f7b('0x94')]=0.1;}}}),cc['_RF']['pop']();},{}],'Equipment':[function(_0x446fcc,_0x44525a,_0x5cdbfa){'use strict';cc['_RF']['push'](_0x44525a,'a77b5nHw7ZC7pwcQuc2nOM0','Equipment');var _0x14e671=_0x446fcc('Item');cc['Class']({'extends':_0x14e671,'properties':{},'interaction':function(){Game['Data']['entityGetEquipment'](Game['Data']['heroData']['entityId'],this['cfg']['id']),this['node']['destroy'](),Game['AudioMgr']['playEffect']('getItem');}}),cc['_RF'][_0x3f7b('0x95')]();},{'Item':'Item'}],'EventListener':[function(_0x2e50c8,_0x1fc5d8,_0x918079){'use strict';cc['_RF']['push'](_0x1fc5d8,'9c2a19sjV5DB5xnCEXQU5qu','EventListener');var _0x2cfa4c={'on':function(_0x2e50c8,_0x1fc5d8,_0x918079){var _0x2cfa4c=this['handlers'][_0x2e50c8];_0x2cfa4c||(_0x2cfa4c=[],this['handlers'][_0x2e50c8]=_0x2cfa4c);for(var _0x2df24d=0x0;_0x2df24d<_0x2cfa4c['length'];_0x2df24d++)if(!_0x2cfa4c[_0x2df24d])return _0x2cfa4c[_0x2df24d]['handler']=_0x1fc5d8,_0x2cfa4c[_0x2df24d]['target']=_0x918079,_0x2df24d;return _0x2cfa4c['push']({'handler':_0x1fc5d8,'target':_0x918079}),_0x2cfa4c[_0x3f7b('0x27')];},'dispatch':function(_0x2e50c8,_0x1fc5d8){var _0x918079=this['handlers'][_0x2e50c8];if(_0x918079)for(var _0x2cfa4c=_0x918079['length'],_0x4f3606=0x0;_0x4f3606<_0x2cfa4c;_0x4f3606++)if(_0x918079[_0x4f3606]){var _0x32b42=_0x918079[_0x4f3606]['handler'],_0x104b76=_0x918079[_0x4f3606]['target'];if(_0x32b42)try{_0x104b76?_0x32b42['call'](_0x104b76,_0x1fc5d8):_0x32b42(_0x1fc5d8);}catch(_0x26bc28){console['error'](_0x26bc28);}}},'off':function(_0x2e50c8,_0x1fc5d8,_0x918079){var _0x2cfa4c=this['handlers'][_0x2e50c8];if(_0x2cfa4c)for(var _0x251dd3=0x0;_0x251dd3<_0x2cfa4c['length'];_0x251dd3++){var _0x2a334b=_0x2cfa4c[_0x251dd3]['handler'],_0x2726a5=_0x2cfa4c[_0x251dd3]['target'];if(_0x2a334b===_0x1fc5d8&&_0x2726a5===_0x918079){_0x2cfa4c['splice'](_0x251dd3,0x1);break;}}},'clear':function(_0x2e50c8){for(var _0x1fc5d8 in this['handlers'])for(var _0x918079=this['handlers'][_0x1fc5d8],_0x2cfa4c=0x0;_0x2cfa4c<_0x918079['length'];_0x2cfa4c++){_0x918079[_0x2cfa4c]['target']===_0x2e50c8&&_0x918079['splice'](_0x2cfa4c,0x1);}}};(_0x1fc5d8['exports']={})['create']=function(){var _0x2e50c8=Object['create'](_0x2cfa4c);return _0x2e50c8[_0x3f7b('0x96')]={},_0x2e50c8;},cc[_0x3f7b('0x58')]['pop']();},{}],'Event':[function(_0x4e183e,_0x380e6a,_0x4e749a){'use strict';cc['_RF']['push'](_0x380e6a,'42625TCWnhORaIaAYL5RsVq','Event');var _0x464a32=_0x4e183e('EventListener'),_0x4052dc=_0x380e6a['exports']={'Type':{'openUI':'openUI','closeUI':_0x3f7b('0x97'),'refreshSlateBtn':'refreshSlateBtn','roundStart':'roundStart','roundOver':'roundOver','gameStart':'gameStart','gameOver':'gameOver','scoreGet':'scoreGet','treasureGet':_0x3f7b('0x98'),'itemGet':'itemGet','resPreLoadEnd':'resPreLoadEnd','mapLoadStage1':'mapLoadStage1','mapLoadEnd':'mapLoadEnd','uiloadingEnd':'uiloadingEnd','loadSubpackageFinished':'loadSubpackageFinished','heroMoveingRoomChange':'heroMoveingRoomChange'},'eventListener':_0x464a32['create']()};_0x4052dc['on']=function(_0x4e183e,_0x380e6a,_0x4e749a){_0x3f7b('0x99')==typeof _0x4e183e&&_0x4052dc['eventListener']['on'](_0x4e183e,_0x380e6a,_0x4e749a);},_0x4052dc['off']=function(_0x4e183e,_0x380e6a,_0x4e749a){'string'==typeof _0x4e183e&&_0x4052dc['eventListener']['off'](_0x4e183e,_0x380e6a,_0x4e749a);},_0x4052dc['clear']=function(_0x4e183e){if('KFddm'==='KFddm'){_0x4052dc['eventListener']['clear'](_0x4e183e);}else{var _0x550f94=_0x4052dc[_0x3f7b('0x1c')],_0x159748=cc['instantiate'](this['bulletPrefab']);_0x159748['group']=this['bulletGroup'],_0x159748['parent']=_0x550f94['scene']['getChildByName']('bulletLayer'),_0x159748['position']=_0x550f94['convertToSceneSpace'](this['node'],cc['v2'](0x0,0x0));var _0x1bf126=_0x159748['getComponent']('Bullet');_0x1bf126['setHitData'](_0x4052dc['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x1bf126['fire'](this[_0x3f7b('0x11')]),_0x4052dc['AudioMgr']['playEffect']('atk-1'),this['ownerEntityCPT'][_0x3f7b('0x41')]['emit']('add-forbid-move');var _0x535c85=this['atkDirVec'][_0x3f7b('0x9a')](0xaf0),_0x3b963f=(this['ownerEntityCPT'],this['ownerEntityCPT']['getComponent'](cc['RigidBody']));_0x3b963f['linearVelocity']=cc['v2'](),_0x3b963f['applyLinearImpulse'](_0x535c85,_0x3b963f['getWorldCenter'](),!0x0);}},_0x4052dc['dispatch']=function(_0x4e183e,_0x380e6a){'string'==typeof _0x4e183e&&_0x4052dc['eventListener']['dispatch'](_0x4e183e,_0x380e6a);},cc['_RF']['pop']();},{'EventListener':'EventListener'}],'ExplosiveBox':[function(_0x4c2ad9,_0x5eef0a,_0xceb42b){'use strict';cc[_0x3f7b('0x58')]['push'](_0x5eef0a,'74862ZJWfFNV6BhgobfutDd','ExplosiveBox');var _0xa82168=_0x4c2ad9('Entity');cc['Class']({'extends':_0xa82168,'properties':{},'onLoad':function(){this['setEntityData'](Game['Data'][_0x3f7b('0x9b')]()),this['node']['on']('dead',this['dead'],this);},'dead':function(){this['isAlive']=!0x1,this['bindRoomCPT']['_buildingMap'][this['mapIndex']]=null,this[_0x3f7b('0x9c')](this['explosive'],0x1),this['node']['getChildByName']('atkMark')[_0x3f7b('0x9d')]=!0x0;},'explosive':function(){this['bindRoomCPT']['delUpperTiledAt'](this['tiledPos']),this['node']['destroy']();var _0x4c2ad9=this['node']['convertToWorldSpaceAR'](cc['v2']());Game['PlayMgr']['spawnOnceAnimByPrefab'](Game['ResMgr']['getPreloadAsset']('prefabs/misc/explosive'),_0x4c2ad9),Game['PlayMgr']['shakerScene'](),Game['AudioMgr']['playEffect']('boom-0');var _0x5eef0a=cc['v2'](0x55,0x55),_0xceb42b=cc['Rect']['fromMinMax'](_0x4c2ad9['sub'](_0x5eef0a),_0x4c2ad9['add'](_0x5eef0a)),_0xa82168=cc['director']['getPhysicsManager']()['testAABB'](_0xceb42b),_0xe38813=Game['Data']['createSimpleHitData'](0x3c),_0x4c7dc7=!0x0,_0x4f6f28=!0x1,_0x4b450d=void 0x0;try{for(var _0x4f221c,_0x439ef1=_0xa82168[Symbol['iterator']]();!(_0x4c7dc7=(_0x4f221c=_0x439ef1['next']())[_0x3f7b('0x7c')]);_0x4c7dc7=!0x0){var _0x10429d=_0x4f221c['value'],_0x1b669a=_0x10429d['node']['getComponent']('Entity');if(_0x1b669a&&_0x1b669a['isAlive']&&0x0===_0x10429d[_0x3f7b('0x31')]){if(_0x1b669a['rigidBody']){var _0x181186=_0x10429d['node']['position']['sub'](this['node']['position'])['normalize']()['mulSelf'](0xfa0);_0x1b669a['rigidBody']['applyLinearImpulse'](_0x181186,_0x1b669a['rigidBody']['getWorldCenter'](),!0x0);}Game['Data']['handleHit'](_0x1b669a['getEntityId'](),_0xe38813);}}}catch(_0x5c17b5){_0x4f6f28=!0x0,_0x4b450d=_0x5c17b5;}finally{try{!_0x4c7dc7&&_0x439ef1['return']&&_0x439ef1['return']();}finally{if(_0x4f6f28)throw _0x4b450d;}}}}),cc['_RF']['pop']();},{'Entity':'Entity'}],'FragileBox':[function(_0x1e6f0b,_0x571cb6,_0x282213){'use strict';cc['_RF'][_0x3f7b('0x79')](_0x571cb6,'82aa81RsbZJEKUVytHA3C9p','FragileBox');var _0x31943b=_0x1e6f0b('Entity');cc['Class']({'extends':_0x31943b,'properties':{},'onLoad':function(){this[_0x3f7b('0x9e')](Game['Data']['createFragileBoxData']()),this['node']['on']('dead',this['dead'],this);},'dead':function(){this['isAlive']=!0x1,this['node'][_0x3f7b('0x90')](),this['bindRoomCPT'][_0x3f7b('0x9f')](this['tiledPos']),this['bindRoomCPT']['_buildingMap'][this['mapIndex']]=null;}}),cc['_RF']['pop']();},{'Entity':'Entity'}],'GameFunc':[function(_0x512ef3,_0x29d433,_0x22b833){'use strict';cc['_RF']['push'](_0x29d433,'6015dbcmHtDe5ZI9uWkrzmb','GameFunc');var _0x426d4c={'pushToArrMap':function(_0x512ef3,_0x29d433,_0x22b833){_0x512ef3[_0x29d433]=_0x512ef3[_0x29d433]||[],_0x512ef3[_0x29d433]['push'](_0x22b833);},'randomGetItemInArr':function(_0x512ef3,_0x29d433){var _0x22b833=Math[_0x3f7b('0xa0')](Math['random']()*_0x512ef3['length']);return _0x29d433?_0x512ef3['splice'](_0x22b833,0x1)['shift']():_0x512ef3[_0x22b833];}};_0x29d433['exports']=_0x426d4c,cc['_RF']['pop']();},{}],'GameMath':[function(_0x3e5c75,_0x26c4f7,_0xd1bd89){'use strict';cc['_RF']['push'](_0x26c4f7,'f0d3eUQw4NKm55Nw0p6146U',_0x3f7b('0x5c'));var _0x14fd20={'randomRange':function(_0x3e5c75,_0x26c4f7){return Math['random']()*(_0x26c4f7-_0x3e5c75)+_0x3e5c75;},'randomRangeInt':function(_0x3e5c75,_0x26c4f7){return Math['floor'](_0x14fd20[_0x3f7b('0xa1')](_0x3e5c75,_0x26c4f7+0x1));},'normalizeDeg':function(_0x3e5c75){return _0x3e5c75>0xb4?_0x3e5c75-0x168:_0x3e5c75<-0xb4?0x168+_0x3e5c75:_0x3e5c75;}};_0x26c4f7['exports']=_0x14fd20,cc['_RF']['pop']();},{}],'GameMgr':[function(_0x3f7117,_0x917620,_0x562ffc){'use strict';cc['_RF']['push'](_0x917620,'dde7bNwx/hIJ6R0Yjb5SyFW','GameMgr');var _0x5226dc=_0x3f7117('Game');cc['Class']({'extends':cc['Component'],'properties':{},'onLoad':function(){cc['game']['addPersistRootNode'](this['node']),cc['view']['enableAntiAlias'](!0x1),window['Game']=_0x5226dc,_0x5226dc['GameMgr']=this,_0x5226dc['Const']=_0x3f7117('Const'),_0x5226dc['Event']=_0x3f7117('Event'),_0x5226dc['Config']=_0x3f7117('Config'),_0x5226dc['StepTaskMgr']=this['StepTaskMgr']=this['getComponent']('StepTaskMgr'),_0x5226dc['AudioMgr']=this['AudioMgr']=this[_0x3f7b('0x32')]('AudioMgr'),_0x5226dc['PlayMgr']=this['PlayMgr']=this['getComponent']('PlayMgr'),_0x5226dc['PoolMgr']=this['PoolMgr']=this['getComponent']('PoolMgr'),_0x5226dc['ResMgr']=this['ResMgr']=this['getComponent']('ResMgr'),_0x5226dc['MapMgr']=this['MapMgr']=this[_0x3f7b('0x32')]('MapMgr'),_0x5226dc['UIMgr']=this['UIMgr']=this['getComponent']('UIMgr'),_0x5226dc['Data']=this['Data']=this['getComponent']('Data'),_0x5226dc['Data']['init'](),_0x5226dc['AudioMgr']['init'](),cc['director']['on'](cc['Director']['EVENT_AFTER_SCENE_LAUNCH'],this['onEventAfterSceneLaunch'],this);},'start':function(){_0x5226dc['UIMgr']['openUI']('uiStart');},'onEventAfterSceneLaunch':function(){this['sceneName']=cc['director']['getScene']()['name'],_0x5226dc['log']('scene\x20name:',this['sceneName']),'Start'==this['sceneName']&&_0x5226dc[_0x3f7b('0xa2')]['openUI']('uiStart');},'enterPlay':function(){_0x5226dc['PlayMgr']['startPlay']();},'leavePlay':function(){_0x5226dc['PlayMgr']['leavePlay'](),cc['director']['loadScene']('Start');}}),cc['_RF']['pop']();},{'Config':'Config','Const':'Const','Event':'Event','Game':'Game'}],'Game':[function(_0x242826,_0xae8827,_0x95a8f5){'use strict';function _0x2d7ed1(_0x242826){if(Array['isArray'](_0x242826)){if('cWsLs'==='BtjxJ'){this['_itemId']=_0x242826,this['refresh']();}else{for(var _0xae8827=0x0,_0x95a8f5=Array(_0x242826['length']);_0xae8827<_0x242826['length'];_0xae8827++)_0x95a8f5[_0xae8827]=_0x242826[_0xae8827];return _0x95a8f5;}}return Array['from'](_0x242826);}cc['_RF']['push'](_0xae8827,'5a2e8sh4e1DVrHhHbrFYAIh','Game'),_0xae8827['exports']={'GameMgr':null,'AudioMgr':null,'PlayMgr':null,'MapMgr':null,'ItemMgr':null,'UIMgr':null,'ResMgr':null,'Data':null,'Const':null,'Config':null,'Event':null,'log':function(){for(var _0x242826,_0xae8827=arguments['length'],_0x95a8f5=Array(_0xae8827),_0x5acc99=0x0;_0x5acc99<_0xae8827;_0x5acc99++)_0x95a8f5[_0x5acc99]=arguments[_0x5acc99];(_0x242826=cc)['log']['apply'](_0x242826,['%c\x20[log]','color:\x20#17D64D;\x20font-size:\x2020;']['concat'](_0x2d7ed1(_0x95a8f5)));}},cc['_RF'][_0x3f7b('0x95')]();},{}],'Hero':[function(_0x4aed4a,_0xb4e15e,_0x13c307){'use strict';cc['_RF']['push'](_0xb4e15e,'c28d65XkNVK46LcIdgHpsW2','Hero');var _0x3089e1=_0x4aed4a('Entity'),_0x31457a=_0x4aed4a('GameMath');cc['Class']({'extends':_0x3089e1,'properties':{'bodySpr':cc['Node']},'ctor':function(){this['autoAimEntity']=null,this['_isAtkingAfterATime']=!0x0,this['_isConsumeEnergyAfterATime']=!0x0,this['_isConsumeShieldAfterATime']=!0x0,this['consumeEnergyAfterTime']=1.5,this['consumeShieldAfterTime']=1.5,this['doorConntactNum']=0x0,this['heroRad']=0x0;},'onLoad':function(){if('DIDwk'==='xMZRE'){!_0x13c307&&r['return']&&r['return']();}else{this['setEntityData'](Game['Data']['heroData']),this['weapon']=null,this['weaponCPT']=null,this['movingRoomCPT']=null,this['weaponNone']=this['node'][_0x3f7b('0x75')]('body')['getChildByName']('weaponNode'),this[_0x3f7b('0x33')]=this['getComponent'](cc['RigidBody']),this['operatedRange']=this['node']['getChildByName']('operatedRange'),this['node']['on']('moveAngleChange',this['onMoveAngleChange'],this),this['node']['on']('heroWeaponUpdate',this['updateUsingWepaon'],this),this[_0x3f7b('0x41')]['on']('dead',this['dead'],this),this['node']['on']('realive',this[_0x3f7b('0xa3')],this),Game['Data']['node']['on']('entitySPChange',this['onEntitySPChange'],this),Game['Data']['node']['on']('entityMoveSpeedChange',this['onEntityMoveSpeedChange'],this);}},'start':function(){this['updateUsingWepaon'](),this['updateMoveSpeed'](),this['updateMovingRoomCPT']();},'realive':function(){this[_0x3f7b('0x3f')]=!0x0,this['weaponNone']['active']=!0x0,this['getComponent']('MoveUnit')['enabled']=!0x0,this['getComponent'](cc['PhysicsCollider'])[_0x3f7b('0x2')]=!0x0,this['enabled']=!0x0,this[_0x3f7b('0x41')]['emit'](_0x3f7b('0xa4'),!0x0);},'dead':function(){var _0x4aed4a=this;this['autoAimEntity']=null,this['isAlive']=!0x1,this['weaponNone']['active']=!0x1,Game['AudioMgr']['playEffect']('hit'),this['rigidBody'][_0x3f7b('0xa5')]=this['rigidBody'][_0x3f7b('0xa5')]['normalizeSelf']()[_0x3f7b('0xa6')](_0x31457a['randomRange'](0x1f4,0x320)),this['enabled']=!0x1,this['getComponent']('MoveUnit')['enabled']=!0x1;var _0xb4e15e=this['getComponent'](_0x3f7b('0xa7'))['anim'];_0xb4e15e['play']('dead'),_0xb4e15e['on']('finished',function(){_0x4aed4a['rigidBody']['linearVelocity']=cc['v2'](),_0x4aed4a[_0x3f7b('0x32')](cc[_0x3f7b('0xa8')])['enabled']=!0x1;});},'setAutoAimEntity':function(_0x4aed4a){if(_0x3f7b('0xa9')!=='vKhLe'){if(this['autoAimEntity']=_0x4aed4a,this['autoAimEntity']&&this['weaponCPT']){var _0xb4e15e=this['autoAimEntity']['node']['position']['sub'](this['node']['position'])['normalizeSelf'](),_0x13c307=Math['atan2'](_0xb4e15e['y'],_0xb4e15e['x']);this['weaponCPT']['atkRad']=_0x13c307,this['weaponCPT']['atkDeg']=cc['misc']['radiansToDegrees'](_0x13c307),this[_0x3f7b('0xc')]['atkDirVec']=_0xb4e15e,this['weaponCPT']['setAtkDir'](_0x13c307);}}else{this['_startTime']=0.3,this['laserPointFirst']=null,this['laserObjs']=[],this['audioID']=-0x1,this['isFiring']=!0x1;}},'onAtkAngleChange':function(_0x4aed4a){this['setHeroDir'](_0x4aed4a);},'isAtking':function(){return this['_isAtking'];},'atkingAfterATime':function(){if('mIiwP'!=='mIiwP'){_0x4aed4a?(this['bossEntityId']=_0x4aed4a[_0x3f7b('0x93')](),this[_0x3f7b('0xaa')]['setMax'](Math['floor'](_0x4aed4a['data']['maxHP'])),this['bossPrgHP']['setVal'](Math['floor'](_0x4aed4a['data']['hp']))):this[_0x3f7b('0xab')]=-0x1,this['nodeDict']['bossInfo']['active']=this[_0x3f7b('0xab')]>=0x0,this['nodeDict']['bossInfo']['active']&&(this['nodeDict']['bossInfo']['y']=0x171,cc['tween'](this[_0x3f7b('0xac')]['bossInfo'])['to'](0.25,{'y':0xd4})['start']());}else{this['_isAtkingAfterATime']=!0x0;}},'onAtkStatusChange':function(_0x4aed4a){this['_isAtking']!==_0x4aed4a&&(this['_isAtking']=_0x4aed4a,!0x1===this['_isAtking']?this['scheduleOnce'](this['atkingAfterATime'],0x1):(this['_isAtkingAfterATime']=!0x1,this['unschedule'](this['atkingAfterATime'])));},'onMoveAngleChange':function(_0x4aed4a){this['_isAtkingAfterATime']&&!this['autoAimEntity']&&(this['setHeroDir'](_0x4aed4a),this['weaponCPT']&&this['weaponCPT']['setAtkDir'](_0x4aed4a));},'setHeroDir':function(_0x4aed4a){if('LIHzi'==='LIHzi'){this['heroRad']=_0x4aed4a;var _0xb4e15e=cc['misc']['radiansToDegrees'](_0x4aed4a);this['bodySpr']['scaleX']=_0xb4e15e>-0x5a&&_0xb4e15e<0x5a?0x1:-0x1;}else{_0x3089e1=!0x0,_0x31457a=_0x4aed4a;}},'onEntityMoveSpeedChange':function(_0x4aed4a){_0x4aed4a===this['data']['entityId']&&this['updateMoveSpeed']();},'updateMoveSpeed':function(){this['getComponent']('MoveUnit')['moveSpeed']=this['data']['moveSpeed'];},'consumeSPAfterATime':function(){this['_isConsumeShieldAfterATime']=!0x0;},'onEntitySPChange':function(_0x4aed4a,_0xb4e15e,_0x13c307){_0x4aed4a===this['data']['entityId']&&'getAtk'===_0x13c307&&(this['_isConsumeShieldAfterATime']||this['unschedule'](this['consumeSPAfterATime']),this['_isConsumeShieldAfterATime']=!0x1,this['scheduleOnce'](this['consumeSPAfterATime'],this['consumeShieldAfterTime']));},'consumeEnergyAfterATime':function(){this[_0x3f7b('0xad')]=!0x0;},'consumeEnergy':function(_0x4aed4a){var _0xb4e15e=Game['Data']['consumeEnergy'](this[_0x3f7b('0xae')]['entityId'],_0x4aed4a);return _0xb4e15e&&_0x4aed4a>0x0&&(!0x1===this['_isConsumeEnergyAfterATime']&&this['unschedule'](this['consumeEnergyAfterATime']),this['_isConsumeEnergyAfterATime']=!0x1,this['scheduleOnce'](this['consumeEnergyAfterATime'],this['consumeEnergyAfterTime'])),_0xb4e15e;},'updateMovingRoomCPT':function(){var _0x4aed4a=this[_0x3f7b('0xaf')];this['movingRoomCPT']=Game['MapMgr']['getRoomCPTByWroldPos'](this['node']['convertToWorldSpaceAR'](cc['v2']())),_0x4aed4a!==this['movingRoomCPT']&&this['node']['emit']('heroMovingRoomChange',this['node']);},'updateUsingWepaon':function(){var _0x4aed4a=this,_0xb4e15e=this['data']['weapons'][this[_0x3f7b('0xae')]['usingWeaponIndex']];if(_0xb4e15e){var _0x13c307=_0xb4e15e['id'];this['talk'](Game['Config']['getItemName'](_0x13c307),Game['Config']['getItemColor'](_0x13c307),0.3,!0x1),Game['ResMgr'][_0x3f7b('0xb0')](_0x13c307,function(_0xb4e15e){var _0x3089e1=_0x4aed4a[_0x3f7b('0xae')]['weapons'][_0x4aed4a['data']['usingWeaponIndex']];_0x3089e1&&_0x3089e1['id']!==_0x13c307||(_0x4aed4a['weapon']&&(_0x4aed4a['weapon']['destroy'](),_0x4aed4a['_isAtking']=!0x1),_0x4aed4a['weapon']=cc['instantiate'](_0xb4e15e),_0x4aed4a['weapon']['on']('atkAngleChange',_0x4aed4a['onAtkAngleChange'],_0x4aed4a),_0x4aed4a[_0x3f7b('0xb1')]['on']('atk-status-change',_0x4aed4a['onAtkStatusChange'],_0x4aed4a),_0x4aed4a['weaponCPT']=_0x4aed4a['weapon'][_0x3f7b('0x32')]('Weapon'),_0x4aed4a['weaponCPT']['equipToEntity'](_0x4aed4a),_0x4aed4a['weaponCPT']['setAtkDir'](_0x4aed4a['heroRad']),Game['AudioMgr']['playEffect']('weapon-packup'));});}},'getDropWorldPos':function(){var _0x4aed4a=cc['v2'](Math['cos'](this['heroRad']),Math['sin'](this['heroRad']));return this['node']['convertToWorldSpaceAR'](_0x4aed4a['mulSelf'](0x2d));},'update':function(_0x4aed4a){this['isAlive']&&(this['operatedRange']['position']=cc['v2'](),this['_isConsumeEnergyAfterATime']&&this[_0x3f7b('0xae')]['energy']<this['data']['maxEnergy']&&Game['Data']['repairEnergy'](this['entityId'],_0x4aed4a,Game['PlayMgr']['isFighting']),this['_isConsumeShieldAfterATime']&&this['data']['sp']<this['data']['maxSP']&&Game['Data']['repairSP'](this['entityId'],_0x4aed4a,Game['PlayMgr']['isFighting']));},'onBeginContact':function(_0x4aed4a,_0xb4e15e,_0x13c307){var _0x3089e1=_0x13c307['node']['getComponent']('Entity');!_0x3089e1||_0x4aed4a['disabled']?'doorBody'==_0x13c307['node']['name']&&(this['doorConntactNum']++,_0x4aed4a['disabled']=!_0x13c307['node']['getComponent']('doorBody')['doorState']):_0x4aed4a['disabled']=!_0x3089e1['isAlive'];},'onEndContact':function(_0x4aed4a,_0xb4e15e,_0x13c307){_0x3f7b('0xb2')==_0x13c307['node']['name']&&(this['doorConntactNum']--,0x0===this['doorConntactNum']&&this['updateMovingRoomCPT']());},'onPreSolve':function(_0x4aed4a,_0xb4e15e,_0x13c307){},'onPostSolve':function(_0x4aed4a,_0xb4e15e,_0x13c307){}}),cc['_RF']['pop']();},{'Entity':_0x3f7b('0x3c'),'GameMath':'GameMath'}],'ItemInList':[function(_0x18fb34,_0x30fcb8,_0x1ce621){'use strict';cc[_0x3f7b('0x58')]['push'](_0x30fcb8,'bc45bqDZvlIp7SRnmTWWMIC','ItemInList'),cc['Class']({'extends':cc['Component'],'properties':{'selectFrame':cc['Node']},'ctor':function(){this['data']=null,this[_0x3f7b('0xb3')]=!0x1;},'onLoad':function(){this['label']=this['getComponentInChildren'](cc['Label']),this[_0x3f7b('0xb4')]=this['node']['getChildByName']('spr')['getComponent'](cc['Sprite']),this['node']['on'](cc['Node']['EventType']['TOUCH_START'],this['onTouchStart'],this);},'onTouchStart':function(){this['node']['dispatchEvent'](new cc['Event']['EventCustom']('itemInList-select',!0x0));},'setData':function(_0x18fb34){this['data']=_0x18fb34,this['refresh']();},'setSelectState':function(_0x18fb34){_0x18fb34!==this['isSelected']&&(this['isSelected']=_0x18fb34,this['selectFrame']['active']=this['isSelected']);},'refresh':function(){var _0x18fb34=this;this['label']['string']=this['data']['itemId'],Game['ResMgr']['getItem'](this['data']['itemId'],function(_0x30fcb8){_0x18fb34['sprite']['spriteFrame']=_0x30fcb8['data']['getChildByName']('spr')['getComponent'](cc['Sprite'])['spriteFrame'];}),this['selectFrame']['active']=this['isSelected'];}}),cc[_0x3f7b('0x58')]['pop']();},{}],'Item':[function(_0x37f4cc,_0x494d90,_0x1bbba6){'use strict';cc['_RF']['push'](_0x494d90,'21cf4AnZu1OULf8WOxiNKn9','Item'),cc['Class']({'extends':cc['Component'],'properties':{'arrowPosNode':cc['Node'],'itemId':0x0},'ctor':function(){if('WlrpL'==='WlrpL'){this['isVaild']=!0x0;}else{return this[_0x3f7b('0xb5')][_0x3f7b('0x41')]['convertToWorldSpaceAR'](this['getPositionAt'](cc['v2'](Math['floor'](this['mapSize']['width']/0x2),Math['floor'](this['mapSize']['height']/0x2))));}},'onLoad':function(){this['cfg']=Game[_0x3f7b('0x46')]['ItemCfg'][this['itemId']];},'setVaild':function(_0x37f4cc){this[_0x3f7b('0xb6')]!==_0x37f4cc&&(this['isVaild']=_0x37f4cc,this['isVaild']||Game['PlayMgr']['delInRangeTarget'](this['node']));},'getArrowPosNode':function(){return this['arrowPosNode'];},'getName':function(){return Game['Config']['getItemName'](this['itemId']);},'jump':function(_0x37f4cc){var _0x494d90=this;if(this['getComponent'](cc['PhysicsCollider'])['enabled']=!0x1,!_0x37f4cc){var _0x1bbba6=this['node']['position'],_0x5471c7=0x2*Math['PI']*Math[_0x3f7b('0xb7')](),_0x3b5e75=0x32+0x32*Math['random']();_0x37f4cc=cc['v2'](_0x1bbba6['x']+_0x3b5e75*Math['cos'](_0x5471c7),_0x1bbba6['y']+_0x3b5e75*Math['sin'](_0x5471c7));}cc[_0x3f7b('0xb8')](this['node'])['to'](0.3,{'position':_0x37f4cc},{'easing':'quadOut'})['call'](function(){_0x494d90['getComponent'](cc['PhysicsCollider'])['enabled']=!0x0;})['start'](),cc['tween'](this[_0x3f7b('0x41')]['getChildByName']('spr'))['by'](0.1,{'position':cc['v2'](0x0,0x1e)})['by'](0.15,{'position':cc['v2'](0x0,-0x1e)})['start']();},'interaction':function(){},'onBeginContact':function(_0x37f4cc,_0x494d90,_0x1bbba6){if(this['isVaild']){var _0x133e58=_0x1bbba6['node']['group'];_0x133e58!==Game[_0x3f7b('0x57')]['Group']['HERO_OPERATED_RANGE']&&_0x133e58!==Game['Const']['Group'][_0x3f7b('0xb9')]||Game['PlayMgr']['addInRangeTarget'](this['node']);}},'onEndContact':function(_0x37f4cc,_0x494d90,_0x1bbba6){var _0x478788=_0x1bbba6['node']['group'];_0x478788!==Game[_0x3f7b('0x57')]['Group']['HERO_OPERATED_RANGE']&&_0x478788!==Game['Const']['Group']['HERO']||Game['PlayMgr']['delInRangeTarget'](this['node']);}}),cc['_RF']['pop']();},{}],'Joystick':[function(_0x418d92,_0x54e3ca,_0x3c44e7){'use strict';cc['_RF']['push'](_0x54e3ca,'33b9aW2JNJALLXTwYp+k8pv',_0x3f7b('0xba'));var _0xc0c253=cc['Enum']({'DEFUALT':-0x1,'MOVE':-0x1});cc['Class']({'extends':cc['Component'],'properties':{'radius':0x3c,'touchAreaNode':cc['Node'],'touchPointNode':cc['Node'],'bg':cc['Node'],'modeType':{'default':_0xc0c253['DEFUALT'],'type':_0xc0c253}},'onLoad':function(){this['initPos']=this['bg']['position'],this['reset'](),this['touchAreaNode']['on']('touchstart',function(_0x418d92){this[_0x3f7b('0xbb')]=!0x0,this['startByTouch'](_0x418d92);},this),this['touchAreaNode']['on'](_0x3f7b('0xbc'),function(_0x418d92){this['updateByTouch'](_0x418d92);},this),this['touchAreaNode']['on']('touchend',function(_0x418d92){if('qMjPO'!==_0x3f7b('0xbd')){this[_0x3f7b('0xbe')](this['radian']);}else{return _0x54e3ca in _0x418d92?Object['defineProperty'](_0x418d92,_0x54e3ca,{'value':_0x3c44e7,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x418d92[_0x54e3ca]=_0x3c44e7,_0x418d92;}},this),this['touchAreaNode']['on']('touchcancel',function(_0x418d92){this['reset'](this['radian']);},this);},'startByTouch':function(_0x418d92){var _0x54e3ca=this['touchAreaNode']['convertToNodeSpaceAR'](_0x418d92['getLocation']());this['modeType']===_0xc0c253['MOVE']&&(this['centerPos']=_0x54e3ca),this['bg'][_0x3f7b('0x3d')]=this['centerPos'],this['touchPointNode']['setPosition'](this['centerPos']),this['bg']['opacity']=0xff,this['touchPointNode']['opacity']=0xff,this[_0x3f7b('0xbf')]===_0xc0c253['DEFUALT']&&this['updateByTouch'](_0x418d92);},'updateByTouch':function(_0x418d92){var _0x54e3ca=this['touchAreaNode']['convertToNodeSpaceAR'](_0x418d92['getLocation']())['sub'](this['centerPos']);this['dirVec']=_0x54e3ca['normalize'](),this['radian']=Math['atan2'](this['dirVec']['y'],this['dirVec']['x']),_0x54e3ca['magSqr']()>this['radius']*this['radius']&&(_0x54e3ca['x']=Math['cos'](this[_0x3f7b('0xc0')])*this['radius'],_0x54e3ca['y']=Math['sin'](this['radian'])*this['radius']),this[_0x3f7b('0xc1')]['setPosition'](this['centerPos']['add'](_0x54e3ca)),this['node']['emit']('update',this);},'reset':function(){var _0x418d92=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:0x0;this['status']=!0x1,this['lastRad']=_0x418d92,this['radian']=0x0,this['force']=0x0,this['dirVec']=cc['v2'](),this['centerPos']=this['initPos'],this['touchPointNode']['setPosition'](this['centerPos']),this['bg']['setPosition'](this['centerPos']),this['bg'][_0x3f7b('0xc2')]=0x78,this['touchPointNode']['opacity']=0x78,this['node']['emit']('update',this);},'getDirVec':function(){return this['dirVec'];},'getRad':function(){return this['radian'];},'getLastRad':function(){return this['lastRad'];},'getForce':function(){return this['force'];},'isTouching':function(){return this['status'];}}),cc['_RF']['pop']();},{}],'MapMgr':[function(_0x337e32,_0x2fe211,_0x5c1ef5){'use strict';cc[_0x3f7b('0x58')]['push'](_0x2fe211,'a421e775WJFSY3lsbvgt1bA','MapMgr'),cc['Class']({'extends':cc['Component'],'properties':{},'ctor':function(){if('KrMCK'==='yRNVF'){return this['waveInfo'][_0x337e32];}else{this[_0x3f7b('0xc3')]=[];}},'clearMap':function(){var _0x337e32=!0x0,_0x2fe211=!0x1,_0x5c1ef5=void 0x0;try{for(var _0x4edbf3,_0x32a16a=this['rooms'][Symbol['iterator']]();!(_0x337e32=(_0x4edbf3=_0x32a16a['next']())['done']);_0x337e32=!0x0){_0x4edbf3['value']['destroy']();}}catch(_0x3ddf96){_0x2fe211=!0x0,_0x5c1ef5=_0x3ddf96;}finally{try{!_0x337e32&&_0x32a16a['return']&&_0x32a16a[_0x3f7b('0xc4')]();}finally{if(_0x2fe211)throw _0x5c1ef5;}}},'initMap':function(_0x337e32){var _0x2fe211=this;this['scene']=_0x337e32,this['rooms']=[],this['roomPaths']=[],this['_randomRoomDatas']=Game['Data']['roomDatas'],this['roomCreatedCount']=0x0,this['roomTotalCount']=this['_randomRoomDatas']['length'];var _0x5c1ef5=function(_0x337e32){var _0x5c1ef5=Game['Config']['getRoomCfg'](_0x337e32['roomCfgId']);cc['loader']['loadRes']('maps/'+Game['Data']['roomTheme']+'/'+_0x5c1ef5['assetName'],cc['TiledMapAsset'],function(_0x5c1ef5,_0x251e6d){_0x5c1ef5?cc['error'](_0x5c1ef5):Game['StepTaskMgr']['addTask'](function(){var _0x5c1ef5=new cc['Node']();_0x2fe211['rooms'][_0x337e32['id']]=_0x5c1ef5,_0x5c1ef5['parent']=_0x2fe211['scene'],_0x5c1ef5['addComponent'](cc['TiledMap'])['tmxAsset']=_0x251e6d,_0x5c1ef5[_0x3f7b('0xc5')]('TiledMapRoom')['setRoomData'](_0x337e32),_0x2fe211['roomCreatedCount']+=0x1,_0x2fe211['roomCreatedCount']===_0x2fe211['roomTotalCount']&&_0x2fe211['scheduleOnce'](function(){if('vIgDx'==='vIgDx'){Game[_0x3f7b('0xc6')]['dispatch'](Game['Event']['Type']['mapLoadStage1']),_0x2fe211['initRooms']();}else{var _0x25bc77=cc['misc']['radiansToDegrees'](_0x337e32);this['bodySpr']['scaleX']=_0x25bc77>-0x5a&&_0x25bc77<0x5a?0x1:-0x1;}},0x0);});});},_0x251e6d=!0x0,_0x221ab8=!0x1,_0x24e451=void 0x0;try{for(var _0x3b401e,_0x504df4=this[_0x3f7b('0xc7')][Symbol['iterator']]();!(_0x251e6d=(_0x3b401e=_0x504df4['next']())['done']);_0x251e6d=!0x0){_0x5c1ef5(_0x3b401e['value']);}}catch(_0x2c46e4){_0x221ab8=!0x0,_0x24e451=_0x2c46e4;}finally{if('fPnKm'===_0x3f7b('0xc8')){try{!_0x251e6d&&_0x504df4[_0x3f7b('0xc4')]&&_0x504df4['return']();}finally{if(_0x221ab8)throw _0x24e451;}}else{if(!this['atkStatus']['act']&&(this['atkStatus']['act']=!0x0,this['atkStatus']['durationTime']=_0x337e32+this['atkRemindTime']+this['atkFinishDelayTime'],this['atkStatus']['stopAtkTime']=_0x337e32+this['atkRemindTime'],this['atkStatus']['atkTime']=0x0,this['node']['emit']('AI-executeAtk'),this['scheduleOnce'](this['onAtk'],this['atkRemindTime']),this['atkTalk'][_0x3f7b('0x27')]>0x0)){var _0x160b0a=_0x251e6d['randomRangeInt'](0x0,this['atkTalk']['length']-0x1);this['entity']['talk'](this['atkTalk'][_0x160b0a],null,1.5);}}}},'initRooms':function(){var _0x337e32=this,_0x2fe211=this[_0x3f7b('0xc3')]['length'],_0x5c1ef5=function(_0x5c1ef5){Game['StepTaskMgr']['addTask'](function(){_0x5c1ef5['getComponent']('TiledMapRoom')['init'](function(){if('LHUGc'!=='LHUGc'){this['moveStatus'][_0x3f7b('0xc9')]&&(this['moveStatus']['updateTime']+=_0x337e32,this['moveStatus']['movePoint']||this['getMovePoint'](),this['moveStatus']['movePoint']?this['moveToPoint']():this['stopMove']());}else{0x0===--_0x2fe211&&_0x337e32['scheduleOnce'](function(){_0x337e32[_0x3f7b('0xca')]();},0x0);}});});},_0x4da2fa=!0x0,_0x58eafe=!0x1,_0x383fcf=void 0x0;try{for(var _0x80889a,_0x1655b1=this['rooms'][Symbol[_0x3f7b('0xcb')]]();!(_0x4da2fa=(_0x80889a=_0x1655b1['next']())['done']);_0x4da2fa=!0x0){_0x5c1ef5(_0x80889a['value']);}}catch(_0x3422b4){if('AIFoQ'!=='JQawe'){_0x58eafe=!0x0,_0x383fcf=_0x3422b4;}else{if(this['autoAimEntity']=_0x3422b4,this['autoAimEntity']&&this[_0x3f7b('0xc')]){var _0x13269a=this['autoAimEntity']['node']['position']['sub'](this['node']['position'])['normalizeSelf'](),_0x456520=Math['atan2'](_0x13269a['y'],_0x13269a['x']);this['weaponCPT']['atkRad']=_0x456520,this['weaponCPT']['atkDeg']=cc['misc']['radiansToDegrees'](_0x456520),this['weaponCPT']['atkDirVec']=_0x13269a,this['weaponCPT']['setAtkDir'](_0x456520);}}}finally{try{if('RjhMC'!==_0x3f7b('0xcc')){!_0x4da2fa&&_0x1655b1['return']&&_0x1655b1['return']();}else{Game['Data']['heroData']['entityId']===_0x337e32&&this['prgEn']['setMax'](Math['floor'](_0x2fe211));}}finally{if(_0x58eafe)throw _0x383fcf;}}},'getAllRoom':function(){return this['rooms'];},'refreshActiveRoom':function(_0x337e32){if('VfixP'!=='VfixP'){this['moveStatus']['act']&&(this['moveStatus']['act']=!0x1,this['moveStatus']['moveLevel']=0x0,this['node']['emit']('update-dir',{'dir':null}));}else{var _0x2fe211=this['rooms'][_0x337e32];if(_0x2fe211){_0x2fe211['getComponent']('TiledMapRoom')['setEntityPhysicsAct'](!0x0);var _0x5c1ef5={};_0x5c1ef5[_0x337e32]=!0x0;var _0x354751=this['_randomRoomDatas'][_0x337e32]['realSockets'];for(var _0x433489 in _0x354751)_0x5c1ef5[_0x354751[_0x433489]]=!0x0,this['rooms'][_0x354751[_0x433489]]['getComponent']('TiledMapRoom')['setEntityPhysicsAct'](!0x1);for(var _0x352efd in this['rooms'])this['rooms'][_0x352efd]['active']=!!_0x5c1ef5[_0x352efd];}}},'alignRoom':function(_0x337e32,_0x2fe211){var _0x5c1ef5=this['rooms'][_0x337e32];_0x5c1ef5['getComponent']('TiledMapRoom');_0x5c1ef5['position']=_0x2fe211,_0x5c1ef5['_isAlign']=!0x0;var _0x7f1235=_0x5c1ef5['getContentSize'](),_0x455b45=this['_randomRoomDatas'][_0x337e32]['realSockets'];for(var _0x4d7760 in _0x455b45){var _0x18d8f1=_0x455b45[_0x4d7760],_0x18f81b=this['rooms'][_0x18d8f1],_0x319587=(_0x18f81b['getComponent']('TiledMapRoom'),_0x18f81b['getContentSize']());if(!_0x18f81b['_isAlign']){var _0x144295=_0x2fe211['clone']();_0x4d7760==Game['Const']['Direction']['UP']?_0x144295['y']+=_0x7f1235['height']/0x2+_0x319587['height']/0x2:_0x4d7760==Game['Const']['Direction']['DOWN']?_0x144295['y']-=_0x7f1235['height']/0x2+_0x319587['height']/0x2:_0x4d7760==Game['Const']['Direction']['LEFT']?_0x144295['x']-=_0x7f1235['width']/0x2+_0x319587['width']/0x2:_0x4d7760==Game['Const']['Direction']['RIGHT']&&(_0x144295['x']+=_0x7f1235['width']/0x2+_0x319587['width']/0x2),this['alignRoom'](_0x18d8f1,_0x144295);}}},'mapLoadEnd':function(){Game['log']('mapLoadEnd'),Game['Event']['dispatch'](Game['Event']['Type']['mapLoadEnd']);},'getBornRoom':function(){return arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0]?this['rooms'][0x0]&&this['rooms'][0x0]['getComponent']('TiledMapRoom'):this['rooms'][0x0];},'getHeroBornPos':function(){var _0x337e32=this['getBornRoom'](!0x0);return _0x337e32?_0x337e32['getHeroBornPos']():cc['v2']();},'getRoomCPTByWroldPos':function(_0x337e32){var _0x2fe211=null,_0x5c1ef5=!0x0,_0x38f670=!0x1,_0x15fe6a=void 0x0;try{for(var _0x127a6a,_0x334267=this[_0x3f7b('0xcd')]()[Symbol[_0x3f7b('0xcb')]]();!(_0x5c1ef5=(_0x127a6a=_0x334267['next']())['done']);_0x5c1ef5=!0x0){if((_0x2fe211=_0x127a6a['value']['getComponent']('TiledMapRoom'))[_0x3f7b('0xce')](_0x337e32))return _0x2fe211;}}catch(_0x1912bc){_0x38f670=!0x0,_0x15fe6a=_0x1912bc;}finally{try{!_0x5c1ef5&&_0x334267['return']&&_0x334267['return']();}finally{if(_0x38f670)throw _0x15fe6a;}}}}),cc[_0x3f7b('0x58')]['pop']();},{}],'Min-map-room':[function(_0x2264e8,_0x20a603,_0x5c34af){'use strict';cc['_RF']['push'](_0x20a603,'11f91qnQGNOU7tg3bMchNmB','Min-map-room'),cc['Class']({'extends':cc['Component'],'properties':{'spAtlas':cc['SpriteAtlas'],'iconSFArr':[cc['SpriteFrame']]},'init':function(_0x2264e8){switch(_0x2264e8['type']){case Game['Const']['RoomType']['BORN']:this['setIcon'](0x0);break;case Game[_0x3f7b('0x57')]['RoomType']['TREASURE_BOX']:this['setIcon'](0x1);break;case Game[_0x3f7b('0x57')]['RoomType'][_0x3f7b('0xcf')]:this['setIcon'](0x2);}},'setIcon':function(_0x2264e8){if('QOYmm'==='QOYmm'){var _0x20a603=new cc['Node']();_0x20a603['parent']=this['node'];var _0x5c34af=_0x20a603[_0x3f7b('0xc5')](cc['Sprite']);_0x5c34af[_0x3f7b('0xd0')]=this['spAtlas'],_0x5c34af['spriteFrame']=this['iconSFArr'][_0x2264e8];}else{this['hitLeftTime']=0x0,this['isFiring']=!0x0,this['laserPointFirst']['getComponent'](cc['Animation'])['play']('laser-point-firing-12'),this['laserObjs']['forEach'](function(_0x398bb1){_0x398bb1['main']['getComponent'](cc['Animation'])['play'](_0x3f7b('0xd1')),_0x398bb1['point']['getComponent'](cc['Animation'])['play']('laser-point-firing-12');}),this['audioID']=cc['audioEngine'][_0x3f7b('0x8e')](this['laserClip'],!0x0);}}}),cc['_RF']['pop']();},{}],'Min-map':[function(_0xa77ae6,_0x591692,_0x4f1bab){'use strict';cc['_RF']['push'](_0x591692,_0x3f7b('0xd2'),'Min-map'),cc['Class']({'extends':cc['Component'],'properties':{'roomPrefab':cc['Prefab'],'pathPrefab':cc['Prefab'],'scene':cc['Node']},'onLoad':function(){this['rooms']=[],this['drawMinMap'](Game['Data']['roomDatas']),this['node']['getChildByName']('levelText')['getComponent'](cc['Label'])['string']='第\x20'+Game[_0x3f7b('0xd3')]['playLevel']+'\x20关';},'onEnable':function(){Game[_0x3f7b('0xc6')]['on'](Game[_0x3f7b('0xc6')]['Type']['heroMoveingRoomChange'],this['heroMovingRoomUpdate'],this);},'onDisable':function(){Game['Event']['clear'](this);},'heroMovingRoomUpdate':function(_0xa77ae6){var _0x591692=_0xa77ae6['roomId'];for(var _0x4f1bab in this['rooms'])this['rooms'][_0x4f1bab]['opacity']=Number(_0x4f1bab)===_0x591692?0xff:0x7d;},'drawMinMap':function(_0xa77ae6){if('cEgCf'!=='RRQyc'){var _0x591692=!0x0,_0x4f1bab=!0x1,_0x228276=void 0x0;try{for(var _0x4452ab,_0x48b668=_0xa77ae6[Symbol['iterator']]();!(_0x591692=(_0x4452ab=_0x48b668['next']())['done']);_0x591692=!0x0){var _0x45ba78=_0x4452ab['value'];if(_0x45ba78['type']===Game['Const']['RoomType']['PATHX']||_0x45ba78['type']===Game['Const']['RoomType']['PATHY']){var _0x61713a=cc['instantiate'](this['pathPrefab']);_0x45ba78['type']===Game['Const'][_0x3f7b('0x4f')][_0x3f7b('0x4b')]&&(_0x61713a['rotation']=0x5a),_0x61713a['parent']=this[_0x3f7b('0xd4')],_0x61713a[_0x3f7b('0x3d')]=_0x45ba78['pos'][_0x3f7b('0x9a')](0xf),_0x61713a['opacity']=0x7d,this['rooms'][_0x45ba78['id']]=_0x61713a;}else{var _0x137509=cc['instantiate'](this['roomPrefab']);_0x137509['parent']=this['scene'],_0x137509[_0x3f7b('0x3d')]=_0x45ba78['pos']['mul'](0xf),_0x137509['opacity']=0x7d,_0x137509[_0x3f7b('0x32')]('Min-map-room')['init'](_0x45ba78),this['rooms'][_0x45ba78['id']]=_0x137509;}}}catch(_0xf8a763){if('nqHcu'===_0x3f7b('0xd5')){_0x4f1bab=!0x0,_0x228276=_0xf8a763;}else{_0x591692['progress']=_0x591692['w']/_0xf8a763['totalWeight'],_0x591692['FinishedEvent']?Game['Event']['on'](_0x591692['FinishedEvent'],function(){_0xf8a763['realProgress']+=_0x591692['progress'];},_0xf8a763):_0xf8a763[_0x3f7b('0xd6')]+=_0x591692['progress'];}}finally{try{!_0x591692&&_0x48b668['return']&&_0x48b668[_0x3f7b('0xc4')]();}finally{if(_0x4f1bab)throw _0x228276;}}}else{for(var _0x55dc29,_0x4d7241=this['layers'][Symbol['iterator']]();!(_0x591692=(_0x55dc29=_0x4d7241['next']())[_0x3f7b('0x7c')]);_0x591692=!0x0){var _0x24874c=_0x55dc29['value'];this['delTiledAt'](_0x24874c,_0xa77ae6);}}}}),cc['_RF']['pop']();},{}],'MoveUnit':[function(_0x40bc56,_0x4cd1f7,_0x2844af){'use strict';cc['_RF']['push'](_0x4cd1f7,'68ebfmzoERH9bE/0ACo/Xnk','MoveUnit');var _0x3d698a=cc['Enum']({'None':-0x1,'Stand':-0x1,'Run':-0x1});cc['Class']({'extends':cc['Component'],'properties':{'moveSpeed':0x0,'anim':{'default':null,'type':cc['Animation']}},'statics':{'MoveState':_0x3d698a},'onLoad':function(){if('sQYrY'!==_0x3f7b('0xd7')){var _0x2e95f0=this['node']['convertToWorldSpaceAR'](cc['v2']());Game['Config'][_0x3f7b('0x55')]['forEach'](function(_0x15d44d){_0x15d44d&&0x1===_0x15d44d['type']&&Game[_0x3f7b('0x1c')]['spawnItem'](_0x15d44d['id'],_0x2e95f0,function(_0x2e95f0){_0x2e95f0['getComponent']('Item')[_0x3f7b('0xd8')]();});});}else{this['moveForbid']=0x0,this['moveState']=_0x3d698a['Stand'],this['node']['on']('stand',this['stand'],this),this['node']['on']('freeze',this['stop'],this),this[_0x3f7b('0x41')]['on']('update-dir',this['updateDir'],this),this['node']['on']('add-forbid-move',this['addForbid'],this),this['node']['on'](_0x3f7b('0xd9'),this[_0x3f7b('0xda')],this);}},'addForbid':function(){this['moveForbid']+=0x1;},'removeForbid':function(){this['moveForbid']-=0x1,this['moveForbid']<0x0&&(this['moveForbid']=0x0);},'stand':function(){var _0x40bc56=arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0];(this['moveState']!==_0x3d698a['Stand']||_0x40bc56)&&(this['anim']['play']('stand'),this['moveState']=_0x3d698a['Stand']);},'stop':function(){if('yzJhy'!=='dPCDU'){this['anim']['stop'](),this['moveState']=_0x3d698a['None'],this['moveDir']=null;}else{if(c)throw h;}},'run':function(){this[_0x3f7b('0xdb')]!==_0x3d698a['Run']&&(this['anim']['play']('run'),this['moveState']=_0x3d698a['Run']);},'updateDir':function(_0x40bc56){var _0x4cd1f7=_0x40bc56['dir'],_0x2844af=_0x40bc56['rad'];this['moveDir']=_0x4cd1f7,this[_0x3f7b('0xdc')]=_0x2844af;},'update':function(_0x40bc56){if(0x0===this[_0x3f7b('0xdd')])if(this['moveDir']){if('pWGHj'==='pWGHj'){this['node']['x']+=this['moveSpeed']*this['moveDir']['x']*_0x40bc56,this['node']['y']+=this[_0x3f7b('0xde')]*this['moveDir']['y']*_0x40bc56,this['node']['emit']('moveAngleChange',this['moveRad']),this['run']();}else{var _0x37c485=this,_0x509cfe=_0x3d698a['MapMgr']['getHeroBornPos']();this['playBornAnim'](_0x509cfe,function(_0x31eb2f){if(_0x3f7b('0xdf')==_0x31eb2f['name']){_0x37c485['heroEntity']=cc['instantiate'](_0x3d698a['ResMgr']['getPreloadAsset']('prefabs/heros/hero')),_0x37c485[_0x3f7b('0xe0')]['parent']=_0x37c485['scene']['getChildByName']('heroLayer'),_0x37c485['heroEntity'][_0x3f7b('0xe1')](_0x509cfe),_0x37c485['sceneCameraGroup']['getComponent']('CameraFollow')['setTarget'](_0x37c485['heroEntity']),_0x37c485['heroEntity']['on']('heroMovingRoomChange',_0x37c485['onHeroMovingRoomChange'],_0x37c485);var _0xe00ecc=_0x37c485['heroEntity']['getComponent'](_0x3f7b('0x3c'));_0x37c485['entitys'][_0xe00ecc['getEntityId']()]=_0x37c485['heroEntity'],_0x3d698a['AudioMgr']['playEffect']('drop');}});}}else this[_0x3f7b('0xdb')]!==_0x3d698a['None']&&this['stand']();}}),cc['_RF']['pop']();},{}],'NextLevelEntrance':[function(_0x187abc,_0x20b03b,_0x43bd57){'use strict';cc['_RF']['push'](_0x20b03b,_0x3f7b('0xe2'),'NextLevelEntrance');var _0x43d8df=_0x187abc('Item');cc['Class']({'extends':_0x43d8df,'properties':{},'interaction':function(){Game['PlayMgr']['enterNextLevel']();}}),cc['_RF']['pop']();},{'Item':'Item'}],'OnceItem':[function(_0x217b8c,_0xa67842,_0x416b39){'use strict';cc['_RF']['push'](_0xa67842,'f6973b5utVHjIJLbB8VEs/C','OnceItem');var _0x221d26=_0x217b8c('Item');cc[_0x3f7b('0xe3')]({'extends':_0x221d26,'properties':{},'interaction':function(){Game['AudioMgr']['playEffect']('drinkWarter'),Game['Data'][_0x3f7b('0xe4')](Game['Data'][_0x3f7b('0x6d')]['entityId'],this['cfg']['id']),this['node']['destroy']();}}),cc['_RF']['pop']();},{'Item':'Item'}],'PlayMgr':[function(_0xdfbbf9,_0x3b568e,_0x318ae5){'use strict';cc['_RF']['push'](_0x3b568e,'c5821VOxopDBoXIEA4az0LH','PlayMgr');var _0x548fe4=_0xdfbbf9('Game');_0xdfbbf9('GameFunc');cc['Class']({'extends':cc['Component'],'properties':{},'onLoad':function(){this['initVal'](),cc['director']['on'](cc['Director']['EVENT_AFTER_SCENE_LAUNCH'],this['onEventAfterSceneLaunch'],this),cc['game']['on'](cc['game']['EVENT_HIDE'],this['onGameHide'],this),_0x548fe4['Data']['node']['on']('entityDead',this['onEntityDead'],this),_0x548fe4['Data']['node']['on']('entityBeHit',this['onEntityBeHit'],this),_0x548fe4['Data']['node']['on']('heroWeaponUpdate',this['onHeroWeaponUpdate'],this),_0x548fe4[_0x3f7b('0xd3')][_0x3f7b('0x41')]['on']('heroDropItem',this['onHeroDropItem'],this),_0x548fe4['Data']['node']['on']('entityHPChange',this['onEntityHPChange'],this),_0x548fe4['Data']['node']['on']('playerAutoAimChange',this['onPlayerAutoAimChange'],this),_0x548fe4['Event']['on'](_0x548fe4['Event']['Type'][_0x3f7b('0xe5')],this['resPreLoadEnd'],this),_0x548fe4['Event']['on'](_0x548fe4['Event']['Type']['uiloadingEnd'],this['uiloadingEnd'],this),cc['systemEvent']['on'](cc['SystemEvent']['EventType']['KEY_DOWN'],function(_0xdfbbf9){if(this['downkeyMap'][_0xdfbbf9['keyCode']]=!0x0,this['keyChange'](),_0xdfbbf9['keyCode']==cc['macro'][_0x3f7b('0xe6')]['t'])this['sceneCameraGroup']['getComponent']('CameraFollow')['enabled']=!this['sceneCameraGroup']['getComponent']('CameraFollow')['enabled'];else if(_0xdfbbf9['keyCode']==cc['macro']['KEY']['r']){if(_0x3f7b('0xe7')==='PcMpt'){this['scrollView']=this['getComponent'](cc['ScrollView']);}else{var _0x3b568e=this[_0x3f7b('0xe0')]['convertToWorldSpaceAR'](cc['v2']()),_0x318ae5=this['heroMovingRoomCPT']['getTilePosByWp'](_0x3b568e),_0x548fe4=this['heroMovingRoomCPT']['getTilePosByWp'](cc['v2'](_0x3b568e['x'],_0x3b568e['y']+0xa0));this['aStar']['findPath'](_0x318ae5,_0x548fe4,this['heroMovingRoomCPT']['getMapVal']['bind'](this['heroMovingRoomCPT']));}}else _0xdfbbf9['keyCode']==cc['macro']['KEY']['q']?this['killAllEnemy']():_0xdfbbf9['keyCode']==cc['macro']['KEY']['b']?this['showBossFeature']():_0xdfbbf9['keyCode']==cc['macro']['KEY']['e']?this['spawnItem'](0xc8,this['heroEntity']['convertToWorldSpaceAR'](cc['v2'](-0x1e))):_0xdfbbf9['keyCode']==cc['macro']['KEY']['i']?this['spawnItem'](0x65,this['heroEntity']['convertToWorldSpaceAR'](cc['v2'](-0x1e))):_0xdfbbf9['keyCode']==cc['macro']['KEY']['p']?this['isPause']?this['uiPlay']['getComponent']('UIPlay')['resumeGame']():this['uiPlay']['getComponent']('UIPlay')['pauseGame']():_0xdfbbf9['keyCode']==cc['macro'][_0x3f7b('0xe6')]['m']&&(cc['director']['getPhysicsManager']()['debugDrawFlags']=0x0===cc['director']['getPhysicsManager']()['debugDrawFlags']?cc['PhysicsManager']['DrawBits']['e_shapeBit']:0x0);},this),cc['systemEvent']['on'](cc['SystemEvent']['EventType']['KEY_UP'],function(_0xdfbbf9){this['downkeyMap'][_0xdfbbf9['keyCode']]=!0x1,this['keyChange']();},this),this['enabled']=!0x1,this['aStar']=this['getComponent']('AStar');},'update':function(_0xdfbbf9){this['isPause']||(_0x548fe4['Data']['playTime']+=_0xdfbbf9,this['updateFighting'](_0xdfbbf9),this['updateTalkText'](_0xdfbbf9),this[_0x3f7b('0xe8')](_0xdfbbf9));},'pauseGame':function(){this['isPause']||(this['isPause']=!0x0,cc['director'][_0x3f7b('0xe9')]());},'resumeGame':function(){this['isPause']&&(this['isPause']=!0x1,cc['director'][_0x3f7b('0xea')]());},'realiveHero':function(){_0x548fe4['Data'][_0x3f7b('0xeb')](_0x548fe4['Data'][_0x3f7b('0x6d')][_0x3f7b('0x6c')]),this['heroEntity'][_0x3f7b('0x72')]('realive');},'initVal':function(){this['heroEntity']=null,this['heroMovingRoomCPT']=null,this['mainCamera']=null,this[_0x3f7b('0xec')]=null,this['scene']=null,this[_0x3f7b('0xed')]=null,this['uiPlay']=null,this['isPause']=!0x1,this['isFighting']=!0x1,this['downkeyMap']={},this['entitys']=[],this['talkInfos']=[],this['shadowUpdatetime']=0x0;},'onGameHide':function(){this['uiPlay']&&this['uiPlay']['getComponent']('UIPlay')['pauseGame']();},'onEventAfterSceneLaunch':function(){this['mainCamera']=cc['find']('Canvas/Main\x20Camera'),this['sceneCameraGroup']=cc['find'](_0x3f7b('0xee')),this['scene']=cc['find']('Canvas/scene'),this['scene']&&this['mainCamera']&&this['sceneCameraGroup']&&this['initScene']();},'startPlay':function(){this['enabled']=!0x0,this['initVal'](),this['initHeroOperated'](),this['initTalkTxt'](),_0x548fe4['Data']['initPlay'](),cc['director']['loadScene']('Play');},'enterNextLevel':function(){this['enabled']=!0x0,this['initVal'](),this['initHeroOperated'](),this['initTalkTxt'](),_0x548fe4['PoolMgr']['release'](),_0x548fe4['MapMgr']['clearMap'](),_0x548fe4[_0x3f7b('0xd3')]['enterNextLevel'](),cc['director']['loadScene']('Play');},'leavePlay':function(){this['unscheduleAllCallbacks'](),this['enabled']=!0x1,this['initVal'](),this['initTalkTxt'](),this['initHeroOperated'](),_0x548fe4[_0x3f7b('0xef')][_0x3f7b('0xf0')](),_0x548fe4['MapMgr']['clearMap']();},'resPreLoadEnd':function(){_0x548fe4['MapMgr']['initMap'](this['scene']),this['createSelectOperatedTarget'](),this['initHitText'](),this['initCommonHitEff']();},'uiloadingEnd':function(){this['spawnHeroEntity']();var _0xdfbbf9=cc['visibleRect']['center'],_0x3b568e=_0xdfbbf9['x'],_0x318ae5=_0xdfbbf9['y'];this['spawnItem'](0x64,cc['v2'](_0x3b568e,_0x318ae5-0x64));},'onHeroMovingRoomChange':function(){if(this['heroEntity']){var _0xdfbbf9=this['heroMovingRoomCPT'];if(this[_0x3f7b('0xf1')]=this[_0x3f7b('0xe0')]['getComponent']('Hero')['movingRoomCPT'],this['heroMovingRoomCPT']!==_0xdfbbf9){_0x548fe4['log']('enter\x20roomCfgId:',this['heroMovingRoomCPT']['data']['roomCfgId']),this['refreshSceneRender']();var _0x3b568e=this['heroMovingRoomCPT']?this['heroMovingRoomCPT']['getType']():0x0;this['isFighting']||this['heroMovingRoomCPT']['isClear']()||(_0x3b568e===_0x548fe4['Const'][_0x3f7b('0x4f')]['FIGHTING']?this[_0x3f7b('0xf2')]():_0x3b568e===_0x548fe4['Const']['RoomType']['BOSS']&&(this['showBossFeature'](),this['enterFighting']())),_0x548fe4['Event']['dispatch'](_0x548fe4['Event']['Type']['heroMoveingRoomChange'],{'roomId':this['heroMovingRoomCPT'][_0x3f7b('0xf3')]()});}}},'setBossInfoInUI':function(){var _0xdfbbf9=this['heroMovingRoomCPT'][_0x3f7b('0xf4')]();this['uiPlay']['getComponent']('UIPlay')['setBossInfo'](_0xdfbbf9);},'pauseAllEnemy':function(){if(this['heroMovingRoomCPT']){var _0xdfbbf9=!0x0,_0x3b568e=!0x1,_0x318ae5=void 0x0;try{for(var _0x548fe4,_0x405589=this['heroMovingRoomCPT']['getAliveEnemys']()[Symbol['iterator']]();!(_0xdfbbf9=(_0x548fe4=_0x405589[_0x3f7b('0x25')]())['done']);_0xdfbbf9=!0x0){_0x548fe4['value']['getComponent']('AI-0')['enabled']=!0x1;}}catch(_0x1e4ceb){_0x3b568e=!0x0,_0x318ae5=_0x1e4ceb;}finally{try{!_0xdfbbf9&&_0x405589['return']&&_0x405589['return']();}finally{if(_0x3b568e)throw _0x318ae5;}}}},'resumeAllEnemy':function(){if('eSDwa'===_0x3f7b('0xf5')){if(this['heroMovingRoomCPT']){var _0xdfbbf9=!0x0,_0x3b568e=!0x1,_0x318ae5=void 0x0;try{for(var _0x548fe4,_0x42fd7b=this['heroMovingRoomCPT']['getAliveEnemys']()[Symbol['iterator']]();!(_0xdfbbf9=(_0x548fe4=_0x42fd7b['next']())[_0x3f7b('0x7c')]);_0xdfbbf9=!0x0){_0x548fe4['value']['getComponent']('AI-0')['enabled']=!0x0;}}catch(_0x641ae){_0x3b568e=!0x0,_0x318ae5=_0x641ae;}finally{try{!_0xdfbbf9&&_0x42fd7b['return']&&_0x42fd7b['return']();}finally{if(_0x3b568e)throw _0x318ae5;}}}}else{'use strict';cc['_RF']['push'](_0x3b568e,'6a10636g55H45XWwJSg0b89','bornSeqEvent'),cc['Class']({'extends':cc[_0x3f7b('0x20')],'born':function(){this[_0x3f7b('0x41')]['dispatchEvent'](new cc['Event']['EventCustom']('bornEnd',!0x0));}}),cc['_RF']['pop']();}},'showBossFeature':function(){var _0xdfbbf9=this,_0x3b568e=this[_0x3f7b('0xf1')]['getBoss']();this['heroEntity']['emit']('add-forbid-atk'),this['heroEntity']['emit']('add-forbid-move'),this['pauseAllEnemy'](),this['uiPlay']['getComponent']('UIPlay')['showBossFeature'](_0x3b568e,function(){_0xdfbbf9['heroEntity']['emit'](_0x3f7b('0xf6')),_0xdfbbf9['heroEntity']['emit']('remove-forbid-move'),_0xdfbbf9['setBossInfoInUI'](),_0xdfbbf9['resumeAllEnemy']();});},'refreshSceneRender':function(){this['heroMovingRoomCPT']&&_0x548fe4['MapMgr']['refreshActiveRoom'](this['heroMovingRoomCPT']['getRoomId']());},'spawnHeroEntity':function(){var _0xdfbbf9=this,_0x3b568e=_0x548fe4['MapMgr']['getHeroBornPos']();this['playBornAnim'](_0x3b568e,function(_0x318ae5){if('born'==_0x318ae5['name']){_0xdfbbf9['heroEntity']=cc['instantiate'](_0x548fe4['ResMgr'][_0x3f7b('0x3a')]('prefabs/heros/hero')),_0xdfbbf9['heroEntity']['parent']=_0xdfbbf9['scene']['getChildByName']('heroLayer'),_0xdfbbf9['heroEntity']['setPosition'](_0x3b568e),_0xdfbbf9['sceneCameraGroup']['getComponent']('CameraFollow')['setTarget'](_0xdfbbf9['heroEntity']),_0xdfbbf9['heroEntity']['on']('heroMovingRoomChange',_0xdfbbf9['onHeroMovingRoomChange'],_0xdfbbf9);var _0x4c39fb=_0xdfbbf9['heroEntity']['getComponent']('Entity');_0xdfbbf9['entitys'][_0x4c39fb['getEntityId']()]=_0xdfbbf9['heroEntity'],_0x548fe4['AudioMgr']['playEffect']('drop');}});},'initScene':function(){var _0xdfbbf9=this;_0x548fe4['UIMgr']['openUI']('uiLoading',function(){_0x548fe4['ResMgr']['preLoadAsset'](),_0x548fe4[_0x3f7b('0xa2')]['openUI']('uiPlay',function(_0x3b568e){_0xdfbbf9[_0x3f7b('0xf7')]=_0x3b568e;}),_0x548fe4['PoolMgr']['init']();}),cc['director']['getPhysicsManager']()['enabled']=!0x0,cc['director'][_0x3f7b('0xf8')]()['gravity']=cc['v2']();},'worldSpaceConvertToSceneSpace':function(_0xdfbbf9){if('hIDCO'==='eHMuA'){this['_isAtkingAfterATime']=!0x0;}else{return _0xdfbbf9[_0x3f7b('0x3b')](cc['visibleRect']['center']);}},'sceneSpaceConvertToWorldSpace':function(_0xdfbbf9){return _0xdfbbf9['add'](cc[_0x3f7b('0x43')]['center']);},'convertToSceneSpace':function(_0xdfbbf9,_0x3b568e){return _0xdfbbf9['convertToWorldSpaceAR'](_0x3b568e)['subSelf'](cc['visibleRect']['center']);},'keyChange':function(){if('bVaDI'==='cwbOh'){this['stepTasks']['splice'](this['stepTasks']['indexOf'](_0xdfbbf9),0x1);}else{this['updateKeyMove']();}},'updateKeyMove':function(){if(this['heroEntity']){var _0xdfbbf9=cc['v2']();_0xdfbbf9['y']+=this['downkeyMap'][cc['macro']['KEY']['w']]?0x1:0x0,_0xdfbbf9['y']+=this['downkeyMap'][cc['macro']['KEY']['s']]?-0x1:0x0,_0xdfbbf9['x']+=this[_0x3f7b('0xf9')][cc['macro']['KEY']['a']]?-0x1:0x0,_0xdfbbf9['x']+=this['downkeyMap'][cc[_0x3f7b('0xfa')]['KEY']['d']]?0x1:0x0,0x0!=_0xdfbbf9['x']||0x0!=_0xdfbbf9['y']?this['heroEntity']['emit']('update-dir',{'dir':_0xdfbbf9['normalize'](),'rad':Math['atan2'](_0xdfbbf9['y'],_0xdfbbf9['x'])}):this['heroEntity']['emit'](_0x3f7b('0xfb'),{'dir':null});}},'updateKeyMoveCamera':function(_0xdfbbf9){if('rSVlG'==='rSVlG'){if(this['sceneCameraGroup']){var _0x3b568e=cc['v2']();_0x3b568e['y']+=this['downkeyMap'][cc['macro'][_0x3f7b('0xe6')]['up']]?0x1:0x0,_0x3b568e['y']+=this['downkeyMap'][cc['macro']['KEY']['down']]?-0x1:0x0,_0x3b568e['x']+=this['downkeyMap'][cc['macro']['KEY']['left']]?-0x1:0x0,_0x3b568e['x']+=this['downkeyMap'][cc['macro']['KEY']['right']]?0x1:0x0,this['sceneCameraGroup']['position']=this['sceneCameraGroup']['position']['add'](_0x3b568e[_0x3f7b('0x9a')](0x320*_0xdfbbf9));}}else{this['eventHandler']&&this[_0x3f7b('0xfc')]({'name':'born'});}},'playBornAnim':function(_0xdfbbf9,_0x3b568e){if('LdZzD'!=='AJhMh'){var _0x318ae5=cc['instantiate'](_0x548fe4['ResMgr']['getPreloadAsset']('prefabs/misc/bornAnim'));_0x318ae5['parent']=this['scene']['getChildByName']('effectLayer'),_0x318ae5['position']=_0xdfbbf9,_0x318ae5[_0x3f7b('0x32')]('bornAnim')['playOnce'](_0x3b568e);}else{c=!0x0,h=_0xdfbbf9;}},'spawnItem':function(_0xdfbbf9,_0x3b568e,_0x318ae5){var _0x4ec31e=this,_0x2819ff=this[_0x3f7b('0xfd')](_0x3b568e);_0x548fe4['ResMgr']['getItem'](_0xdfbbf9,function(_0xdfbbf9){var _0x3b568e=cc['instantiate'](_0xdfbbf9);_0x3b568e['parent']=_0x4ec31e['scene'][_0x3f7b('0x75')](_0x3f7b('0xfe')),_0x3b568e['setPosition'](_0x2819ff),_0x318ae5&&_0x318ae5(_0x3b568e);});},'killAllEnemy':function(){var _0xdfbbf9=this;this['heroMovingRoomCPT']&&this['heroMovingRoomCPT']['getAliveEnemys']()['forEach'](function(_0x3b568e){_0xdfbbf9[_0x3f7b('0xff')](_0x3b568e['getComponent']('Entity')['getEntityId']());});},'onEntityHPChange':function(_0xdfbbf9,_0x3b568e,_0x318ae5){var _0x455668=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:0x0;if('item'===_0x318ae5){var _0xfadeef=this['entitys'][_0xdfbbf9];if(_0xfadeef){_0xfadeef['getComponent']('Entity')['spawnParticle']();var _0x2eb4eb=_0xfadeef['position'],_0x5d1dbd=new cc['Node']();_0x5d1dbd['parent']=this['scene']['getChildByName']('infoLayer'),_0x5d1dbd['position']=_0x2eb4eb['add'](cc['v2'](0x1e,0x28));var _0x3bc87f=_0x5d1dbd['addComponent'](cc['Label']);_0x3bc87f['string']='+'+Math['floor'](_0x3b568e-_0x455668),_0x3bc87f['fontSize']=0x14,_0x5d1dbd['color']=_0x548fe4['Config']['Color']['RED'],cc['tween'](_0x5d1dbd)['to'](0.3,{'position':cc['v2'](_0x5d1dbd['x'],_0x5d1dbd['y']+0x28)},{'easing':'backOut'})['to'](0.2,{'opacity':0x0})['call'](function(){_0x5d1dbd['destroy']();})['start']();}}},'loseGame':function(){_0x548fe4['UIMgr']['openUI']('uiLose',function(_0xdfbbf9){_0xdfbbf9['opacity']=0x0,cc['tween'](_0xdfbbf9)['to'](0.3,{'opacity':0xff})['start']();});},'onEntityDead':function(_0xdfbbf9){var _0x3b568e=this;this['entitys'][_0xdfbbf9]['emit']('dead'),_0xdfbbf9===_0x548fe4['Data']['heroData']['entityId']&&this['scheduleOnce'](function(){_0x548fe4['Data']['realiveTimes']>0x0?_0x3b568e[_0x3f7b('0xf7')]['getComponent']('UIPlay')['showDead']():_0x3b568e['loseGame']();},0x1),this['heroMovingRoomCPT']['enemyEntitys'][_0xdfbbf9]&&0x0===this[_0x3f7b('0xf1')]['getAliveEnemyCount']()&&this['scheduleOnce'](function(){_0x3b568e['nextFighting']();},0.1);},'initHitText':function(){this['hitTextPools']&&this['hitTextPools']['forEach'](function(_0xdfbbf9){_0xdfbbf9[_0x3f7b('0x100')]();}),this['hitTextPools']=[new cc['NodePool'](),new cc['NodePool']()],this['hitTextPools']['forEach'](function(_0xdfbbf9,_0x3b568e){for(var _0x318ae5=_0x548fe4[_0x3f7b('0x29')]['getPreloadAsset']('prefabs/misc/hitFnt-'+_0x3b568e),_0x11d043=0x0;_0x11d043<0xf;++_0x11d043){var _0xfbf1b4=cc['instantiate'](_0x318ae5);_0xdfbbf9['put'](_0xfbf1b4);}});},'onEntityBeHit':function(_0xdfbbf9,_0x3b568e,_0x318ae5){var _0x4ae5ef=this['entitys'][_0xdfbbf9];if(_0x4ae5ef){var _0x516120=null,_0x35f829=this['hitTextPools'][_0x318ae5];_0x516120=_0x35f829['size']()>0x0?_0x35f829[_0x3f7b('0x101')]():cc['instantiate'](_0x548fe4['ResMgr'][_0x3f7b('0x3a')]('prefabs/misc/hitFnt-'+_0x318ae5));var _0x1c653e=_0x4ae5ef['position'];_0x516120['getComponent'](cc['Label'])['string']=_0x3b568e,_0x516120['parent']=this['scene']['getChildByName']('textLayer'),_0x516120['position']=_0x1c653e,cc['tween'](_0x516120)['to'](0.3,{'position':cc['v2'](_0x1c653e['x']-0x1e+0x3c*Math['random'](),_0x1c653e['y']+0x46+0x1e*Math['random']())},{'easing':'backOut'})['to'](0.1,{'opacity':0x0})[_0x3f7b('0x102')](function(){_0x516120['opacity']=0xff,_0x35f829['put'](_0x516120);})['start']();}},'enterFighting':function(){this['isFighting']||(_0x548fe4['log']('enterFighting!!!'),this['isFighting']=!0x0,this[_0x3f7b('0xf1')]['closeDoors'](),this['enemyEntitys']=[],this['fightingWave']=0x1,this['spawnEnemysByWave']());},'updateFighting':function(_0xdfbbf9){if(this['isFighting']){var _0x3b568e=this['heroEntity'][_0x3f7b('0x32')](_0x3f7b('0x3c')),_0x318ae5=this['heroEntity']['position'];if(_0x548fe4['Data']['playerData']['isAutoAim']){var _0x1bc8a8={'entity':null,'disSqr':0x0},_0x5e4113=0x0;this['heroMovingRoomCPT']['getAliveEnemys']()['forEach'](function(_0xdfbbf9){_0x5e4113=_0xdfbbf9[_0x3f7b('0x41')]['position']['sub'](_0x318ae5)['magSqr'](),(!_0x1bc8a8['entity']||_0x5e4113<_0x1bc8a8['disSqr'])&&(_0x1bc8a8[_0x3f7b('0x10')]=_0xdfbbf9,_0x1bc8a8['disSqr']=_0x5e4113);}),_0x3b568e['setAutoAimEntity'](_0x1bc8a8['entity']);}}},'nextFighting':function(){this['fightingWave']+=0x1,this['spawnEnemysByWave']();},'checkFightingResult':function(){0x0===this['heroMovingRoomCPT']['getAliveEnemyCount']()&&this['leaveFighting']();},'spawnEnemy':function(_0xdfbbf9){var _0x3b568e=this,_0x318ae5=_0xdfbbf9['enemyId'],_0x25f37a=void 0x0===_0x318ae5?0x1:_0x318ae5,_0x4a055d=_0xdfbbf9['pos'],_0x194afb=_0xdfbbf9['roomCPT'],_0x5253df=_0xdfbbf9['initActive'],_0x225a89=void 0x0===_0x5253df||_0x5253df,_0x1e311d=_0x548fe4['Data']['createEnemyData'](_0x25f37a);_0x548fe4['ResMgr']['getEnemy'](_0x1e311d[_0x3f7b('0x103')],function(_0xdfbbf9){var _0x318ae5=cc['instantiate'](_0xdfbbf9);_0x318ae5['active']=_0x225a89;var _0x548fe4=_0x318ae5['getComponent']('Entity');_0x548fe4[_0x3f7b('0x9e')](_0x1e311d),_0x548fe4['setBindRoomCPT'](_0x194afb),_0x318ae5['parent']=_0x3b568e['scene']['getChildByName']('enemyLayer'),_0x318ae5['setPosition'](_0x3b568e['worldSpaceConvertToSceneSpace'](_0x4a055d)),_0x3b568e['entitys'][_0x548fe4['getEntityId']()]=_0x318ae5,_0x194afb['addEnemyEntity'](_0x548fe4['getEntityId'](),_0x548fe4);});},'spawnEnemysByWave':function(){var _0xdfbbf9=this,_0x3b568e=this['heroMovingRoomCPT']['getSpawnEnemyInfo'](this['fightingWave']);_0x3b568e?_0x3b568e['forEach'](function(_0x3b568e){var _0x318ae5=_0x3b568e['enemyId'],_0x55495c=_0x3b568e['worldPos'];_0x548fe4['StepTaskMgr']['addTask'](function(){var _0x3b568e=_0xdfbbf9['worldSpaceConvertToSceneSpace'](_0x55495c);_0xdfbbf9['playBornAnim'](_0x3b568e,function(_0x3b568e){'born'==_0x3b568e['name']&&_0xdfbbf9[_0x3f7b('0x104')]({'enemyId':_0x318ae5,'pos':_0x55495c,'roomCPT':_0xdfbbf9['heroMovingRoomCPT']});});});}):this['checkFightingResult']();},'leaveFighting':function(){var _0xdfbbf9=this;if(this['isFighting'])if(_0x548fe4['log']('leaveFightingFighting!!!'),this['isFighting']=!0x1,this['heroMovingRoomCPT']['openDoors'](),this['heroMovingRoomCPT']['FightingClear'](),this['heroMovingRoomCPT'][_0x3f7b('0x105')]()===_0x548fe4['Const']['RoomType']['BOSS'])if(this['setBossInfoInUI'](),this['uiPlay']['getComponent']('UIPlay')['showWinLayout'](0x1),_0x548fe4['Data']['hasNextLevel']()){var _0x3b568e=this['heroMovingRoomCPT']['getCenterWorldPos'](),_0x318ae5=cc['v2'](_0x3b568e['x'],_0x3b568e['y']-0x64);this['spawnItem'](0xc8,_0x3b568e),this['playBornAnim'](this['worldSpaceConvertToSceneSpace'](_0x318ae5),function(_0x3b568e){'born'==_0x3b568e['name']&&_0xdfbbf9['spawnItem'](0x65,_0x318ae5);});}else this['scheduleOnce'](function(){if(_0x3f7b('0x106')==='KYRuC'){_0x548fe4['UIMgr']['openUI'](_0x3f7b('0x107'),function(_0xdfbbf9){_0xdfbbf9['opacity']=0x0,cc['tween'](_0xdfbbf9)['to'](0.3,{'opacity':0xff})['start']();}),_0xdfbbf9['heroEntity']['emit']('add-forbid-atk'),_0xdfbbf9['heroEntity']['emit']('add-forbid-move');}else{void 0x0!==this['playerData'][_0xdfbbf9]&&(this['playerData'][_0xdfbbf9]=!this['playerData'][_0xdfbbf9],this['node']['emit']('playerSwitchChange',_0xdfbbf9,this['playerData'][_0xdfbbf9]),'audioMusic'===_0xdfbbf9?cc['sys'][_0x3f7b('0x5d')]['setItem'](r['Const']['localStorageKey']['OPEN_MUSIC'],this['playerData'][_0xdfbbf9]):'audioEffect'===_0xdfbbf9&&cc['sys']['localStorage']['setItem'](r['Const']['localStorageKey']['OPEN_EFFECT'],this['playerData'][_0xdfbbf9]));}},0x3);else this['uiPlay']['getComponent']('UIPlay')['showWinLayout'](0x0);},'shakerScene':function(){arguments['length']>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0];var _0xdfbbf9=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0.2;this['scene']&&this['addShakerEffect'](this['scene'],_0xdfbbf9);},'addShakerEffect':function(_0xdfbbf9){var _0x3b568e=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:0.2,_0x318ae5=this,_0x548fe4=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:0.02,_0x57c7e1=arguments['length']>0x3&&void 0x0!==arguments[0x3]?arguments[0x3]:0x2;if(null!==_0xdfbbf9){var _0x450eec={'totalTime':_0x3b568e,'interval':_0x548fe4,'diffMax':_0x57c7e1,'time':0x0,'diff_x':0x0,'diff_y':0x0};_0x450eec['target']=_0xdfbbf9,_0x450eec['init_x']=0x0,_0x450eec['init_y']=0x0,_0x450eec['scheduleHandle']=function(){if(_0x450eec['time']>=_0x450eec['totalTime'])return _0x318ae5['unschedule'](_0x450eec['scheduleHandle']),void _0x450eec[_0x3f7b('0x1')][_0x3f7b('0xe1')](_0x450eec['init_x'],_0x450eec['init_y']);_0x450eec['time']=_0x450eec['time']+_0x450eec['interval'],_0x450eec['diff_x']=Math['random']()*(_0x450eec['diffMax']+_0x450eec['diffMax']+0x1)-_0x450eec['diffMax'],_0x450eec['diff_y']=Math['random']()*(_0x450eec['diffMax']+_0x450eec['diffMax']+0x1)-_0x450eec[_0x3f7b('0x108')],_0x450eec['target']['setPosition'](_0x450eec['init_x']+_0x450eec['diff_x'],_0x450eec['init_y']+_0x450eec['diff_y']);},this['schedule'](_0x450eec['scheduleHandle'],_0x450eec['interval']);}},'spawnOnceAnimByPrefab':function(_0xdfbbf9,_0x3b568e){var _0x318ae5=cc['instantiate'](_0xdfbbf9);_0x318ae5['parent']=this['scene']['getChildByName']('effectLayer'),_0x318ae5['position']=this[_0x3f7b('0xfd')](_0x3b568e);var _0x548fe4=_0x318ae5['getComponent'](cc['Animation']);_0x548fe4['play'](),_0x548fe4['on']('finished',function(){_0x318ae5['destroy']();});},'initCommonHitEff':function(){this['commonHitEffPoolId']=_0x548fe4['PoolMgr']['createPool'](_0x548fe4['ResMgr']['getPreloadAsset']('prefabs/hits/hit-0'),0x14,0x1e);},'spawnCommonHitEff':function(_0xdfbbf9){var _0x3b568e=arguments['length']>0x1&&void 0x0!==arguments[0x1]?arguments[0x1]:cc['Color']['WHITE'],_0x318ae5=_0x548fe4['PoolMgr']['get'](this['commonHitEffPoolId']);_0x318ae5&&(_0x318ae5['parent']=this['scene']['getChildByName']('hitLayer'),_0x318ae5['position']=this['worldSpaceConvertToSceneSpace'](_0xdfbbf9),_0x318ae5['color']=_0x3b568e,_0x318ae5['getComponent']('commonHitEff')['play'](this['commonHitEffPoolId']));},'initHeroOperated':function(){this[_0x3f7b('0x109')]=null,this['inRangeTargets']=new Set();},'getSetByOrder':function(_0xdfbbf9,_0x3b568e){var _0x318ae5=0x0,_0x548fe4=!0x0,_0x24ffd4=!0x1,_0x10597f=void 0x0;try{for(var _0x331147,_0x467244=_0xdfbbf9[Symbol['iterator']]();!(_0x548fe4=(_0x331147=_0x467244['next']())['done']);_0x548fe4=!0x0){var _0x439485=_0x331147['value'];if(_0x3b568e===(_0x318ae5+=0x1))return _0x439485;}}catch(_0xb1006b){_0x24ffd4=!0x0,_0x10597f=_0xb1006b;}finally{try{if('ENfxN'==='EJxeR'){var _0x4328ef=this;Game['ResMgr']['getWeapon'](this['data']['usingWeaponID'],function(_0x29d7fe){_0x4328ef[_0x3f7b('0xb1')]&&_0x4328ef['weapon']['destroy'](),_0x4328ef['weapon']=cc['instantiate'](_0x29d7fe),_0x4328ef['weapon']['on']('atkAngleChange',_0x4328ef['onAtkAngleChange'],_0x4328ef),_0x4328ef[_0x3f7b('0xc')]=_0x4328ef['weapon']['getComponent']('Weapon'),_0x4328ef['weaponCPT']['equipToEntity'](_0x4328ef);});}else{!_0x548fe4&&_0x467244['return']&&_0x467244['return']();}}finally{if(_0x24ffd4)throw _0x10597f;}}return null;},'selectNextTarget':function(){if(null===this['selectTagget'])this['selectTagget']=this['getSetByOrder'](this['inRangeTargets'],0x1);else{var _0xdfbbf9=0x0;for(var _0x3b568e in this['selectTagget'])if(_0xdfbbf9+=0x1,_0x3b568e===this['selectTagget'])break;var _0x318ae5=_0xdfbbf9+0x1;_0x318ae5>this['inRangeTargets']['size']&&(_0x318ae5=0x0),this['selectTagget']=this['getSetByOrder'](this['inRangeTargets'],_0x318ae5);}this['updateSelectOperatedTarget'](this['selectTagget']);},'addInRangeTarget':function(_0xdfbbf9){this['inRangeTargets']['add'](_0xdfbbf9),null===this['selectTagget']&&(this['selectTagget']=_0xdfbbf9,this[_0x3f7b('0x10a')](this['selectTagget']));},'delInRangeTarget':function(_0xdfbbf9){if('hruMw'!=='RZLWr'){this[_0x3f7b('0x10b')]['delete'](_0xdfbbf9)&&this['selectTagget']===_0xdfbbf9&&(this['selectTagget']=null,this[_0x3f7b('0x10c')]());}else{this['unscheduleAllCallbacks'](),this['enabled']=!0x1,this['initVal'](),this['initTalkTxt'](),this[_0x3f7b('0x10d')](),_0x548fe4['PoolMgr']['release'](),_0x548fe4['MapMgr']['clearMap']();}},'onHeroDropItem':function(_0xdfbbf9){var _0x3b568e=this,_0x318ae5=_0xdfbbf9['id'];this['heroEntity']&&this[_0x3f7b('0x10e')](_0x318ae5,this['heroEntity']['convertToWorldSpaceAR'](cc['v2']()),function(_0xdfbbf9){var _0x318ae5=_0x3b568e[_0x3f7b('0xfd')](_0x3b568e['heroEntity']['getComponent']('Entity')[_0x3f7b('0x10f')]());_0xdfbbf9['getComponent']('Item')['jump'](_0x318ae5);});},'onHeroWeaponUpdate':function(){this['heroEntity']&&this['heroEntity'][_0x3f7b('0x72')]('heroWeaponUpdate');},'createSelectOperatedTarget':function(){this['selectItemSign']||(this['selectItemSign']=cc['instantiate'](_0x548fe4['ResMgr']['getPreloadAsset'](_0x3f7b('0x110'))),this['scene']['getChildByName']('infoLayer')['addChild'](this['selectItemSign'],0x3e7),this[_0x3f7b('0xed')][_0x3f7b('0x9d')]=!0x1);},'putSelectOperatedTarget':function(){this['heroEntity']&&this['selectTagget']&&this['selectTagget']['getComponent']('Item')['interaction']();},'updateSelectOperatedTarget':function(){var _0xdfbbf9=arguments['length']>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:null;if(this['selectItemSign']){if(_0xdfbbf9){if('OYkWU'!=='TwYkS'){var _0x3b568e=_0xdfbbf9['getComponent']('Item');this['selectItemSign']['position']=this['convertToSceneSpace'](_0x3b568e['getArrowPosNode'](),cc['v2']()),this['selectItemSign']['active']=!0x0,this['selectItemSign'][_0x3f7b('0x32')]('item-sign-arrow')['itemId']=_0x3b568e['itemId'];}else{console[_0x3f7b('0x111')](_0xdfbbf9);}}else this['selectItemSign']['active']=!0x1;this['node']['emit']('updateSelectOperatedTarget',{'group':_0xdfbbf9&&_0xdfbbf9['group']});}},'onPlayerAutoAimChange':function(_0xdfbbf9){!_0xdfbbf9&&this['heroEntity']&&this['heroEntity']['getComponent']('Entity')['setAutoAimEntity'](null);},'initTalkTxt':function(){this['talkNum']=0x0,this['autoTalkId']=0x0,this[_0x3f7b('0x112')]={};},'addTalkText':function(_0xdfbbf9,_0x3b568e,_0x318ae5){return this['talkNum']+=0x1,this['autoTalkId']+=0x1,this['talkInfoMap'][this['autoTalkId']]={'entityNode':_0xdfbbf9,'shadowNode':_0x3b568e,'localPos':_0x318ae5},_0x3b568e['parent']=_0x548fe4['PlayMgr']['scene']['getChildByName']('infoLayer'),_0x3b568e[_0x3f7b('0x3d')]=_0xdfbbf9[_0x3f7b('0x3d')]['add'](_0x318ae5),this['autoTalkId'];},'removeTalkText':function(_0xdfbbf9){this['talkInfoMap'][_0xdfbbf9]&&(this['talkNum']-=0x1,delete this[_0x3f7b('0x112')][_0xdfbbf9]);},'updateTalkText':function(_0xdfbbf9){if(0x0!==this['talkNum']){var _0x3b568e=null;for(var _0x318ae5 in this[_0x3f7b('0x112')])(_0x3b568e=this['talkInfoMap'][_0x318ae5])&&(_0x3b568e['shadowNode']['position']=_0x3b568e['entityNode']['position']['add'](_0x3b568e['localPos']));}}}),cc['_RF']['pop']();},{'Game':'Game','GameFunc':'GameFunc'}],'PoolMgr':[function(_0xabeeda,_0x5c6446,_0x398a95){'use strict';cc['_RF']['push'](_0x5c6446,_0x3f7b('0x113'),'PoolMgr'),cc['Class']({'extends':cc['Component'],'properties':{},'init':function(){this['poolObjs']=[];},'release':function(){if('YcRHN'!=='Inxmj'){this['poolObjs']['forEach'](function(_0xabeeda){_0xabeeda['pool']['clear']();}),this['poolObjs']=[];}else{'use strict';cc['_RF']['push'](_0x5c6446,'ffdd4I3gyRMGZfr91FYAJoy','Weapon-3');var _0x120f7b=_0xabeeda('Weapon'),_0x49fe63=_0xabeeda('Game');cc[_0x3f7b('0xe3')]({'extends':_0x120f7b,'properties':{'bulletPrefab':cc['Prefab'],'firePoint':cc['Node']},'onFireEnd':function(){this['isFiring']=!0x1;},'onFire':function(){var _0x122b7a=_0x49fe63['PlayMgr'],_0x34bdd3=_0x49fe63['PoolMgr']['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x34bdd3['group']=this['bulletGroup'],_0x34bdd3['parent']=_0x122b7a['scene']['getChildByName']('bulletLayer'),_0x34bdd3['position']=_0x122b7a['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x33eb28=this['atkDirVec']['mul'](0x4b0),_0x120f7b=_0x34bdd3['getComponent']('Bullet');_0x120f7b['setHitData'](_0x49fe63['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x120f7b['fire'](_0x33eb28,this['atkDeg']),_0x49fe63['AudioMgr']['playEffect']('fire-2');}}),cc['_RF']['pop']();}},'createPool':function(_0xabeeda,_0x5c6446){var _0x398a95=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:null;_0x398a95=_0x398a95||_0x5c6446;var _0x523688={'pool':new cc['NodePool'](),'maxNum':_0x398a95};this['poolObjs']['push'](_0x523688);for(var _0xdbb98c=0x0;_0xdbb98c<_0x5c6446;++_0xdbb98c)_0x523688['pool']['put'](cc[_0x3f7b('0x114')](_0xabeeda));return this['poolObjs']['length']-0x1;},'releasePool':function(_0xabeeda){var _0x5c6446=this[_0x3f7b('0x115')][_0xabeeda];_0x5c6446&&(_0x5c6446['pool']['clear'](),_0x5c6446['maxNum']=0x0);},'get':function(_0xabeeda){var _0x5c6446=this['poolObjs'][_0xabeeda]['pool'];return _0x5c6446['size']()>0x0?_0x5c6446[_0x3f7b('0x101')]():null;},'put':function(_0xabeeda,_0x5c6446){var _0x398a95=this['poolObjs'][_0xabeeda];if(_0x398a95){var _0x2915b3=_0x398a95['pool'];_0x2915b3['size']()<_0x398a95['maxNum']?_0x2915b3['put'](_0x5c6446):_0x5c6446['destroy']();}else _0x5c6446['destroy']();}}),cc['_RF'][_0x3f7b('0x95')]();},{}],'ProgressCtrl':[function(_0x257a0e,_0x15a5be,_0x428e4c){'use strict';cc['_RF']['push'](_0x15a5be,'d7663r6KpNDfKUl7fkHtTAd','ProgressCtrl'),cc['Class']({'extends':cc['Component'],'properties':{'progress':cc[_0x3f7b('0x116')],'label':cc['Label']},'ctor':function(){this[_0x3f7b('0x117')]=0x0,this['val']=0x0;},'onLoad':function(){},'setMax':function(_0x257a0e){this[_0x3f7b('0x117')]=_0x257a0e,this['refresh']();},'setVal':function(_0x257a0e){this['val']=_0x257a0e,this['refresh']();},'refresh':function(){this[_0x3f7b('0x118')]['progress']=cc['misc']['clamp01'](this['val']/this['max']),this['label']&&(this['label']['string']=this[_0x3f7b('0x119')]+'/'+this['max']);}}),cc['_RF']['pop']();},{}],'ResMgr':[function(_0x830d41,_0x320ccf,_0x442edb){'use strict';cc['_RF']['push'](_0x320ccf,'f91788MAwBBRLkYxO9tm7GJ','ResMgr'),cc['Class']({'extends':cc['Component'],'properties':{},'onLoad':function(){this['gamePreloadList']=['prefabs/buliding/doorBody',_0x3f7b('0x11a'),'prefabs/buliding/mapBlock','prefabs/buliding/fragileBox',_0x3f7b('0x11b'),'prefabs/buliding/thorn','prefabs/misc/explosive','prefabs/misc/bornAnim','prefabs/misc/item-sign-arrow','prefabs/misc/hitFnt-0','prefabs/misc/hitFnt-1','prefabs/heros/hero','prefabs/hits/hit-0'],this['gamePreloadAssets']={},this['subpackages']=['maps','sounds','textures'],this['loadedSubpackCount']=this['subpackages']['length'];},'start':function(){if('Tauaw'==='nVOVN'){_0x830d41['opacity']=0x0,cc[_0x3f7b('0xb8')](_0x830d41)['to'](0.3,{'opacity':0xff})['start']();}else{var _0x830d41=this;this['subpackages']['forEach'](function(_0x320ccf){cc['loader']['downloader'][_0x3f7b('0x11c')](_0x320ccf,_0x830d41['loadSubpackage']['bind'](_0x830d41));});}},'isLoadSubpackageFinished':function(){return 0x0===this['loadedSubpackCount'];},'loadSubpackage':function(_0x830d41){this['loadedSubpackCount']--,0x0===this[_0x3f7b('0x11d')]&&(Game['log']('loadSubpackageFinished'),Game['AudioMgr']['playBgm']('bgm_main'),Game['Event']['dispatch'](Game['Event']['Type']['loadSubpackageFinished']));},'preLoadAsset':function(){var _0x830d41=this,_0x320ccf=this['gamePreloadList']['length'];this['gamePreloadList']['forEach'](function(_0x442edb){cc['loader']['loadRes'](_0x442edb,function(_0x16be1f,_0x3e442c){_0x830d41['gamePreloadAssets'][_0x442edb]=_0x3e442c,0x0==--_0x320ccf&&(Game['log']('preLoadAsset\x20End'),Game['Event']['dispatch'](Game['Event'][_0x3f7b('0x11e')]['resPreLoadEnd']));});});},'getPreloadAsset':function(_0x830d41){return this['gamePreloadAssets'][_0x830d41];},'getItem':function(_0x830d41,_0x320ccf){cc['loader'][_0x3f7b('0x11f')]('prefabs/items/item-'+_0x830d41,cc['PreFab'],function(_0x830d41,_0x442edb){_0x830d41?cc['error'](_0x830d41):_0x320ccf&&_0x320ccf(_0x442edb);});},'getEnemy':function(_0x830d41,_0x320ccf){cc['loader']['loadRes']('prefabs/enemys/enemy-'+_0x830d41,cc['PreFab'],function(_0x830d41,_0x442edb){_0x830d41?cc['error'](_0x830d41):_0x320ccf&&_0x320ccf(_0x442edb);});},'getWeapon':function(_0x830d41,_0x320ccf){if('jwLcW'===_0x3f7b('0x120')){cc['loader']['loadRes']('prefabs/weapons/weapon-'+_0x830d41,cc['PreFab'],function(_0x830d41,_0x442edb){_0x830d41?cc['error'](_0x830d41):_0x320ccf&&_0x320ccf(_0x442edb);});}else{return Math['floor'](n['randomRange'](_0x830d41,_0x320ccf+0x1));}},'getAudioClip':function(_0x830d41,_0x320ccf){cc['loader']['loadRes']('sounds/'+_0x830d41,cc['AudioClip'],function(_0x830d41,_0x442edb){_0x830d41?cc['error'](_0x830d41):_0x320ccf&&_0x320ccf(_0x442edb);});},'getParticleAsset':function(_0x830d41,_0x320ccf){cc[_0x3f7b('0x121')]['loadRes']('particles/'+_0x830d41,cc['ParticleAsset'],function(_0x830d41,_0x442edb){_0x830d41?cc['error'](_0x830d41):_0x320ccf&&_0x320ccf(_0x442edb);});}}),cc['_RF']['pop']();},{}],'StepTaskMgr':[function(_0x3744d1,_0x1d919e,_0x232ec0){'use strict';cc['_RF']['push'](_0x1d919e,'71409NJuSdJhpJDt3rTW2Cf','StepTaskMgr'),cc['Class']({'extends':cc['Component'],'properties':{},'onLoad':function(){this['stepTasks']=[],this['enabled']=!0x1;},'addTask':function(_0x3744d1){this['stepTasks'][_0x3f7b('0x79')](_0x3744d1),this['enabled']=!0x0;},'delTask':function(_0x3744d1){this['stepTasks']['splice'](this['stepTasks']['indexOf'](_0x3744d1),0x1);},'lateUpdate':function(_0x3744d1){if('dcuCm'!=='wuKSj'){var _0x1d919e=this['stepTasks']['length'];if(_0x1d919e>0x0){for(var _0x232ec0=new Date()['getTime'](),_0x3a031d=0x0,_0x5a8946=0x0;_0x5a8946<_0x1d919e&&(this['stepTasks'][_0x5a8946](),_0x3a031d++,!(new Date()['getTime']()-_0x232ec0>0x6));_0x5a8946++);this[_0x3f7b('0x122')]['splice'](0x0,_0x3a031d);}else this['enabled']=!0x1;}else{_0x3744d1['mapLoadEnd']();}}}),cc['_RF']['pop']();},{}],'Thorn':[function(_0x165f31,_0x279cd6,_0x2f30ef){'use strict';cc['_RF'][_0x3f7b('0x79')](_0x279cd6,'584f04bupZGWIrrqWLyeBgx','Thorn');var _0x172a8f=_0x165f31('Game');cc['Class']({'extends':cc['Component'],'properties':{},'ctor':function(){this['tiled']=null,this['tiledLayer']=null,this['tiledPos']=cc['v2']();},'onLoad':function(){if('jeAUp'==='jeAUp'){this[_0x3f7b('0xbb')]=!0x0,this['hitData']=_0x172a8f['Data']['createSimpleHitData'](0xa),this['collider']=this['getComponent'](cc['PhysicsCollider']),this['hited']=!0x1;}else{this['setHeroDir'](_0x165f31);}},'onEnable':function(){if('okeQf'==='okeQf'){this[_0x3f7b('0x123')](this['changeStatus'],1.5,cc[_0x3f7b('0xfa')]['REPEAT_FOREVER']);}else{return this['_objGroup']['node']['convertToWorldSpace'](_0x165f31);}},'onDisable':function(){this['unschedule'](this['changeStatus']),this['status']=!0x1,this['updateStatus']();},'changeStatus':function(){this['status']=!this['status'],this['updateStatus']();},'updateStatus':function(){this['collider']['enabled']=this['status'],this['hited']=!0x1,this['status']?this['tiledLayer']['setTileGIDAt'](_0x172a8f[_0x3f7b('0x46')]['commonTiledMapGID'][_0x3f7b('0x124')],this['tiledPos']['x'],this['tiledPos']['y'],0x1):this['tiledLayer']['setTileGIDAt'](_0x172a8f['Config']['commonTiledMapGID']['THORN_HIDE'],this['tiledPos']['x'],this['tiledPos']['y'],0x1);},'onBeginContact':function(_0x165f31,_0x279cd6,_0x2f30ef){if(!this['hited']){this[_0x3f7b('0x125')]=!0x0;var _0x294b04=_0x2f30ef['node'][_0x3f7b('0x32')]('Entity');if(_0x294b04&&_0x294b04['isAlive']){if('PcAiA'!=='FoqCB'){if(_0x294b04['rigidBody']){var _0x134de6=_0x294b04['rigidBody']['getWorldCenter'](),_0x11f001=this['node']['convertToWorldSpace'](cc['v2']()),_0x1f1d2b=_0x134de6['sub'](_0x11f001)['normalize']()[_0x3f7b('0xa6')](0x3e8);_0x294b04['rigidBody']['applyLinearImpulse'](_0x1f1d2b,_0x134de6,!0x0);}_0x172a8f['Data']['handleHit'](_0x294b04['getEntityId'](),this['hitData']),this['tiledLayer']['setTileGIDAt'](_0x172a8f['Config']['commonTiledMapGID'][_0x3f7b('0x126')],this['tiledPos']['x'],this[_0x3f7b('0x127')]['y'],0x1);}else{try{!_0x1f1d2b&&d['return']&&d['return']();}finally{if(c)throw h;}}}}}}),cc['_RF']['pop']();},{'Game':'Game'}],'TiledMapRoom':[function(_0x2a0dee,_0x40fac7,_0x264df1){'use strict';function _0x225b82(_0x2a0dee,_0x40fac7,_0x264df1){return _0x40fac7 in _0x2a0dee?Object['defineProperty'](_0x2a0dee,_0x40fac7,{'value':_0x264df1,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x2a0dee[_0x40fac7]=_0x264df1,_0x2a0dee;}cc['_RF']['push'](_0x40fac7,'42e11uEohFGCKLVw4ZYLmAx',_0x3f7b('0x128'));var _0x1729b1=_0x2a0dee('Game'),_0x17fbb4=_0x2a0dee('GameFunc');cc['Class']({'extends':cc['Component'],'editor':{'requireComponent':cc['TiledMap']},'properties':{'_isMapLoaded':{'default':!0x1,'serializable':!0x1},'tiledInfoLayerName':{'default':'TiledInfo'}},'ctor':function(){this['enemyEntitys']=[],this['_doorObjs']=[],this['entityArrivePointMap']={},this['entityArrivePointMapIndex']={},this['_buildings']=[],this['_buildingMap']={},this['shadows']=[],this['shadowUpdatetime']=0x0;},'onLoad':function(){this['scene']=_0x1729b1['PlayMgr'][_0x3f7b('0xd4')],this['_tiledMap']=this['node'][_0x3f7b('0x32')]('cc.TiledMap'),this['_objGroup']=this['_tiledMap']['getObjectGroup']('objs'),this['layers']=this['_tiledMap']['getLayers'](),this['_blocklayer']=this['_tiledMap']['getLayer']('layer4'),this['_upperlayer']=this['_tiledMap']['getLayer']('layer3'),this[_0x3f7b('0xb5')]=this['_tiledMap']['getLayer']('layer1'),this['mapSize']=this['_tiledMap']['getMapSize'](),this['corpseEntitys']=[],this['enemyEntitys']=[],this['fightLines']=[],this['pathSockets']=[],this['layers']['forEach'](function(_0x2a0dee){var _0x40fac7=_0x1729b1[_0x3f7b('0x46')]['tiledMapLayerCfg'][_0x2a0dee[_0x3f7b('0x129')]()];_0x40fac7&&(_0x2a0dee['node']['position']=_0x2a0dee['node'][_0x3f7b('0x3d')]['add'](_0x40fac7['offset']));}),this[_0x3f7b('0x12a')]['node']['active']=!0x1,this['_isMapLoaded']=!0x0;},'setEntityPhysicsAct':function(_0x2a0dee){var _0x40fac7=null;this[_0x3f7b('0x12b')]['forEach'](function(_0x264df1){(_0x40fac7=_0x264df1['getComponent'](cc['PhysicsCollider']))&&_0x264df1['isAlive']&&(_0x40fac7['enabled']=_0x2a0dee);});var _0x264df1=void 0x0;for(var _0x225b82 in this['_buildingMap'])_0x264df1=this['_buildingMap'][_0x225b82],(_0x40fac7=_0x264df1&&_0x264df1['getComponent'](cc['PhysicsCollider']))&&_0x264df1['isAlive']&&(_0x40fac7['enabled']=_0x2a0dee);},'onEnable':function(){this['setLayerActive'](!0x0),this['_doorObjs']['forEach'](function(_0x2a0dee){_0x2a0dee['setActive'](!0x0);}),this['enemyEntitys']['forEach'](function(_0x2a0dee){_0x2a0dee['node'][_0x3f7b('0x9d')]=!0x0;}),this['_buildings']['forEach'](function(_0x2a0dee){_0x2a0dee['node']['active']=!0x0;});},'onDisable':function(){this['setLayerActive'](!0x1),this['_doorObjs']['forEach'](function(_0x2a0dee){_0x2a0dee['setActive'](!0x1);}),this['enemyEntitys']['forEach'](function(_0x2a0dee){_0x2a0dee['node']['active']=!0x1;}),this[_0x3f7b('0x12c')]['forEach'](function(_0x2a0dee){_0x2a0dee['node']['active']=!0x1;});},'setLayerActive':function(_0x2a0dee){var _0x40fac7=this;this['layers']['forEach'](function(_0x264df1){_0x264df1!==_0x40fac7[_0x3f7b('0x12a')]&&(_0x264df1['node']['active']=_0x2a0dee);});},'addCorpse':function(_0x2a0dee){this['corpseEntitys']['push'](_0x2a0dee);},'getRoomId':function(){return this['data']?this['data']['id']:-0x1;},'getType':function(){return this['data']?this['data'][_0x3f7b('0x73')]:0x0;},'spawnRandomEnemyId':function(){return _0x17fbb4[_0x3f7b('0x12d')](this['roomCfg']['spawnEnemyIds']);},'isClear':function(){return!this['data']||this['data']['isClear'];},'FightingClear':function(){this['data']['isClear']=!0x0;},'setRoomData':function(_0x2a0dee){this[_0x3f7b('0xae')]=_0x2a0dee;},'init':function(_0x2a0dee){if('cwCMr'==='cwCMr'){var _0x40fac7=this;this['finishedCallback']=_0x2a0dee,this[_0x3f7b('0x12e')]=_0x1729b1['Config']['RoomCfg'][this['data'][_0x3f7b('0x12f')]],this['node']['position']=cc['v2'](this['data']['pos']['mul'](_0x1729b1['Config']['tileSize']['width']*(_0x1729b1['Config']['tiledMapPathLength']+0x1)/0x2));var _0x264df1=!0x0,_0x225b82=!0x1,_0x17fbb4=void 0x0;try{for(var _0x19ea5b,_0x458113=this['layers'][Symbol[_0x3f7b('0xcb')]]();!(_0x264df1=(_0x19ea5b=_0x458113['next']())['done']);_0x264df1=!0x0){if('RraNZ'==='oufWn'){this['poolObjs']=[];}else{var _0x302d8b=_0x19ea5b['value'];_0x302d8b['node']['position']=_0x302d8b['node']['convertToWorldSpaceAR'](cc['v2'](0x0,0x0))[_0x3f7b('0x3b')](cc['visibleRect']['center']);var _0x47eca4=_0x1729b1['Config']['tiledMapLayerCfg'][_0x302d8b['getLayerName']()];_0x302d8b['node']['parent']=_0x1729b1['PlayMgr']['scene']['getChildByName'](_0x47eca4['group']);}}}catch(_0x5932c4){if(_0x3f7b('0x130')!=='PVaLj'){return _0x5932c4['showClose']();}else{_0x225b82=!0x0,_0x17fbb4=_0x5932c4;}}finally{try{!_0x264df1&&_0x458113['return']&&_0x458113['return']();}finally{if(_0x225b82)throw _0x17fbb4;}}this['waveInfo']=[];for(var _0x447ce8=function(_0x2a0dee){var _0x264df1=_0x40fac7['_tiledMap']['getObjectGroup']('wave'+_0x2a0dee);if(!_0x264df1)return'continue';_0x40fac7['waveInfo'][_0x2a0dee]=[],_0x264df1['getObjects']()['forEach'](function(_0x264df1){var _0x225b82=cc['v2'](_0x264df1);_0x40fac7['waveInfo'][_0x2a0dee]['push']({'pos':_0x225b82,'worldPos':_0x40fac7['objPosConvertToWorldSpace'](_0x225b82),'enemyId':_0x40fac7['spawnRandomEnemyId']()});});},_0x5e41a2=0x0;_0x5e41a2<0x9;_0x5e41a2++)_0x447ce8(_0x5e41a2);this['initBuildings']();}else{_0x40fac7=!0x0,_0x264df1=_0x2a0dee;}},'initDoors':function(){this['_doorState']=!0x1,this['_doorsPos']=[],this[_0x3f7b('0x131')]=[],this['_doorObjsMap']={};},'delGroupTiledAt':function(_0x2a0dee){var _0x40fac7=!0x0,_0x264df1=!0x1,_0x225b82=void 0x0;try{for(var _0x1729b1,_0x17fbb4=this['layers'][Symbol[_0x3f7b('0xcb')]]();!(_0x40fac7=(_0x1729b1=_0x17fbb4['next']())['done']);_0x40fac7=!0x0){if('mLFUB'!==_0x3f7b('0x132')){var _0x3ab94f=this['poolObjs'][_0x2a0dee];if(_0x3ab94f){var _0x524300=_0x3ab94f[_0x3f7b('0x133')];_0x524300['size']()<_0x3ab94f['maxNum']?_0x524300['put'](_0x40fac7):_0x40fac7['destroy']();}else _0x40fac7['destroy']();}else{var _0x4dc336=_0x1729b1[_0x3f7b('0x134')];this['delTiledAt'](_0x4dc336,_0x2a0dee);}}}catch(_0x29d5f8){_0x264df1=!0x0,_0x225b82=_0x29d5f8;}finally{try{!_0x40fac7&&_0x17fbb4['return']&&_0x17fbb4['return']();}finally{if('Syhsh'!=='Syhsh'){this['updateUsingWepaon'](),this['updateMoveSpeed'](),this[_0x3f7b('0x135')]();}else{if(_0x264df1)throw _0x225b82;}}}},'delUpperTiledAt':function(_0x2a0dee){var _0x40fac7=!0x0,_0x264df1=!0x1,_0x225b82=void 0x0;try{for(var _0x1729b1,_0x17fbb4=this['layers'][Symbol[_0x3f7b('0xcb')]]();!(_0x40fac7=(_0x1729b1=_0x17fbb4['next']())['done']);_0x40fac7=!0x0){var _0x1ec393=_0x1729b1['value'];_0x1ec393!==this['_groundlayer']&&this['delTiledAt'](_0x1ec393,_0x2a0dee);}}catch(_0x46ff90){_0x264df1=!0x0,_0x225b82=_0x46ff90;}finally{if('OeqtG'!=='wsDRx'){try{if('wwnaM'==='mZiQs'){this['moveStatus']['pointArr']=_0x2a0dee,this['moveStatus']['movePoint']=null;}else{!_0x40fac7&&_0x17fbb4['return']&&_0x17fbb4['return']();}}finally{if(_0x264df1)throw _0x225b82;}}else{var _0x5d97be=_0x1729b1['value'];_0x5d97be&&_0x5d97be['isAlive']&&(_0x2a0dee+=0x1);}}},'delTiledAt':function(_0x2a0dee,_0x40fac7){_0x2a0dee['getTileGIDAt'](_0x40fac7)&&_0x2a0dee['setTileGIDAt'](_0x1729b1['Config']['commonTiledMapGID']['NULL'],_0x40fac7['x'],_0x40fac7['y'],0x1);},'initBuildings':function(){var _0x2a0dee,_0x40fac7=this;this[_0x3f7b('0x136')]={},this['_buildings']=[],this['initDoors']();var _0x264df1=this[_0x3f7b('0x137')]['getMapSize'](),_0x17fbb4=_0x1729b1['MapMgr']['getAllRoom']();if(this['data']['type']===_0x1729b1['Const']['RoomType']['PATHX']){for(var _0x342a78=_0x17fbb4[this['data']['realSockets'][_0x1729b1['Const']['Direction']['LEFT']]]['getComponent'](cc['TiledMap']),_0x3e4308=_0x17fbb4[this['data']['realSockets'][_0x1729b1['Const']['Direction']['RIGHT']]]['getComponent'](cc['TiledMap']),_0x3edc3f=(_0x342a78['getMapSize']()['width']-0x1)/0x2,_0x26d76b=(_0x3e4308['getMapSize']()[_0x3f7b('0x26')]-0x1)/0x2,_0x37b365=0x1;_0x37b365<=_0x3edc3f;_0x37b365++)for(var _0x2a025c=0x1;_0x2a025c<=_0x264df1['height'];_0x2a025c++)this['delGroupTiledAt'](cc['v2'](_0x37b365-0x1,_0x2a025c-0x1));for(var _0x1d0837=0x1;_0x1d0837<=_0x26d76b;_0x1d0837++)for(var _0x1087a5=0x1;_0x1087a5<=_0x264df1['height'];_0x1087a5++)this['delGroupTiledAt'](cc['v2'](_0x264df1['width']-_0x1d0837,_0x1087a5-0x1));}else if(this['data']['type']===_0x1729b1['Const']['RoomType'][_0x3f7b('0x4b')]){for(var _0x259a92=_0x17fbb4[this['data']['realSockets'][_0x1729b1['Const']['Direction']['UP']]]['getComponent'](cc[_0x3f7b('0x138')]),_0x2d60d4=_0x17fbb4[this['data']['realSockets'][_0x1729b1[_0x3f7b('0x57')]['Direction']['DOWN']]]['getComponent'](cc['TiledMap']),_0x3d0cec=(_0x259a92['getMapSize']()['height']-0x1)/0x2,_0x444637=(_0x2d60d4['getMapSize']()['height']-0x1)/0x2,_0x554342=0x1;_0x554342<=_0x3d0cec;_0x554342++)for(var _0xced73f=0x1;_0xced73f<=_0x264df1['width'];_0xced73f++)this['delGroupTiledAt'](cc['v2'](_0xced73f-0x1,_0x554342-0x1));for(var _0x530958=0x1;_0x530958<=_0x444637;_0x530958++)for(var _0x2800ef=0x1;_0x2800ef<=_0x264df1['width'];_0x2800ef++)this['delGroupTiledAt'](cc['v2'](_0x2800ef-0x1,_0x264df1['height']-_0x530958));}else{var _0x944049=void 0x0,_0x4112c0=void 0x0;for(var _0x91a8c7 in this['data']['realSockets'])switch(Number(_0x91a8c7)){case _0x1729b1['Const']['Direction']['UP']:_0x944049=(_0x264df1['width']-0x5)/0x2;for(var _0xeac123=0x0;_0xeac123<0x5;_0xeac123++)this[_0x3f7b('0x139')]['push'](cc['v2'](_0x944049+_0xeac123,0x0));break;case _0x1729b1['Const']['Direction']['DOWN']:_0x944049=(_0x264df1['width']-0x5)/0x2;for(var _0x43387f=0x0;_0x43387f<0x5;_0x43387f++)this['_doorsPos']['push'](cc['v2'](_0x944049+_0x43387f,_0x264df1['height']-0x1));break;case _0x1729b1['Const'][_0x3f7b('0x13a')]['LEFT']:_0x4112c0=(_0x264df1['height']-0x5)/0x2;for(var _0x3f2d37=0x0;_0x3f2d37<0x5;_0x3f2d37++)this['_doorsPos']['push'](cc['v2'](0x0,_0x4112c0+_0x3f2d37));break;case _0x1729b1[_0x3f7b('0x57')]['Direction']['RIGHT']:_0x4112c0=(_0x264df1['height']-0x5)/0x2;for(var _0x4904b3=0x0;_0x4904b3<0x5;_0x4904b3++)this['_doorsPos']['push'](cc['v2'](_0x264df1['width']-0x1,_0x4112c0+_0x4904b3));}}this['_taskCount']=0x0;var _0x386daf=function(){_0x40fac7['_taskCount']-=0x1,0x0===_0x40fac7['_taskCount']&&_0x40fac7['finishedCallback']&&_0x40fac7['scheduleOnce'](_0x40fac7['finishedCallback'],0x0);};this['_doorsPos'][_0x3f7b('0x13b')](function(_0x2a0dee){_0x40fac7['_taskCount']+=0x1,_0x1729b1['StepTaskMgr']['addTask'](function(){_0x386daf(),_0x40fac7['delGroupTiledAt'](_0x2a0dee);var _0x264df1=cc['instantiate'](_0x1729b1['ResMgr']['getPreloadAsset']('prefabs/buliding/doorBody')),_0x225b82=cc['instantiate'](_0x1729b1['ResMgr']['getPreloadAsset']('prefabs/buliding/doorTop')),_0x17fbb4=_0x40fac7['convertToScenePos'](_0x2a0dee);_0x264df1['position']=_0x17fbb4,_0x264df1[_0x3f7b('0x13c')]=_0x1729b1['PlayMgr']['scene']['getChildByName']('mapLower'),_0x225b82['position']=_0x17fbb4,_0x225b82['parent']=_0x1729b1['PlayMgr']['scene']['getChildByName'](_0x3f7b('0x13d'));var _0x342a78={'bottom':_0x264df1,'top':_0x225b82,'init':function(){this['showOpen']();},'onOpenEnd':function(){this['top']['getChildByName']('spr')['getComponent'](cc['Animation'])['off']('finished',this['onOpenEnd'],this),this['showOpen']();},'showOpen':function(){arguments[_0x3f7b('0x27')]>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0]?(this['top']['active']=!0x0,this['top']['getChildByName']('spr')['getComponent'](cc['Animation'])['play']('doorOpening'),this['top']['getChildByName']('spr')['getComponent'](cc['Animation'])['on']('finished',this['onOpenEnd'],this)):(this['bottom']['getComponent']('doorBody')['showNormalState'](),this['top']['active']=!0x1);},'showClose':function(){this['bottom']['getComponent']('doorBody')['showCloseState'](),this['top']['active']=!0x0,this['top']['getChildByName']('spr')[_0x3f7b('0x32')](cc['Animation'])['play']();},'setActive':function(_0x2a0dee){this['bottom']['active']=_0x2a0dee;}};_0x342a78['init'](),_0x40fac7[_0x3f7b('0x131')]['push'](_0x342a78),_0x40fac7['_doorObjsMap'][_0x2a0dee['x']+'_'+_0x2a0dee['y']]=_0x342a78;});});for(var _0x4010bb=(_0x225b82(_0x2a0dee={},_0x1729b1['Config']['commonTiledMapGID']['FRAGILE_BOX'],'prefabs/buliding/fragileBox'),_0x225b82(_0x2a0dee,_0x1729b1[_0x3f7b('0x46')]['commonTiledMapGID']['EXPLOSIVE_BOX'],'prefabs/buliding/ExplosiveBox'),_0x2a0dee),_0x5a6c45=function(_0x2a0dee){_0x40fac7['_taskCount']+=0x1,_0x1729b1['StepTaskMgr']['addTask'](function(){_0x386daf();for(var _0x264df1=0x0;_0x264df1<_0x40fac7['mapSize']['height'];_0x264df1++){var _0x225b82=_0x40fac7['_blocklayer']['getTileGIDAt'](_0x2a0dee,_0x264df1);if(_0x225b82===_0x1729b1['Config']['commonTiledMapGID']['BLOCK']){var _0x17fbb4=_0x40fac7['getPositionAt'](cc['v2'](_0x2a0dee,_0x264df1)),_0x342a78=cc['instantiate'](_0x1729b1['ResMgr']['getPreloadAsset']('prefabs/buliding/mapBlock'));_0x342a78['position']=_0x17fbb4,_0x342a78[_0x3f7b('0x13c')]=_0x40fac7['_groundlayer']['node'];}if((_0x225b82=_0x40fac7['_groundlayer']['getTileGIDAt'](_0x2a0dee,_0x264df1))===_0x1729b1['Config']['commonTiledMapGID']['THORN']){var _0x3e4308=cc['v2'](_0x2a0dee,_0x264df1),_0x3edc3f=_0x40fac7['getPositionAt'](cc['v2'](_0x2a0dee,_0x264df1)),_0x26d76b=cc['instantiate'](_0x1729b1['ResMgr']['getPreloadAsset'](_0x3f7b('0x13e')));_0x26d76b[_0x3f7b('0x3d')]=_0x3edc3f,_0x26d76b['parent']=_0x40fac7['_groundlayer']['node'];var _0x37b365=_0x26d76b['getComponent']('Thorn');_0x37b365['tiledPos']=_0x3e4308,_0x37b365['tiledLayer']=_0x40fac7['_groundlayer'],_0x40fac7['_buildings']['push'](_0x37b365);}_0x225b82=_0x40fac7['_upperlayer']['getTileGIDAt'](_0x2a0dee,_0x264df1);var _0x2a025c=_0x4010bb[_0x225b82];if(_0x2a025c){var _0x1d0837=cc['v2'](_0x2a0dee,_0x264df1),_0x1087a5=_0x40fac7['convertToScenePos'](cc['v2'](_0x2a0dee,_0x264df1)),_0x259a92=cc['instantiate'](_0x1729b1['ResMgr'][_0x3f7b('0x3a')](_0x2a025c)),_0x2d60d4=_0x259a92['getComponent']('Entity');_0x2d60d4['tiledPos']=_0x1d0837,_0x2d60d4['setBindRoomCPT'](_0x40fac7),_0x259a92['position']=_0x1087a5,_0x259a92['parent']=_0x1729b1['PlayMgr']['scene']['getChildByName']('infoLayer'),_0x1729b1['PlayMgr']['entitys'][_0x2d60d4['getEntityId']()]=_0x259a92;var _0x3d0cec=_0x2a0dee+'_'+_0x264df1;_0x2d60d4['mapIndex']=_0x3d0cec,_0x40fac7['_buildingMap'][_0x3d0cec]=_0x2d60d4;}}});},_0x3477d6=0x0;_0x3477d6<this['mapSize']['width'];_0x3477d6++)_0x5a6c45(_0x3477d6);if(this['data']['type']===_0x1729b1['Const']['RoomType']['TREASURE_BOX']){var _0x5c75dd=Math['floor'](this['mapSize']['width']/0x2),_0x1b5d89=Math['floor'](this['mapSize']['height']/0x2),_0x492f28=this['getPositionAt'](cc['v2'](_0x5c75dd,_0x1b5d89));_0x1729b1['PlayMgr']['spawnItem'](0x66,this[_0x3f7b('0xb5')]['node']['convertToWorldSpaceAR'](_0x492f28));}this['waveInfo'][0x0]&&this['waveInfo'][0x0]['forEach'](function(_0x2a0dee){var _0x264df1=_0x2a0dee['worldPos'],_0x225b82=_0x2a0dee['enemyId'];_0x1729b1['PlayMgr']['spawnEnemy']({'enemyId':_0x225b82,'pos':_0x264df1,'roomCPT':_0x40fac7,'initActive':!0x0});});},'getCenterWorldPos':function(){return this['_groundlayer']['node']['convertToWorldSpaceAR'](this['getPositionAt'](cc['v2'](Math['floor'](this['mapSize']['width']/0x2),Math['floor'](this['mapSize'][_0x3f7b('0x13f')]/0x2))));},'convertToWorldPos':function(_0x2a0dee){var _0x40fac7=this['getPositionAt'](_0x2a0dee);return this['_groundlayer']['node']['convertToWorldSpaceAR'](_0x40fac7);},'convertToScenePos':function(_0x2a0dee){var _0x40fac7=this['getPositionAt'](_0x2a0dee);return this['_groundlayer']['node']['convertToWorldSpaceAR'](_0x40fac7)['sub'](cc['visibleRect']['center']);},'closeDoors':function(){this['_doorState']=!0x0,this['_doorObjs'][_0x3f7b('0x13b')](function(_0x2a0dee){return _0x2a0dee['showClose']();}),this['schedule'](this['updateEntityBlock'],0.5,cc['macro']['REPEAT_FOREVER'],0x1);},'openDoors':function(){this['_doorState']=!0x1,this['_doorObjs']['forEach'](function(_0x2a0dee){return _0x2a0dee['showOpen'](!0x0);}),this['unschedule'](this['updateEntityBlock']);},'addEnemyEntity':function(_0x2a0dee,_0x40fac7){this['enemyEntitys'][_0x2a0dee]=_0x40fac7;},'update':function(_0x2a0dee){this['shadowUpdatetime']+=_0x2a0dee,this['shadowUpdatetime']>0.03&&(this[_0x3f7b('0x140')]=0x0,this[_0x3f7b('0x141')]['forEach'](function(_0x2a0dee){_0x2a0dee['shadowNode']['position']=_0x2a0dee['entityNode']['position']['add'](_0x2a0dee['localPos']);}));},'updateEntityBlock':function(){this['entityArrivePointMap']={};var _0x2a0dee=!0x0,_0x40fac7=!0x1,_0x264df1=void 0x0;try{for(var _0x225b82,_0x17fbb4=this['enemyEntitys'][Symbol[_0x3f7b('0xcb')]]();!(_0x2a0dee=(_0x225b82=_0x17fbb4['next']())['done']);_0x2a0dee=!0x0){var _0x671baa=_0x225b82['value'];if(_0x671baa&&_0x671baa['isAlive']){var _0x4700d=_0x671baa['node']['position'],_0x1f3756=this['getTilePosByWp'](_0x1729b1[_0x3f7b('0x1c')]['sceneSpaceConvertToWorldSpace'](_0x4700d)),_0x4580be=_0x1f3756['x']+'_'+_0x1f3756['y'];this[_0x3f7b('0x142')][_0x4580be]=_0x671baa['entityId'];var _0x66995a=_0x1f3756['y']-0x1;_0x66995a>0x0&&(this['entityArrivePointMap'][_0x1f3756['x']+'_'+_0x66995a]=_0x671baa[_0x3f7b('0x6c')]);}}}catch(_0x577ec4){_0x40fac7=!0x0,_0x264df1=_0x577ec4;}finally{try{!_0x2a0dee&&_0x17fbb4['return']&&_0x17fbb4['return']();}finally{if(_0x40fac7)throw _0x264df1;}}},'entityArrivePoint':function(_0x2a0dee){var _0x40fac7=_0x2a0dee['id'],_0x264df1=_0x2a0dee['tiledPos'],_0x225b82=_0x264df1['x']+'_'+_0x264df1['y'];this['entityArrivePointMap'][_0x225b82]=_0x40fac7;var _0x1729b1=this['entityArrivePointMapIndex'][_0x40fac7];this['entityArrivePointMapIndex'][_0x40fac7]=_0x225b82,_0x1729b1&&_0x1729b1!==_0x225b82&&this['entityArrivePointMap'][_0x1729b1]===_0x40fac7&&(this['entityArrivePointMap'][_0x1729b1]=null);},'getAliveEnemyCount':function(){var _0x2a0dee=0x0,_0x40fac7=!0x0,_0x264df1=!0x1,_0x225b82=void 0x0;try{for(var _0x1729b1,_0x17fbb4=this['enemyEntitys'][Symbol['iterator']]();!(_0x40fac7=(_0x1729b1=_0x17fbb4['next']())['done']);_0x40fac7=!0x0){var _0x5da7b2=_0x1729b1['value'];_0x5da7b2&&_0x5da7b2['isAlive']&&(_0x2a0dee+=0x1);}}catch(_0x2bb824){_0x264df1=!0x0,_0x225b82=_0x2bb824;}finally{try{!_0x40fac7&&_0x17fbb4['return']&&_0x17fbb4['return']();}finally{if(_0x264df1)throw _0x225b82;}}return _0x2a0dee;},'getBoss':function(){var _0x2a0dee=!0x0,_0x40fac7=!0x1,_0x264df1=void 0x0;try{for(var _0x225b82,_0x17fbb4=this['enemyEntitys'][Symbol['iterator']]();!(_0x2a0dee=(_0x225b82=_0x17fbb4[_0x3f7b('0x25')]())['done']);_0x2a0dee=!0x0){var _0x3889d3=_0x225b82['value'];if(_0x3889d3&&_0x3889d3['isAlive']&&_0x3889d3['data']['type']===_0x1729b1['Const']['EntityType']['BOSS'])return _0x3889d3;}}catch(_0x340f93){_0x40fac7=!0x0,_0x264df1=_0x340f93;}finally{try{!_0x2a0dee&&_0x17fbb4['return']&&_0x17fbb4['return']();}finally{if(_0x40fac7)throw _0x264df1;}}return null;},'getAliveEnemys':function(){if('lEEyp'==='lEEyp'){var _0x2a0dee=[],_0x40fac7=!0x0,_0x264df1=!0x1,_0x225b82=void 0x0;try{for(var _0x1729b1,_0x17fbb4=this['enemyEntitys'][Symbol['iterator']]();!(_0x40fac7=(_0x1729b1=_0x17fbb4['next']())['done']);_0x40fac7=!0x0){var _0x2af67b=_0x1729b1['value'];_0x2af67b&&_0x2af67b['isAlive']&&_0x2a0dee['push'](_0x2af67b);}}catch(_0x549efd){_0x264df1=!0x0,_0x225b82=_0x549efd;}finally{try{!_0x40fac7&&_0x17fbb4['return']&&_0x17fbb4[_0x3f7b('0xc4')]();}finally{if('FYXhJ'==='SpJYm'){var _0x1acd2b=r['Config']['enemyCfg'][_0x2a0dee],_0x5e0335=_0x1acd2b['attrs'],_0x3d4790={'entityId':this[_0x3f7b('0x64')](),'enemyId':_0x2a0dee,'type':_0x1acd2b['type'],'hp':_0x5e0335['maxHP'],'maxHP':_0x5e0335['maxHP'],'sp':_0x5e0335['maxSP']||0x0,'maxSP':_0x5e0335[_0x3f7b('0x143')]||0x0,'energy':_0x5e0335['maxEnergy']||0x0,'maxEnergy':_0x5e0335['maxEnergy']||0x0,'strength':_0x5e0335['strength']||0x0,'criticalRate':_0x5e0335['criticalRate']||0x0,'moveSpeed':_0x5e0335[_0x3f7b('0xde')]||0x0,'atkSpeed':_0x5e0335['atkSpeed']||0x0,'hpRepairRate':_0x5e0335[_0x3f7b('0x144')]||0x0,'spRepairRate':_0x5e0335['spRepairRate']||0x0,'energyRepairRate':_0x5e0335['energyRepairRate']||0x0,'rebound':0x0,'weapons':[],'usingWeaponIndex':0x0,'usingWeaponID':_0x5e0335['usingWeaponID']||0x0,'cfg':_0x1acd2b};return this['entitys'][_0x3d4790['entityId']]=_0x3d4790,_0x3d4790;}else{if(_0x264df1)throw _0x225b82;}}}return _0x2a0dee;}else{this[_0x3f7b('0xac')]['deadLayout']['active']=!0x1;}},'getSpawnEnemyInfo':function(_0x2a0dee){return this['waveInfo'][_0x2a0dee];},'getTilePosByWp':function(_0x2a0dee){if(!this['isValidPos'](_0x2a0dee))return cc['v2'](-0x1,-0x1);var _0x40fac7=this['_blocklayer']['node']['convertToNodeSpaceAR'](_0x2a0dee);return this['getTilePos'](_0x40fac7);},'isBlock':function(_0x2a0dee){if(!this['isValidPos'](_0x2a0dee))return!0x1;var _0x40fac7=this['_blocklayer']['node']['convertToNodeSpaceAR'](_0x2a0dee),_0x264df1=this['getTilePos'](_0x40fac7);if(this['_doorState']&&this['_doorObjsMap'][_0x264df1['x']+'_'+_0x264df1['y']])return!0x0;var _0x225b82=this['_blocklayer']['getTileGIDAt'](_0x264df1);return!(!_0x225b82||_0x225b82!==_0x1729b1['Config']['commonTiledMapGID']['BLOCK']);},'getMapVal':function(_0x2a0dee,_0x40fac7){var _0x264df1=_0x2a0dee+'_'+_0x40fac7;if(this['_doorState']&&this['_doorObjsMap'][_0x264df1])return 0x1;if(this['_buildingMap'][_0x264df1])return 0x1;if(this['entityArrivePointMap'][_0x264df1])return 0x1;if(_0x2a0dee<0x0||_0x40fac7<0x0||_0x2a0dee>=this['mapSize']['width']||_0x40fac7>=this['mapSize'][_0x3f7b('0x13f')])return 0x1;var _0x225b82=this['_blocklayer'][_0x3f7b('0x145')](cc['v2'](_0x2a0dee,_0x40fac7));return _0x225b82&&_0x225b82===_0x1729b1['Config']['commonTiledMapGID']['BLOCK']?0x1:0x0;},'isValidPos':function(_0x2a0dee){return this['_blocklayer']['node']['getBoundingBoxToWorld']()['contains'](_0x2a0dee);},'getPositionAt':function(_0x2a0dee){var _0x40fac7=this['node']['getAnchorPoint'](),_0x264df1=this['node'][_0x3f7b('0x146')](),_0x225b82=this['_tiledMap']['getTileSize']();return cc['v2'](_0x225b82['width']*_0x2a0dee['x']+_0x225b82['width']/0x2-_0x40fac7['x']*_0x264df1['width'],_0x264df1['height']-(_0x225b82['height']*_0x2a0dee['y']+_0x225b82['height']/0x2)-_0x40fac7['y']*_0x264df1['height']);},'getHeroBornPos':function(){var _0x2a0dee=this['_objGroup']['getObject']('heroBornPoint');return _0x2a0dee?this['objPosConvertToWorldSpace'](cc['v2'](_0x2a0dee))['sub'](cc['visibleRect']['center']):cc['v2']();},'objPosConvertToWorldSpace':function(_0x2a0dee){return this['_objGroup']['node']['convertToWorldSpace'](_0x2a0dee);},'getSocketOffset':function(_0x2a0dee){var _0x40fac7=this['pathSockets'][_0x2a0dee];if(_0x40fac7){var _0x264df1=this['node']['getContentSize']();return _0x40fac7['subSelf'](cc['v2'](_0x264df1['width'],_0x264df1['height'])['divSelf'](0x2));}return cc['v2']();},'getTilePos':function(_0x2a0dee){var _0x40fac7=this['node']['getAnchorPoint'](),_0x264df1=this['node']['getContentSize'](),_0x225b82=this['_tiledMap']['getTileSize'](),_0x1729b1=Math['floor']((_0x2a0dee['x']+_0x40fac7['x']*_0x264df1['width'])/_0x225b82['width']),_0x17fbb4=Math['floor']((_0x264df1['height']-(_0x2a0dee['y']+_0x40fac7['y']*_0x264df1['height']))/_0x225b82['height']);return cc['v2'](_0x1729b1,_0x17fbb4);},'addShadow':function(_0x2a0dee,_0x40fac7){var _0x264df1=_0x40fac7['position'];this['shadows']['push']({'entityNode':_0x2a0dee,'shadowNode':_0x40fac7,'localPos':_0x264df1}),_0x40fac7['parent']=_0x1729b1['PlayMgr'][_0x3f7b('0xd4')]['getChildByName']('shadowLayer'),_0x40fac7['position']=_0x2a0dee['position']['add'](_0x264df1);}}),cc['_RF']['pop']();},{'Game':'Game','GameFunc':_0x3f7b('0x47')}],'TreasureBox':[function(_0x2fb316,_0x46e454,_0xc21228){'use strict';cc['_RF']['push'](_0x46e454,'9c7efkbe8BG0Y/dbl+ssDTE','TreasureBox');var _0x29184f=_0x2fb316('Item');cc['Class']({'extends':_0x29184f,'properties':{},'interaction':function(){if(this['getComponent'](cc['Animation'])['play'](),Game['AudioMgr']['playEffect']('open-treasureBox'),this['setVaild'](!0x1),0x64===this['itemId']){var _0x2fb316=this['node']['convertToWorldSpaceAR'](cc['v2']());Game['Config']['ItemCfg']['forEach'](function(_0x46e454){_0x46e454&&0x1===_0x46e454['type']&&Game['PlayMgr']['spawnItem'](_0x46e454['id'],_0x2fb316,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();});});}if(0x65===this['itemId']){var _0x46e454=this['node']['convertToWorldSpaceAR'](cc['v2']());Game['PlayMgr']['spawnItem'](0x12c,_0x46e454,function(_0x2fb316){_0x2fb316['getComponent'](_0x3f7b('0x147'))[_0x3f7b('0xd8')]();}),Game['PlayMgr']['spawnItem'](0x190,_0x46e454,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();}),Game['PlayMgr']['spawnItem'](0x191,_0x46e454,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();});}if(0x66===this['itemId']){var _0xc21228=this['node']['convertToWorldSpaceAR'](cc['v2']());Game['PlayMgr']['spawnItem'](0x12c,_0xc21228,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();}),Game[_0x3f7b('0x1c')][_0x3f7b('0x10e')](0x192,_0xc21228,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();}),Game['PlayMgr']['spawnItem'](0x193,_0xc21228,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();}),Game['PlayMgr']['spawnItem'](0x194,_0xc21228,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();}),Game[_0x3f7b('0x1c')]['spawnItem'](0x195,_0xc21228,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();}),Game['PlayMgr']['spawnItem'](0x196,_0xc21228,function(_0x2fb316){_0x2fb316['getComponent']('Item')['jump']();});}}}),cc['_RF']['pop']();},{'Item':'Item'}],'UILoading':[function(_0x4d018f,_0x331f92,_0xcafdf0){'use strict';cc['_RF']['push'](_0x331f92,'365a8AEfC1PmZjTinWfMH8f','UILoading');var _0x857e5e=_0x4d018f('UIPanel');cc['Class']({'extends':_0x857e5e,'properties':{},'onLoad':function(){if('xlVNs'==='sWGLl'){return this['force'];}else{var _0x4d018f=this;_0x857e5e['prototype']['onLoad']['call'](this),this['loadingWeigth']=[{'name':'','w':0x64},{'name':'gamePreLoadAsset','w':0x64,'FinishedEvent':Game[_0x3f7b('0xc6')]['Type'][_0x3f7b('0xe5')]},{'name':'mapStage1','w':0x64,'FinishedEvent':Game['Event']['Type']['mapLoadStage1']},{'name':'mapStageEnd','w':0x64,'FinishedEvent':Game['Event']['Type'][_0x3f7b('0xca')]}],this['totalWeight']=0x0,this['loadingWeigth'][_0x3f7b('0x13b')](function(_0x331f92){_0x4d018f['totalWeight']+=_0x331f92['w'];}),this['realProgress']=0x0,this['progress']=0x0,this['progressBar']=this['nodeDict']['progress']['getComponent'](cc['ProgressBar']),this[_0x3f7b('0x148')]['progress']=this['progress'],this[_0x3f7b('0x149')]['forEach'](function(_0x331f92){_0x331f92['progress']=_0x331f92['w']/_0x4d018f['totalWeight'],_0x331f92[_0x3f7b('0x14a')]?Game['Event']['on'](_0x331f92['FinishedEvent'],function(){_0x4d018f['realProgress']+=_0x331f92['progress'];},_0x4d018f):_0x4d018f['realProgress']+=_0x331f92['progress'];});}},'update':function(_0x4d018f){this['progress']>=0x1?(Game['Event']['clear'](this),Game['UIMgr'][_0x3f7b('0x97')](this[_0x3f7b('0x41')]),Game['Event']['dispatch'](Game['Event']['Type']['uiloadingEnd'])):(this['realProgress']>=0x1||this['realProgress']-this['progress']>0.1?this['progress']+=0x1*_0x4d018f:this['progress']+=0.1*(this['realProgress']-this['progress']),this[_0x3f7b('0x148')]['progress']=this['progress']);}}),cc['_RF']['pop']();},{'UIPanel':'UIPanel'}],'UIMgr':[function(_0x13b8f3,_0x4bad7c,_0x599a7d){'use strict';cc['_RF'][_0x3f7b('0x79')](_0x4bad7c,'96a02+fol5O44DI8wUkwPOl','UIMgr'),cc['Class']({'extends':cc['Component'],'properties':{},'onLoad':function(){cc['director']['on'](cc['Director']['EVENT_AFTER_SCENE_LAUNCH'],this['onEventAfterSceneLaunch'],this);},'init':function(){this['uiList']=[];},'onEventAfterSceneLaunch':function(){this['init']();},'openUI':function(_0x13b8f3,_0x4bad7c){var _0x599a7d=this;cc['loader']['loadRes']('prefabs/ui/'+_0x13b8f3,function(_0x13b8f3,_0x58c974){if(_0x13b8f3)cc['error'](_0x13b8f3['message']||_0x13b8f3);else{var _0x1a2fb3=cc['instantiate'](_0x58c974);_0x1a2fb3['parent']=cc['Canvas']['instance']['node'],_0x599a7d['uiList'][_0x3f7b('0x79')](_0x1a2fb3);for(var _0x27bd83=0x0;_0x27bd83<_0x599a7d['uiList']['length'];_0x27bd83++)if(_0x599a7d['uiList'][_0x27bd83]&&''!==_0x599a7d['uiList'][_0x27bd83]['name']){if('KyJsv'!=='vOraA'){var _0x55c2d1=_0x599a7d['uiList'][_0x27bd83]['getComponent']('UIPanel');_0x55c2d1&&_0x55c2d1['isTop']&&_0x55c2d1[_0x3f7b('0x41')]['setSiblingIndex'](Number['MAX_SAFE_INTEGER']);}else{this[_0x3f7b('0xbb')]=!0x0,this['startByTouch'](_0x13b8f3);}}_0x4bad7c&&_0x4bad7c(_0x1a2fb3);}});},'closeUI':function(_0x13b8f3){for(var _0x4bad7c=this['uiList']['length']-0x1;_0x4bad7c>=0x0;_0x4bad7c--)if(this['uiList'][_0x4bad7c]&&_0x13b8f3===this['uiList'][_0x4bad7c]){if('qcxYl'!=='ZyGVl'){_0x13b8f3['destroy'](),this['uiList']['splice'](_0x4bad7c,0x1);break;}else{if(!r['isAlive'])return void(_0x13b8f3['disabled']=!0x0);o['Data']['handleHit'](r['getEntityId'](),this['hitData']),this['hitData']['isPierce']&&(r['rigidBody']&&r['rigidBody']['applyLinearImpulse'](this[_0x3f7b('0x14b')],r[_0x3f7b('0x33')][_0x3f7b('0x14c')](),!0x0),_0x13b8f3['disabled']=!0x0);}}},'findUI':function(_0x13b8f3){for(var _0x4bad7c=uiFunc['uiList']['length']-0x1;_0x4bad7c>=0x0;_0x4bad7c--){var _0x599a7d=uiFunc['uiList'][_0x4bad7c];if(_0x599a7d&&_0x599a7d['name']===_0x13b8f3)return _0x599a7d;}return null;}}),cc['_RF']['pop']();},{}],'UIPanel':[function(_0x1f5c2c,_0x39f252,_0x4a19a9){'use strict';cc['_RF'][_0x3f7b('0x79')](_0x39f252,'eb029HMY0JNfIb6WJuZX2dD','UIPanel'),cc['Class']({'extends':cc['Component'],'properties':{'isTop':!0x1},'onLoad':function(){if(_0x3f7b('0x14d')==='pVftH'){this[_0x3f7b('0xac')]={};var _0x1f5c2c=function(_0x39f252,_0x4a19a9){for(var _0x35b4f6=_0x39f252[_0x3f7b('0x14e')],_0x11fd25=0x0;_0x11fd25<_0x35b4f6['length'];_0x11fd25++){var _0x45e0c3=_0x35b4f6[_0x11fd25]['name'];if(_0x45e0c3&&_0x45e0c3['indexOf']('key_')>=0x0){var _0x42bf7c=_0x45e0c3['substring'](0x4);_0x4a19a9[_0x42bf7c]&&cc['error']('控件名字重复!'+_0x35b4f6[_0x11fd25]['name']),_0x4a19a9[_0x42bf7c]=_0x35b4f6[_0x11fd25];}_0x35b4f6[_0x11fd25]['childrenCount']>0x0&&_0x1f5c2c(_0x35b4f6[_0x11fd25],_0x4a19a9);}}[_0x3f7b('0x14f')](this);_0x1f5c2c(this[_0x3f7b('0x41')],this['nodeDict']);}else{'use strict';cc['_RF']['push'](_0x39f252,'fe4fe1rjGlIxKznu2MVP3hc','doorBody'),cc['Class']({'extends':cc['Component'],'properties':{'normalSF':cc['SpriteFrame'],'closeSF':cc['SpriteFrame'],'spr':cc['Sprite']},'onLoad':function(){this['doorState']=!0x1;},'showNormalState':function(){this['doorState']=!0x1,this['spr']['spriteFrame']=this['normalSF'],this['getComponent'](cc['PhysicsBoxCollider'])['enabled']=!0x1,this['getComponent'](cc['PhysicsBoxCollider'])['enabled']=!0x0;},'showCloseState':function(){this['doorState']=!0x0,this['spr']['spriteFrame']=this['closeSF'];}}),cc['_RF']['pop']();}}}),cc['_RF']['pop']();},{}],'UIPlay':[function(_0x15b2f2,_0x6d6fc4,_0x31f611){'use strict';cc['_RF']['push'](_0x6d6fc4,'ceb99QrXENCdJndJFFp7ZNt','UIPlay');var _0x39463a=_0x15b2f2('UIPanel');cc['Class']({'extends':_0x39463a,'properties':{},'onLoad':function(){_0x39463a['prototype'][_0x3f7b('0x150')]['call'](this),this['nodeDict'][_0x3f7b('0x151')]['on']('update',function(_0x15b2f2){if(Game['PlayMgr']['heroEntity']){var _0x6d6fc4=_0x15b2f2['isTouching']();Game['PlayMgr']['heroEntity']['emit']('update-dir',{'dir':_0x6d6fc4?_0x15b2f2['getDirVec']():null,'rad':_0x6d6fc4?_0x15b2f2['getRad']():0x0});}}),this['nodeDict']['atkJoystick']['on']('update',function(_0x15b2f2){Game['PlayMgr']['heroEntity']&&Game['PlayMgr']['heroEntity']['emit']('update-atk-input',{'input':_0x15b2f2});}),this['weaponSpr']=this['nodeDict']['switchWeapon']['getChildByName']('weaponSpr'),this['nodeDict']['switchWeapon']['on'](_0x3f7b('0x152'),function(_0x15b2f2){Game['Data']['heroData']['weapons']['length']<0x2?Game['PlayMgr'][_0x3f7b('0xe0')]['getComponent']('Entity')['talk']('当前只拥有一把武器'):Game['Data']['heroSwitchWeapon']();},this),this['nodeDict']['operate']['on']('touchstart',function(_0x15b2f2){Game['PlayMgr'][_0x3f7b('0x153')]();},this),this['nodeDict']['operate']['active']=!0x1,this[_0x3f7b('0x154')]=this['nodeDict']['progressHP']['getComponent'](_0x3f7b('0x155')),this['prgSP']=this['nodeDict']['progressSP']['getComponent']('ProgressCtrl'),this['prgEn']=this['nodeDict']['progressEn']['getComponent'](_0x3f7b('0x155')),this['bossPrgHP']=this['nodeDict']['bossProgressHP'][_0x3f7b('0x32')]('ProgressCtrl'),this['setBossInfo'](),this['nodeDict']['winCaseLayout']['active']=!0x1,this['nodeDict']['pauseLayout']['active']=!0x1,this['nodeDict']['deadLayout']['active']=!0x1,this['nodeDict']['bossLayout']['active']=!0x1,this['bossAnim']=this['nodeDict']['bossLayout']['getComponent'](cc[_0x3f7b('0x156')]),this['bossAnim']['on']('finished',this['bossAnimFinished'],this),this['_actionManager']=new cc['ActionManager'](),this['_scheduler']=new cc['Scheduler'](),this[_0x3f7b('0xac')]['switchAutoAtkDir']['on']('touchstart',function(_0x15b2f2){Game['AudioMgr']['playCommonClickEffect'](),Game['Data']['switchAutoAimStatus']();}),this['refreshAutoAim']();},'onEnable':function(){Game['Data'][_0x3f7b('0x41')]['on']('entityEnergyChange',this['onEntityEnergyChange'],this),Game['Data'][_0x3f7b('0x41')]['on']('entityHPChange',this['onEntityHPChange'],this),Game['Data']['node']['on']('entitySPChange',this['onEntitySPChange'],this),Game['Data']['node']['on']('entityMaxEnergyChange',this['onEntityMaxEnergyChange'],this),Game['Data']['node']['on']('entityMaxSPChange',this['onEntityMaxSPChange'],this),Game[_0x3f7b('0xd3')]['node']['on']('entityMaxHPChange',this['onEntityMaxHPChange'],this),Game['Data']['node']['on']('playerAutoAimChange',this['refreshAutoAim'],this),Game['PlayMgr']['node']['on'](_0x3f7b('0x10a'),this['updateSelectOperatedTarget'],this);},'onDisable':function(){if('ZKYMl'!=='ZKYMl'){o['eventListener']['clear'](_0x15b2f2);}else{Game['Data']['node']['targetOff'](this),Game['PlayMgr']['node']['targetOff'](this);}},'start':function(){var _0x15b2f2=Game['Data']['heroData'];this[_0x3f7b('0x154')]['setMax'](Math['floor'](_0x15b2f2['maxHP'])),this['prgSP']['setMax'](Math['floor'](_0x15b2f2['maxSP'])),this['prgEn']['setMax'](Math['floor'](_0x15b2f2['maxEnergy'])),this['prgHP'][_0x3f7b('0x157')](Math['floor'](_0x15b2f2['hp'])),this['prgSP']['setVal'](Math['floor'](_0x15b2f2['sp'])),this['prgEn']['setVal'](Math['floor'](_0x15b2f2['energy']));},'updateSelectOperatedTarget':function(_0x15b2f2){var _0x6d6fc4=_0x15b2f2['group'],_0x31f611=void 0x0===_0x6d6fc4?null:_0x6d6fc4;this['nodeDict']['operate']['active']=null!==_0x31f611;},'onEntityEnergyChange':function(_0x15b2f2,_0x6d6fc4){if('PWSsk'!==_0x3f7b('0x158')){Game['Data']['heroData']['entityId']===_0x15b2f2&&this['prgEn']['setVal'](Math['floor'](_0x6d6fc4));}else{var _0x1b8111=this[_0x3f7b('0x159')]['getObject']('heroBornPoint');return _0x1b8111?this['objPosConvertToWorldSpace'](cc['v2'](_0x1b8111))['sub'](cc['visibleRect']['center']):cc['v2']();}},'onEntitySPChange':function(_0x15b2f2,_0x6d6fc4){Game['Data']['heroData']['entityId']===_0x15b2f2&&this['prgSP']['setVal'](Math['floor'](_0x6d6fc4));},'onEntityHPChange':function(_0x15b2f2,_0x6d6fc4){Game['Data']['heroData']['entityId']===_0x15b2f2&&this['prgHP']['setVal'](Math['floor'](_0x6d6fc4)),this[_0x3f7b('0xab')]===_0x15b2f2&&this['bossPrgHP']['setVal'](Math['floor'](_0x6d6fc4));},'onEntityMaxEnergyChange':function(_0x15b2f2,_0x6d6fc4){Game['Data']['heroData']['entityId']===_0x15b2f2&&this['prgEn']['setMax'](Math['floor'](_0x6d6fc4));},'onEntityMaxSPChange':function(_0x15b2f2,_0x6d6fc4){Game['Data'][_0x3f7b('0x6d')]['entityId']===_0x15b2f2&&this['prgSP']['setMax'](Math['floor'](_0x6d6fc4));},'onEntityMaxHPChange':function(_0x15b2f2,_0x6d6fc4){Game[_0x3f7b('0xd3')][_0x3f7b('0x6d')]['entityId']===_0x15b2f2&&this['prgHP']['setMax'](Math[_0x3f7b('0xa0')](_0x6d6fc4));},'refreshAutoAim':function(){var _0x15b2f2=Game[_0x3f7b('0xd3')]['playerData']['isAutoAim'],_0x6d6fc4=_0x15b2f2?_0x3f7b('0x15a'):'自动\x0a瞄准',_0x31f611=_0x15b2f2?Game['Config']['Color']['GREEN']:Game['Config']['Color']['WHITE'];this['nodeDict'][_0x3f7b('0x15b')]['getChildByName']('label')['getComponent'](cc['Label'])[_0x3f7b('0x99')]=_0x6d6fc4,this['nodeDict'][_0x3f7b('0x15b')][_0x3f7b('0x15c')]=_0x31f611,Game['PlayMgr']['heroEntity']&&Game['PlayMgr']['heroEntity']['getComponent']('Entity')[_0x3f7b('0x15d')](_0x15b2f2?_0x3f7b('0x15e'):_0x3f7b('0x15f'),_0x31f611);},'killAll':function(){Game['AudioMgr']['playCommonClickEffect'](),Game['PlayMgr']['killAllEnemy']();},'backToMenu':function(){Game['AudioMgr'][_0x3f7b('0x160')](),Game['GameMgr']['leavePlay']();},'enterNextLevel':function(){Game['AudioMgr'][_0x3f7b('0x160')](),Game[_0x3f7b('0x1c')]['enterNextLevel']();},'pauseGame':function(){this[_0x3f7b('0xac')]['pauseLayout']['active']||(this['nodeDict']['pauseLayout']['active']=!0x0,Game['AudioMgr']['playCommonClickEffect'](),this['scheduleOnce'](function(){Game['PlayMgr']['pauseGame']();},0x0),this['nodeDict']['pauseLayout']['getComponentInChildren']('itemListCtrl')['refresh']());},'resumeGame':function(){if('ZTZly'==='DAVPN'){Game['PlayMgr'][_0x3f7b('0xe0')]&&Game['PlayMgr']['heroEntity']['emit']('update-atk-input',{'input':_0x15b2f2});}else{this[_0x3f7b('0xac')][_0x3f7b('0x161')]['active']&&(Game['AudioMgr']['playCommonClickEffect'](),Game['PlayMgr'][_0x3f7b('0x162')](),this['nodeDict']['pauseLayout'][_0x3f7b('0x9d')]=!0x1);}},'bossAnimFinished':function(){this['nodeDict']['bossLayout']['active']=!0x1,this['showBossEndCallback']&&(this['showBossEndCallback'](),this['showBossEndCallback']=null);},'setBossInfo':function(_0x15b2f2){if(_0x3f7b('0x163')==='TTzKi'){_0x15b2f2?(this['bossEntityId']=_0x15b2f2['getEntityId'](),this['bossPrgHP']['setMax'](Math['floor'](_0x15b2f2['data']['maxHP'])),this['bossPrgHP']['setVal'](Math['floor'](_0x15b2f2['data']['hp']))):this['bossEntityId']=-0x1,this['nodeDict']['bossInfo']['active']=this['bossEntityId']>=0x0,this['nodeDict']['bossInfo']['active']&&(this['nodeDict']['bossInfo']['y']=0x171,cc['tween'](this['nodeDict']['bossInfo'])['to'](0.25,{'y':0xd4})['start']());}else{o['prototype']['onDestroy']['call'](this),this[_0x3f7b('0x164')]&&this['laserPointFirst']['destroy'](),this['laserPointFirst']=null,this['laserObjs'][_0x3f7b('0x13b')](function(_0x4b2b45){_0x4b2b45['main']['destroy'](),_0x4b2b45['point']['destroy']();}),this['laserObjs']=[];}},'showDead':function(){this['nodeDict'][_0x3f7b('0x165')]['active']=!0x0;var _0x15b2f2=this['nodeDict']['deadLayout']['getChildByName']('actionNode');_0x15b2f2['y']=0x3e8,_0x15b2f2[_0x3f7b('0x32')](cc[_0x3f7b('0x156')])['play']();},'endGame':function(){Game['AudioMgr']['playCommonClickEffect'](),Game['PlayMgr']['loseGame']();},'replayGame':function(){Game['AudioMgr']['playCommonClickEffect'](),Game['PlayMgr'][_0x3f7b('0x166')]();},'realive':function(){Game['AudioMgr']['playCommonClickEffect'](),Game['PlayMgr']['realiveHero'](),this['hideDead']();},'hideDead':function(){this['nodeDict']['deadLayout']['active']=!0x1;},'showBossFeature':function(_0x15b2f2,_0x6d6fc4){this['showBossEndCallback']=_0x6d6fc4,this['nodeDict']['bossLayout']['active']=!0x0;var _0x31f611=_0x15b2f2?_0x15b2f2['getEnemyCfg']()['name']:'BOSS';this['nodeDict']['bossLayout']['getChildByName']('nameNode')['getChildByName']('bossName1')['getComponent'](cc[_0x3f7b('0x80')])['string']=_0x31f611,this['nodeDict']['bossLayout']['getChildByName']('nameNode')['getChildByName']('bossName2')['getComponent'](cc[_0x3f7b('0x80')])['string']=_0x31f611,this['bossAnim']['play']();},'showWinLayout':function(){arguments[_0x3f7b('0x27')]>0x0&&void 0x0!==arguments[0x0]&&arguments[0x0];var _0x15b2f2=this['nodeDict']['winCaseLayout'];_0x15b2f2['active']=!0x0,_0x15b2f2['opacity']=0x0,cc['tween'](_0x15b2f2)['to'](0.2,{'opacity':0xc8})['delay'](0.5)['to'](0.2,{'opacity':0x0})['call'](function(){if('WeTvM'==='urBdO'){cc['loader']['loadRes']('sounds/'+_0x15b2f2,cc['AudioClip'],function(_0xe0db38,_0x4d78a9){_0xe0db38?cc['error'](_0xe0db38):_0x6d6fc4&&_0x6d6fc4(_0x4d78a9);});}else{_0x15b2f2['active']=!0x1;}})['start']();},'uiloop':function(){this['_scheduler'][_0x3f7b('0x167')](0.016);}}),cc['_RF']['pop']();},{'UIPanel':'UIPanel'}],'UIStart':[function(_0x3b5a44,_0x279330,_0xa822fc){'use strict';cc['_RF']['push'](_0x279330,_0x3f7b('0x168'),'UIStart');var _0x4e19df=_0x3b5a44('UIPanel');cc['Class']({'extends':_0x4e19df,'properties':{},'onLoad':function(){if('GiQEn'==='fheKP'){var _0x4812f4={'entityId':this[_0x3f7b('0x64')](),'heroId':0x1,'hp':0x64,'maxHP':0x64,'sp':0x32,'maxSP':0x32,'energy':0xc8,'maxEnergy':0xc8,'strength':0xa,'criticalRate':0.1,'moveSpeed':0x15e,'atkSpeed':0x3e8,'hpRepairRate':0x0,'spRepairRate':0x32,'energyRepairRate':0x5a,'rebound':0x0,'weapons':[this['createWeapon'](0x3)],'usingWeaponIndex':0x0,'usingWeaponID':0x0,'equipments':[]};return this['entitys'][_0x4812f4[_0x3f7b('0x6c')]]=_0x4812f4,_0x4812f4;}else{var _0x3b5a44=this;_0x4e19df['prototype']['onLoad']['call'](this),this['nodeDict'][_0x3f7b('0x169')]['on']('click',function(){Game['AudioMgr']['playCommonClickEffect'](),Game['GameMgr']['enterPlay']();}),Game['Event']['on'](Game['Event']['Type']['loadSubpackageFinished'],function(){_0x3b5a44['refresh']();}),this['refresh']();}},'refresh':function(){var _0x3b5a44=Game['ResMgr']['isLoadSubpackageFinished']();this['nodeDict']['button']['active']=_0x3b5a44,this['nodeDict']['loading']['active']=!_0x3b5a44,this[_0x3f7b('0xac')]['loadingTip']['active']=!_0x3b5a44;}}),cc['_RF']['pop']();},{'UIPanel':'UIPanel'}],'UITip':[function(_0x14d4cf,_0xabb3bc,_0x150c78){'use strict';cc['_RF']['push'](_0xabb3bc,'64264HLe2JNKZFZlfTfqgGU',_0x3f7b('0x16a'));var _0x1b9214=_0x14d4cf('UIPanel');cc['Class']({'extends':_0x1b9214,'properties':{},'onLoad':function(){_0x1b9214['prototype']['onLoad']['call'](this),setTimeout(function(){uiFunc['closeUI'](this['node']);}[_0x3f7b('0x14f')](this),0x7d0);},'setData':function(_0x14d4cf){this['nodeDict']['tipLb']['getComponent'](cc['Label'])['string']=_0x14d4cf;}}),cc['_RF']['pop']();},{'UIPanel':'UIPanel'}],'UIWin':[function(_0x48e08a,_0x59dba7,_0x5c9709){'use strict';cc['_RF']['push'](_0x59dba7,'d1012BJyX1A1L0p6I2oMZJx','UIWin');var _0x3ca431=_0x48e08a('UIPanel');cc['Class']({'extends':_0x3ca431,'properties':{},'onLoad':function(){_0x3ca431['prototype']['onLoad'][_0x3f7b('0x102')](this);var _0x48e08a=Math['floor'](Game['Data']['playTime']),_0x59dba7=Math['floor'](_0x48e08a/0xe10),_0x5c9709=Math['floor']((_0x48e08a-0xe10*_0x59dba7)/0x3c),_0x1f7778=_0x48e08a%0x3c,_0x469452=function(_0x48e08a){if('eUvDA'==='GCGlv'){var _0x253ae=arguments['length']>0x2&&void 0x0!==arguments[0x2]?arguments[0x2]:null;_0x253ae=_0x253ae||_0x59dba7;var _0x253a3a={'pool':new cc[(_0x3f7b('0x16b'))](),'maxNum':_0x253ae};this['poolObjs'][_0x3f7b('0x79')](_0x253a3a);for(var _0x8a99da=0x0;_0x8a99da<_0x59dba7;++_0x8a99da)_0x253a3a['pool']['put'](cc['instantiate'](_0x48e08a));return this['poolObjs']['length']-0x1;}else{return _0x48e08a>0x9?_0x48e08a:'0'+_0x48e08a;}};this['nodeDict']['passTime']['getComponent'](cc['Label'])[_0x3f7b('0x99')]=_0x469452(_0x59dba7)+':'+_0x469452(_0x5c9709)+':'+_0x469452(_0x1f7778),this['nodeDict']['killCount']['getComponent'](cc[_0x3f7b('0x80')])['string']=Game['Data']['killEnemyCount'];},'backToMenu':function(){Game['AudioMgr'][_0x3f7b('0x160')](),Game['GameMgr']['leavePlay']();}}),cc['_RF']['pop']();},{'UIPanel':'UIPanel'}],'Weapon-11':[function(_0x344a9e,_0x12a2ae,_0x3f6912){'use strict';cc['_RF']['push'](_0x12a2ae,'0a6e53jBwJL/pOmWhJ/ZGmp','Weapon-11');var _0x12bb40=_0x344a9e('Weapon'),_0xc40c5d=_0x344a9e('Game');cc['Class']({'extends':_0x12bb40,'properties':{'bulletPrefab':cc['Prefab'],'firePoint':cc['Node']},'onFireEnd':function(){this['isFiring']=!0x1;},'onFire':function(){var _0x344a9e=_0xc40c5d['PlayMgr'],_0x12a2ae=_0xc40c5d['PoolMgr']['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x12a2ae['group']=this['bulletGroup'],_0x12a2ae['parent']=_0x344a9e['scene']['getChildByName']('bulletLayer'),_0x12a2ae['position']=_0x344a9e['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x3f6912=this['atkDirVec']['mul'](0x3e8),_0x12bb40=_0x12a2ae['getComponent']('Bullet');_0x12bb40['setHitData'](_0xc40c5d['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x12bb40['fire'](_0x3f6912,this[_0x3f7b('0x11')]),_0xc40c5d[_0x3f7b('0x16c')]['playEffect']('fire-rocket');}}),cc['_RF']['pop']();},{'Game':'Game','Weapon':'Weapon'}],'Weapon-12':[function(_0x38696c,_0x1d343f,_0x1c35a6){'use strict';function _0x53b8ad(_0x38696c,_0x1d343f,_0x1c35a6){return _0x1d343f in _0x38696c?Object['defineProperty'](_0x38696c,_0x1d343f,{'value':_0x1c35a6,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x38696c[_0x1d343f]=_0x1c35a6,_0x38696c;}cc['_RF']['push'](_0x1d343f,'ee43a+TfndAD6vcSvWrN3Cg','Weapon-12');var _0x229507=_0x38696c('Weapon'),_0x301552=_0x38696c('Game');cc['Class']({'extends':_0x229507,'properties':{'laserPoint':cc['Node'],'laserMain':cc['Node'],'firePoint':cc['Node'],'laserClip':{'type':cc['AudioClip'],'default':null},'effColor':new cc['Color'](0xff,0xff,0xff)},'ctor':function(){this[_0x3f7b('0x16d')]=0.3,this['laserPointFirst']=null,this['laserObjs']=[],this[_0x3f7b('0x16e')]=-0x1,this['isFiring']=!0x1;},'onDisable':function(){_0x229507['prototype']['onDisable']['call'](this),this['reset']();},'onDestroy':function(){_0x229507['prototype']['onDestroy']['call'](this),this['laserPointFirst']&&this['laserPointFirst']['destroy'](),this['laserPointFirst']=null,this['laserObjs'][_0x3f7b('0x13b')](function(_0x38696c){_0x38696c['main']['destroy'](),_0x38696c[_0x3f7b('0x16f')]['destroy']();}),this['laserObjs']=[];},'onBeEquip':function(){_0x229507['prototype']['onBeEquip']['call'](this),this['createLaserObj'](),this['laserPointFirst']=cc['instantiate'](this['laserPoint']),this['bulletLayer']['addChild'](this['laserPointFirst'],0x2),this['reset']();},'createLaserObj':function(){var _0x38696c=cc['instantiate'](this['laserMain']),_0x1d343f=cc['instantiate'](this['laserPoint']);this['bulletLayer']['addChild'](_0x38696c,0x1),this['bulletLayer']['addChild'](_0x1d343f,0x2),this[_0x3f7b('0x170')]['push']({'main':_0x38696c,'point':_0x1d343f});},'handleInput':function(_0x38696c){if(0x0===this['atkForbid']){this[_0x3f7b('0x171')]=_0x38696c['input'];var _0x1d343f=this['isAtking'];this['isAtking']=this['input']['isTouching'](),this['isAtking']&&(this['atkRad']=this['input']['getRad'](),this['atkDeg']=cc['misc']['radiansToDegrees'](this['atkRad']),this['atkDirVec']=this['input']['getDirVec'](),this['setAtkDir'](this[_0x3f7b('0x172')])),_0x1d343f!==this['isAtking']&&(this[_0x3f7b('0x41')]['emit']('atk-status-change',this[_0x3f7b('0x173')]),this['unschedule'](this['onFiring']),this['isAtking']?this['execute']():this['reset']());}},'execute':function(){this['scheduleOnce'](this['onFiring'],this['_startTime']),this['laserPointFirst']['active']=!0x0,this['laserPointFirst']['getComponent'](cc['Animation'])['play']('laser-point-start-12'),this['getComponent'](cc[_0x3f7b('0x156')])['play']();},'reset':function(){this['hitLeftTime']=0x0,this['isFiring']=!0x1,this['audioID']>0x0&&(cc['audioEngine']['stop'](this['audioID']),this[_0x3f7b('0x16e')]=-0x1),this['unschedule'](this['onFiring']),this['getComponent'](cc['Animation'])['pause'](),this['laserPointFirst']&&(this['laserPointFirst']['active']=!0x1,this['laserPointFirst']['getComponent'](cc[_0x3f7b('0x156')])['stop']()),this['laserObjs']['forEach'](function(_0x38696c){_0x38696c['main']['active']=!0x1,_0x38696c['point']['active']=!0x1,_0x38696c['main']['getComponent'](cc[_0x3f7b('0x156')])['stop'](),_0x38696c['point']['getComponent'](cc['Animation'])['stop']();});},'onFiring':function(){this['hitLeftTime']=0x0,this['isFiring']=!0x0,this['laserPointFirst']['getComponent'](cc['Animation'])['play']('laser-point-firing-12'),this['laserObjs']['forEach'](function(_0x38696c){_0x38696c['main'][_0x3f7b('0x32')](cc[_0x3f7b('0x156')])['play'](_0x3f7b('0xd1')),_0x38696c['point']['getComponent'](cc['Animation'])['play']('laser-point-firing-12');}),this['audioID']=cc['audioEngine']['playEffect'](this['laserClip'],!0x0);},'refreshFirstPoint':function(){this['laserPointFirst']['position']=_0x301552[_0x3f7b('0x1c')]['worldSpaceConvertToSceneSpace'](this['firePoint']['convertToWorldSpaceAR'](cc['v2'](0x0,0x0)));},'update':function(_0x38696c){var _0x1d343f,_0x1c35a6=this;if(this['isAtking']&&this['refreshFirstPoint'](),this['isAtking']&&this['isFiring']&&0x0===this['atkForbid']){var _0x229507=null;if(this['hitLeftTime']-=_0x38696c,this['hitLeftTime']<0x0){if(this['bulletGroup']===_0x301552['Const'][_0x3f7b('0x174')]['BULLET']&&!this[_0x3f7b('0x62')]['consumeEnergy'](this['energyCostVal']))return this['playExecuteWarning'](),void this['reset']();_0x229507=_0x301552['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId']),this['hitLeftTime']=0.1;}for(var _0x5bdf72=this['ownerEntityCPT']['getEntityData']()['rebound']+0x1-this['laserObjs']['length'];_0x5bdf72>0x0;_0x5bdf72--)this[_0x3f7b('0x175')]();var _0x4b2964=cc['director']['getPhysicsManager'](),_0x1b7363=(_0x53b8ad(_0x1d343f={},_0x301552['Const']['Group']['MAP'],!0x0),_0x53b8ad(_0x1d343f,_0x301552['Const']['Group']['BUILDING'],!0x0),_0x1d343f),_0x48cb1d=this['firePoint']['convertToWorldSpaceAR'](cc['v2'](0x0,0x0)),_0x63a76e=_0x48cb1d['add'](this['atkDirVec']['mul'](0x708)),_0x4fc1ca=0x32,_0x19568e=function(_0x38696c){var _0x1d343f={'res':null,'dis':0x0},_0x53b8ad=0x0;if(_0x4b2964['rayCast'](_0x48cb1d,_0x63a76e,cc['RayCastType']['All'])['forEach'](function(_0x38696c){if('QpbjT'==='UArkE'){Game['AudioMgr']['playCommonClickEffect'](),Game[_0x3f7b('0x176')]['leavePlay']();}else{var _0x1c35a6=_0x38696c['collider']['node'];_0x1b7363[_0x1c35a6[_0x3f7b('0x89')]]&&(_0x53b8ad=_0x38696c['point']['sub'](_0x48cb1d)['magSqr'](),(!_0x1d343f['res']||_0x1d343f[_0x3f7b('0x177')]>_0x53b8ad)&&(_0x1d343f['res']=_0x38696c,_0x1d343f[_0x3f7b('0x177')]=_0x53b8ad));}}),!_0x1d343f['res'])return _0x38696c['main']['active']=!0x1,_0x38696c['point']['active']=!0x1,'break';var _0x5bdf72=_0x301552['PlayMgr'],_0x19568e=Math['sqrt'](_0x1d343f['dis']),_0x53b783=_0x1d343f['res']['point'],_0x42035c=_0x1d343f[_0x3f7b('0x178')][_0x3f7b('0x179')],_0x2713fb=_0x63a76e['sub'](_0x48cb1d)['normalizeSelf'](),_0x4fb6af=_0x2713fb['sub'](_0x42035c[_0x3f7b('0x9a')](0x2*_0x2713fb['dot'](_0x42035c))),_0x373ab1=cc['misc'][_0x3f7b('0x17a')](Math['atan2'](_0x2713fb['y'],_0x2713fb['x']));if(_0x38696c['main']['getChildByName']('spr')['height']=_0x19568e,_0x38696c['main']['rotation']=-_0x373ab1,_0x38696c['main']['active']=!0x0,_0x38696c['main'][_0x3f7b('0x3d')]=_0x5bdf72['worldSpaceConvertToSceneSpace'](_0x48cb1d),_0x38696c['point']['active']=!0x0,_0x38696c['point'][_0x3f7b('0x3d')]=_0x5bdf72['worldSpaceConvertToSceneSpace'](_0x53b783),_0x229507){var _0x1a6554=_0x301552['Const']['GroupCamp'][_0x1c35a6['bulletGroup']];_0x4b2964['rayCast'](_0x48cb1d['sub'](_0x2713fb['mul'](_0x4fc1ca)),_0x53b783,cc['RayCastType']['All'])['forEach'](function(_0x38696c){var _0x1d343f=_0x38696c['collider']['node'][_0x3f7b('0x32')]('Entity');if(_0x1d343f&&_0x1d343f['isAlive']&&0x0===_0x38696c['collider']['tag']&&_0x301552['Const']['GroupCamp'][_0x1d343f['node']['group']]!==_0x1a6554&&(_0x301552['Data']['handleHit'](_0x1d343f['getEntityId'](),_0x229507),_0x1d343f['rigidBody'])){var _0x53b8ad=_0x38696c[_0x3f7b('0x179')]['neg']()['mulSelf'](0x12c);_0x301552['PlayMgr'][_0x3f7b('0x34')](_0x38696c['point'],_0x1c35a6['effColor']),_0x1d343f['rigidBody']['applyLinearImpulse'](_0x53b8ad,_0x1d343f['rigidBody']['getWorldCenter'](),!0x0);}});}_0x63a76e=(_0x48cb1d=_0x53b783)['add'](_0x4fb6af['mul'](0x708)),_0x4fc1ca=0x0;},_0x53b783=!0x0,_0x42035c=!0x1,_0x2713fb=void 0x0;try{for(var _0x11d231,_0x221a2e=this['laserObjs'][Symbol['iterator']]();!(_0x53b783=(_0x11d231=_0x221a2e['next']())['done']);_0x53b783=!0x0){if('break'===_0x19568e(_0x11d231[_0x3f7b('0x134')]))break;}}catch(_0x52dc91){_0x42035c=!0x0,_0x2713fb=_0x52dc91;}finally{try{if(_0x3f7b('0x17b')==='NvMeU'){!_0x53b783&&_0x221a2e['return']&&_0x221a2e['return']();}else{_0x38696c['setItem'](_0x1c35a6,{'itemId':_0x1d343f,'idx':_0x1c35a6});}}finally{if(_0x42035c)throw _0x2713fb;}}}}}),cc[_0x3f7b('0x58')]['pop']();},{'Game':'Game','Weapon':'Weapon'}],'Weapon-1':[function(_0x1d6d80,_0x59abb6,_0xd574fc){'use strict';cc['_RF']['push'](_0x59abb6,'01f79jXPiNBuoPnqxpEF+nP','Weapon-1');var _0x1216fa=_0x1d6d80('Weapon'),_0x5b93c3=_0x1d6d80('Game');cc['Class']({'extends':_0x1216fa,'properties':{'bulletPrefab':cc['Prefab'],'normalPoint':cc['Node']},'onAtkEnd':function(){this['isFiring']=!0x1,this[_0x3f7b('0x173')]?this['node']['scaleY']=-0x1*this['node']['scaleY']:this['node']['scaleY']=0x1;},'onAtk':function(){var _0x1d6d80=_0x5b93c3['PlayMgr'],_0x59abb6=cc['instantiate'](this['bulletPrefab']);_0x59abb6['parent']=_0x1d6d80['scene']['getChildByName']('bulletLayer'),_0x59abb6['group']=this['bulletGroup'],_0x59abb6['position']=_0x1d6d80['convertToSceneSpace'](this['node'],cc['v2'](0x0,0x0));var _0xd574fc=_0x59abb6['getComponent']('Bullet');_0xd574fc['setHitData'](_0x5b93c3['Data']['createHitDataByItemId'](this['ownerEntityCPT'][_0x3f7b('0x93')](),this['itemId'])),_0xd574fc['fire'](this['atkDeg']),_0x59abb6['scaleY']=(this['atkDeg']>-0x5a&&this['atkDeg']<0x5a?0x1:-0x1)*this['node']['scaleY'],_0x5b93c3['AudioMgr']['playEffect']('atk-1');}}),cc['_RF']['pop']();},{'Game':_0x3f7b('0x81'),'Weapon':'Weapon'}],'Weapon-2':[function(_0x1f9f39,_0x1d6f3a,_0x1e6bb7){'use strict';cc['_RF'][_0x3f7b('0x79')](_0x1d6f3a,'cad31U9X0ZDVIeFuZgDoZJq',_0x3f7b('0x17c'));var _0x15cb8b=_0x1f9f39('Weapon'),_0x4baa1e=_0x1f9f39('Game');cc['Class']({'extends':_0x15cb8b,'properties':{'bulletPrefab':cc['Prefab'],'firePoint':cc['Node']},'onFireEnd':function(){this['isFiring']=!0x1;},'spawnBullet':function(_0x1f9f39,_0x1d6f3a){if('ltCqy'==='SoQaX'){return _0x1f9f39['convertToWorldSpaceAR'](_0x1d6f3a)['subSelf'](cc['visibleRect'][_0x3f7b('0x17d')]);}else{var _0x1e6bb7=_0x4baa1e['PlayMgr'],_0x15cb8b=_0x4baa1e[_0x3f7b('0xef')]['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x15cb8b['group']=this['bulletGroup'],_0x15cb8b['parent']=_0x1e6bb7['scene']['getChildByName']('bulletLayer'),_0x15cb8b['position']=_0x1e6bb7['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x21ff7f=_0x15cb8b['getComponent']('Bullet');_0x21ff7f['setHitData'](_0x4baa1e['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this[_0x3f7b('0x17e')])),_0x21ff7f['poolId']=this['poolId'],_0x21ff7f['fire'](_0x1f9f39,_0x1d6f3a);}},'onFire':function(){var _0x1f9f39=this['atkDirVec']['mul'](0x578);this['spawnBullet'](_0x1f9f39['rotate'](0.15),this['atkDeg']+cc['misc']['radiansToDegrees'](0.15)),this['spawnBullet'](_0x1f9f39,this['atkDeg']),this['spawnBullet'](_0x1f9f39['rotate'](-0.15),this[_0x3f7b('0x11')]+cc['misc']['radiansToDegrees'](-0.15)),_0x4baa1e['AudioMgr']['playEffect']('fire-8');}}),cc['_RF']['pop']();},{'Game':_0x3f7b('0x81'),'Weapon':'Weapon'}],'Weapon-3':[function(_0xd15e14,_0x3c2513,_0x40a0fb){'use strict';cc['_RF']['push'](_0x3c2513,'ffdd4I3gyRMGZfr91FYAJoy','Weapon-3');var _0x2f7db8=_0xd15e14('Weapon'),_0x3b3e85=_0xd15e14('Game');cc['Class']({'extends':_0x2f7db8,'properties':{'bulletPrefab':cc['Prefab'],'firePoint':cc['Node']},'onFireEnd':function(){this[_0x3f7b('0x17f')]=!0x1;},'onFire':function(){var _0xd15e14=_0x3b3e85['PlayMgr'],_0x3c2513=_0x3b3e85['PoolMgr']['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x3c2513['group']=this['bulletGroup'],_0x3c2513['parent']=_0xd15e14['scene']['getChildByName']('bulletLayer'),_0x3c2513['position']=_0xd15e14['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x40a0fb=this['atkDirVec']['mul'](0x4b0),_0x2f7db8=_0x3c2513['getComponent']('Bullet');_0x2f7db8['setHitData'](_0x3b3e85[_0x3f7b('0xd3')]['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x2f7db8['fire'](_0x40a0fb,this[_0x3f7b('0x11')]),_0x3b3e85['AudioMgr']['playEffect'](_0x3f7b('0x180'));}}),cc['_RF']['pop']();},{'Game':'Game','Weapon':_0x3f7b('0x181')}],'Weapon-4':[function(_0x88d8c8,_0x21b433,_0x56ea15){'use strict';cc['_RF']['push'](_0x21b433,_0x3f7b('0x182'),'Weapon-4');var _0x4ab810=_0x88d8c8('Weapon'),_0x53b409=_0x88d8c8('Game');cc[_0x3f7b('0xe3')]({'extends':_0x4ab810,'properties':{'bulletPrefab':cc[_0x3f7b('0x183')],'firePoint':cc['Node']},'onFireEnd':function(){if('FLnhN'!=='FLnhN'){_0x21b433['nextFighting']();}else{this['isFiring']=!0x1;}},'onFire':function(){var _0x88d8c8=_0x53b409['PlayMgr'],_0x21b433=_0x53b409['PoolMgr'][_0x3f7b('0x101')](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x21b433['group']=this['bulletGroup'],_0x21b433['parent']=_0x88d8c8['scene']['getChildByName']('bulletLayer'),_0x21b433['position']=_0x88d8c8['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x56ea15=this['atkDirVec']['mul'](0x15e),_0x4ab810=_0x21b433['getComponent']('Bullet');_0x4ab810['setHitData'](_0x53b409['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x4ab810['fire'](_0x56ea15,this['atkDeg']),_0x53b409['AudioMgr']['playEffect']('fire-2');}}),cc[_0x3f7b('0x58')]['pop']();},{'Game':'Game','Weapon':'Weapon'}],'Weapon-5':[function(_0x38dc40,_0x277a1a,_0x17bc6b){'use strict';function _0x58121f(_0x38dc40,_0x277a1a,_0x17bc6b){return _0x277a1a in _0x38dc40?Object[_0x3f7b('0x1f')](_0x38dc40,_0x277a1a,{'value':_0x17bc6b,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x38dc40[_0x277a1a]=_0x17bc6b,_0x38dc40;}cc['_RF']['push'](_0x277a1a,'56ea0Nl571BtKL4Hd55wh1G','Weapon-5');var _0x4fea95=_0x38dc40('Weapon'),_0x49152d=_0x38dc40('Game');cc['Class']({'extends':_0x4fea95,'properties':{'bulletPrefab':cc[_0x3f7b('0x183')],'firePoint':cc['Node']},'onLoad':function(){_0x4fea95['prototype']['onLoad']['call'](this),this['ctx']=this['addComponent'](cc['Graphics']),this['ctx']['lineWidth']=0x2,this['ctx']['strokeColor']=_0x49152d[_0x3f7b('0x46')]['Color']['RED'];},'onDisable':function(){_0x4fea95['prototype']['onDisable'][_0x3f7b('0x102')](this),this['ctx']['clear']();},'handleInput':function(_0x38dc40){this['input']=_0x38dc40['input'];var _0x277a1a=this['isAtking'];this['isAtking']=this['input']['isTouching'](),this['isAtking']&&(this['atkRad']=this['input']['getRad'](),this['atkDeg']=cc['misc']['radiansToDegrees'](this['atkRad']),this['atkDirVec']=this['input'][_0x3f7b('0x184')](),this['setAtkDir'](this['atkRad'])),_0x277a1a!==this['isAtking']&&(this['node']['emit']('atk-status-change',this['isAtking']),this['isAtking']||0x0!==this['atkForbid']||this['isFiring']||(this['ctx']['clear'](),this['execute']()));},'update':function(_0x38dc40){if(this['isAtking']&&!this['isFiring']){var _0x277a1a=cc[_0x3f7b('0x185')]['getPhysicsManager'](),_0x17bc6b=cc['v2'](0x0,0x0),_0x4fea95=cc['v2'](0x3e8,0x0),_0x168dc5=this['node']['convertToWorldSpaceAR'](_0x17bc6b),_0x1f796a=_0x168dc5['add'](this['atkDirVec']['mul'](0x3e8)),_0x34ffdf=_0x277a1a['rayCast'](_0x168dc5,_0x1f796a,cc['RayCastType']['All']);if(this[_0x3f7b('0x186')]['clear'](),this['ctx']['moveTo'](_0x17bc6b['x'],_0x17bc6b['y']),_0x34ffdf[0x0]){var _0x289f2c,_0x1c208d=(_0x58121f(_0x289f2c={},_0x49152d['Const']['Group']['MAP'],!0x0),_0x58121f(_0x289f2c,_0x49152d['Const']['Group'][_0x3f7b('0x187')],!0x0),_0x289f2c),_0x3b81ef={'res':null,'dis':0x0},_0xd98bbe=0x0;if(_0x34ffdf['forEach'](function(_0x38dc40){var _0x277a1a=_0x38dc40['collider']['node'];_0x1c208d[_0x277a1a['group']]&&(_0xd98bbe=_0x38dc40['point']['sub'](_0x168dc5)['magSqr'](),(!_0x3b81ef['res']||_0x3b81ef['dis']>_0xd98bbe)&&(_0x3b81ef['res']=_0x38dc40,_0x3b81ef['dis']=_0xd98bbe));}),_0x3b81ef['res']){var _0x2a72d7=this['node']['convertToNodeSpaceAR'](_0x3b81ef['res']['point']);this[_0x3f7b('0x186')]['lineTo'](_0x2a72d7['x'],_0x2a72d7['y']);}}else this[_0x3f7b('0x186')]['lineTo'](_0x4fea95['x'],_0x4fea95['y']);this[_0x3f7b('0x186')]['stroke']();}},'onFireEnd':function(){this['isFiring']=!0x1;},'onFire':function(){var _0x38dc40=_0x49152d[_0x3f7b('0x1c')],_0x277a1a=_0x49152d['PoolMgr']['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x277a1a['parent']=_0x38dc40['scene']['getChildByName']('bulletLayer'),_0x277a1a['position']=_0x38dc40['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x17bc6b=this['atkDirVec']['mul'](0x960),_0x58121f=_0x277a1a['getComponent']('Bullet');_0x58121f['setHitData'](_0x49152d['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x58121f['fire'](_0x17bc6b,this['atkDeg']),_0x49152d['AudioMgr']['playEffect']('fire-10');}}),cc['_RF']['pop']();},{'Game':'Game','Weapon':'Weapon'}],'Weapon-6':[function(_0x34ab9e,_0x294ab9,_0x30266e){'use strict';cc['_RF']['push'](_0x294ab9,_0x3f7b('0x188'),'Weapon-6');var _0xc5fce9=_0x34ab9e(_0x3f7b('0x181')),_0x5bce49=_0x34ab9e('Game');cc[_0x3f7b('0xe3')]({'extends':_0xc5fce9,'properties':{'bulletPrefab':cc['Prefab'],'firePoint':cc['Node']},'onFireEnd':function(){this['isFiring']=!0x1;},'spawnBullet':function(_0x34ab9e,_0x294ab9){var _0x30266e=_0x5bce49['PlayMgr'],_0xc5fce9=_0x5bce49[_0x3f7b('0xef')]['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0xc5fce9['parent']=_0x30266e['scene']['getChildByName']('bulletLayer'),_0xc5fce9['group']=this['bulletGroup'],_0xc5fce9['position']=_0x30266e['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x357daf=_0xc5fce9[_0x3f7b('0x32')](_0x3f7b('0x38'));_0x357daf['setHitData'](_0x5bce49['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x357daf['poolId']=this['poolId'],_0x357daf['fire'](_0x34ab9e,_0x294ab9);},'onFire':function(){for(var _0x34ab9e=this,_0x294ab9=this['atkDirVec']['mul'](0x6a4),_0x30266e=this['atkDeg'],_0xc5fce9=function(_0xc5fce9){var _0x5bce49=0x1*Math['random']()-0.5;_0x34ab9e['scheduleOnce'](function(){_0x34ab9e[_0x3f7b('0x189')](_0x294ab9['rotate'](_0x5bce49),_0x30266e+cc['misc']['radiansToDegrees'](_0x5bce49));},0.08*Math['random']());},_0x5c3523=0x0;_0x5c3523<0x8;_0x5c3523++)_0xc5fce9();_0x5bce49['AudioMgr']['playEffect']('fire-9');}}),cc['_RF']['pop']();},{'Game':'Game','Weapon':'Weapon'}],'Weapon-7':[function(_0x47a69e,_0x53d162,_0x20f17a){'use strict';cc['_RF']['push'](_0x53d162,_0x3f7b('0x18a'),'Weapon-7');var _0x793dab=_0x47a69e('Weapon'),_0x42b049=_0x47a69e(_0x3f7b('0x81'));cc['Class']({'extends':_0x793dab,'properties':{'bulletPrefab':cc['Prefab'],'normalPoint':cc['Node']},'onAtkMoveEnd':function(){this['ownerEntityCPT']['node']['emit']('remove-forbid-move');},'onAtkEnd':function(){this['isFiring']=!0x1;},'onDestroy':function(){_0x793dab['prototype']['onDestroy']['call'](this),this['ownerEntityCPT']['node']['emit']('remove-forbid-move');},'onAtk':function(){var _0x47a69e=_0x42b049['PlayMgr'],_0x53d162=cc['instantiate'](this['bulletPrefab']);_0x53d162['group']=this['bulletGroup'],_0x53d162['parent']=_0x47a69e['scene']['getChildByName']('bulletLayer'),_0x53d162['position']=_0x47a69e['convertToSceneSpace'](this['node'],cc['v2'](0x0,0x0));var _0x20f17a=_0x53d162['getComponent']('Bullet');_0x20f17a['setHitData'](_0x42b049['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x20f17a['fire'](this['atkDeg']),_0x42b049['AudioMgr']['playEffect']('atk-1'),this['ownerEntityCPT']['node']['emit']('add-forbid-move');var _0x793dab=this['atkDirVec']['mul'](0xaf0),_0xaa9cff=(this['ownerEntityCPT'],this['ownerEntityCPT']['getComponent'](cc['RigidBody']));_0xaa9cff['linearVelocity']=cc['v2'](),_0xaa9cff['applyLinearImpulse'](_0x793dab,_0xaa9cff['getWorldCenter'](),!0x0);}}),cc['_RF']['pop']();},{'Game':'Game','Weapon':'Weapon'}],'Weapon-8':[function(_0xf8398f,_0x3db4b1,_0x228901){'use strict';cc[_0x3f7b('0x58')]['push'](_0x3db4b1,'cee77U4lUVOL7UIgoCSWBLV','Weapon-8');var _0x1ae09c=_0xf8398f('Weapon'),_0xa4173=_0xf8398f('Game');cc['Class']({'extends':_0x1ae09c,'properties':{'bulletPrefab':cc[_0x3f7b('0x183')],'firePoint':cc['Node'],'bulletLinearSpeed':0x5dc},'onFireEnd':function(){this['isFiring']=!0x1;},'onFire':function(){if('DmEhx'==='DmEhx'){var _0xf8398f=_0xa4173['PlayMgr'],_0x3db4b1=_0xa4173['PoolMgr']['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x3db4b1['group']=this['bulletGroup'],_0x3db4b1['parent']=_0xf8398f['scene']['getChildByName']('bulletLayer'),_0x3db4b1['position']=_0xf8398f['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0x228901=this['atkDirVec']['mul'](this['bulletLinearSpeed']),_0x1ae09c=_0x3db4b1['getComponent']('Bullet');_0x1ae09c['poolId']=this['poolId'],_0x1ae09c['setHitData'](_0xa4173['Data']['createHitDataByItemId'](this[_0x3f7b('0x62')]['getEntityId'](),this['itemId']));var _0x17bf77=0.4*Math['random']()-0.2;_0x1ae09c['fire'](_0x228901[_0x3f7b('0x18b')](_0x17bf77),this['atkDeg']+cc['misc']['radiansToDegrees'](_0x17bf77)),_0xa4173['AudioMgr']['playEffect']('fire-3');}else{this['isInvalid']=!0x1,this['node']['rotation']=-_0x3db4b1,this['rigidbody']['linearVelocity']=_0xf8398f,this['fireLinearVelocity']=_0xf8398f;}}}),cc['_RF']['pop']();},{'Game':'Game','Weapon':'Weapon'}],'Weapon-9':[function(_0x22c394,_0x4ce97a,_0xe871bb){'use strict';cc['_RF']['push'](_0x4ce97a,'673520kQ3NNIrRvmI4nAkX4','Weapon-9');var _0x4d43f5=_0x22c394('Weapon'),_0x536d39=_0x22c394('Game');cc[_0x3f7b('0xe3')]({'extends':_0x4d43f5,'properties':{'bulletPrefab':cc['Prefab'],'firePoint':cc['Node']},'onFireEnd':function(){this['isFiring']=!0x1;},'onFire':function(){var _0x22c394=_0x536d39['PlayMgr'],_0x4ce97a=_0x536d39[_0x3f7b('0xef')]['get'](this['poolId'])||cc['instantiate'](this['bulletPrefab']);_0x4ce97a['parent']=_0x22c394['scene']['getChildByName']('bulletLayer'),_0x4ce97a['position']=_0x22c394['convertToSceneSpace'](this['firePoint'],cc['v2'](0x0,0x0));var _0xe871bb=this['atkDirVec']['mul'](0x4b0),_0x4d43f5=_0x4ce97a['getComponent']('Bullet');_0x4d43f5['setHitData'](_0x536d39['Data']['createHitDataByItemId'](this['ownerEntityCPT']['getEntityId'](),this['itemId'])),_0x4d43f5['poolId']=this['poolId'],_0x4d43f5['fire'](_0xe871bb,this['atkDeg']),_0x536d39['AudioMgr']['playEffect']('fire-8');}}),cc['_RF']['pop']();},{'Game':'Game','Weapon':'Weapon'}],'Weapon':[function(_0x9ecf91,_0x3f63ff,_0x50abf0){'use strict';cc[_0x3f7b('0x58')]['push'](_0x3f63ff,'7be94uH1FpEmaayLK5tnu/5','Weapon');var _0x4b61bb=_0x9ecf91('Game');cc['Class']({'extends':cc['Component'],'properties':{'itemId':0x0},'ctor':function(){this['isAtking']=!0x1,this['atkForbid']=0x0,this['poolId']=null,this[_0x3f7b('0x8d')]=!0x1,this['isFiring']=!0x1;},'onLoad':function(){if('AsUjU'==='AsUjU'){this['itemCfg']=_0x4b61bb['Config']['ItemCfg'][this['itemId']],this['atkAnim']=this['getComponent'](cc['Animation']),this[_0x3f7b('0x18c')]=this['node']['getChildByName']('nodeGroup'),this['energyCostVal']=this['itemCfg']['energyCostVal']||0x0,this['atkRad']=0x0,this['atkDeg']=0x0,this['atkDirVec']=cc['v2'](),this['itemCfg']['poolInfo'][0x0]>0x0&&(this['poolId']=_0x4b61bb['PoolMgr']['createPool'](this['bulletPrefab'],this['itemCfg']['poolInfo'][0x0],this['itemCfg']['poolInfo'][0x1]));}else{var _0x35808d=this['pathSockets'][_0x9ecf91];if(_0x35808d){var _0x191087=this['node']['getContentSize']();return _0x35808d['subSelf'](cc['v2'](_0x191087['width'],_0x191087['height'])['divSelf'](0x2));}return cc['v2']();}},'onEnable':function(){this['regOwnerEvents']();},'onDisable':function(){this['unregOwnerEvents'](),this['isFiring']=!0x1,this[_0x3f7b('0x173')]=!0x1,this['node']['emit']('atk-status-change',this['isAtking']);},'onDestroy':function(){this[_0x3f7b('0x18d')]&&_0x4b61bb['PoolMgr']['releasePool'](this['poolId']);},'addForbid':function(){if('jQvis'!=='zgxJW'){this['atkForbid']+=0x1;}else{return _0x50abf0&&_0x9ecf91(_0x3f63ff['prototype'],_0x50abf0),_0x4b61bb&&_0x9ecf91(_0x3f63ff,_0x4b61bb),_0x3f63ff;}},'removeForbid':function(){this['atkForbid']-=0x1,this['atkForbid']<0x0&&(this['atkForbid']=0x0);},'equipToEntity':function(_0x9ecf91){this['ownerEntityCPT']=_0x9ecf91,this['bulletGroup']=this['ownerEntityCPT']['node']['group']===_0x4b61bb['Const']['Group']['HERO']?_0x4b61bb['Const']['Group']['BULLET']:_0x4b61bb['Const'][_0x3f7b('0x174')][_0x3f7b('0x18e')],this['bulletLayer']=_0x4b61bb['PlayMgr']['scene']['getChildByName']('bulletLayer'),this['onBeEquip']();},'execute':function(){this['isFiring']||(this['bulletGroup']!==_0x4b61bb['Const']['Group']['BULLET']||this['ownerEntityCPT']['consumeEnergy'](this['energyCostVal'])?(this['atkAnim']['play'](),this['isFiring']=!0x0):this['playExecuteWarning']());},'playExecuteWarning':function(){this['warningDelay']||(this['warningDelay']=!0x0,this['scheduleOnce'](this['warningDelayEnd'],0x1),_0x4b61bb['AudioMgr']['playEffect']('warning'));},'warningDelayEnd':function(){if('dqdal'==='dqdal'){this['warningDelay']=!0x1;}else{this['rigidbody']=this['node']['getComponent'](cc['RigidBody']),this['isInvalid']=!0x1,this['newLinearVec']=null;}},'update':function(_0x9ecf91){0x0===this['atkForbid']&&this['isAtking']&&(this['isFiring']||this['execute']());},'setAtkDir':function(_0x9ecf91){var _0x3f63ff=cc['misc']['radiansToDegrees'](_0x9ecf91),_0x50abf0=_0x3f63ff>-0x5a&&_0x3f63ff<0x5a;this['node']['scaleX']=_0x50abf0?0x1:-0x1,this['node']['rotation']=_0x50abf0?-_0x3f63ff:0xb4-_0x3f63ff,this['node']['emit']('atkAngleChange',_0x9ecf91);},'unregOwnerEvents':function(){if('uYZVQ'==='uYZVQ'){this['ownerEntityCPT']&&this['ownerEntityCPT']['node']['targetOff'](this);}else{Game[_0x3f7b('0x16c')]['playCommonClickEffect'](),Game['PlayMgr']['killAllEnemy']();}},'regOwnerEvents':function(){this['ownerEntityCPT']&&(this['ownerEntityCPT']['node']['on']('add-forbid-atk',this[_0x3f7b('0x18f')],this),this['ownerEntityCPT']['node']['on']('remove-forbid-atk',this['removeForbid'],this),this['ownerEntityCPT']['node']['on']('update-atk-input',this['handleInput'],this));},'onBeEquip':function(){this['regOwnerEvents'](),this['node']['parent']=this['ownerEntityCPT']['weaponNone'];},'handleInput':function(_0x9ecf91){var _0x3f63ff=this;if(0x0===this['atkForbid']){this['input']=_0x9ecf91['input'];var _0x50abf0=this['isAtking'];this['isAtking']=this['input'][_0x3f7b('0x190')](),this['isAtking']&&(this['ownerEntityCPT']['autoAimEntity']||(this['atkRad']=this[_0x3f7b('0x171')]['getRad'](),this['atkDeg']=cc['misc']['radiansToDegrees'](this['atkRad']),this['atkDirVec']=this['input']['getDirVec'](),this['setAtkDir'](this['atkRad']))),_0x50abf0!==this['isAtking']&&(this['node']['emit']('atk-status-change',this['isAtking']),this['isAtking']&&!this['isFiring']&&(this['isFiring']=!0x0,this['scheduleOnce'](function(){_0x3f63ff[_0x3f7b('0x17f')]=!0x1;},0.12)));}}}),cc['_RF']['pop']();},{'Game':'Game'}],'bornAnim':[function(_0x1928ec,_0x2280b4,_0x56f9a9){'use strict';cc[_0x3f7b('0x58')]['push'](_0x2280b4,'163fbUcmTBPoL2gDxDOGOxl','bornAnim'),cc['Class']({'extends':cc['Component'],'properties':{},'onLoad':function(){this['animCPT']=this['getComponent'](cc['Animation']);},'born':function(){this[_0x3f7b('0xfc')]&&this['eventHandler']({'name':'born'});},'playOnce':function(_0x1928ec){var _0x2280b4=this;this['eventHandler']=_0x1928ec,this[_0x3f7b('0x191')]['play'](),this['animCPT']['on'](_0x3f7b('0x192'),function(){_0x2280b4['node']['destroy'](),_0x2280b4['eventHandler']&&_0x1928ec({'name':'finished'});});}}),cc['_RF']['pop']();},{}],'bornSeqEvent':[function(_0x2e8594,_0x15b171,_0x5aa2fb){'use strict';cc['_RF']['push'](_0x15b171,'6a10636g55H45XWwJSg0b89','bornSeqEvent'),cc['Class']({'extends':cc['Component'],'born':function(){this['node']['dispatchEvent'](new cc['Event']['EventCustom']('bornEnd',!0x0));}}),cc['_RF']['pop']();},{}],'commonHitEff':[function(_0x280a13,_0x2a9661,_0x377b6b){'use strict';cc['_RF']['push'](_0x2a9661,'dde75u8rGZJJpzeKecUn6nl','commonHitEff'),cc['Class']({'extends':cc[_0x3f7b('0x20')],'onLoad':function(){if('ikuhL'!=='ikuhL'){if(_0x280a13){var _0x8792e8=_0x280a13['getComponent']('Item');this['selectItemSign']['position']=this['convertToSceneSpace'](_0x8792e8['getArrowPosNode'](),cc['v2']()),this['selectItemSign']['active']=!0x0,this['selectItemSign']['getComponent']('item-sign-arrow')['itemId']=_0x8792e8['itemId'];}else this['selectItemSign']['active']=!0x1;this['node']['emit']('updateSelectOperatedTarget',{'group':_0x280a13&&_0x280a13['group']});}else{this['anim']=this['getComponent'](cc['Animation']),this['anim']['on']('finished',this['animFinished'],this);}},'animFinished':function(){null!==this['poolId']?Game['PoolMgr']['put'](this[_0x3f7b('0x18d')],this['node']):this['node']['destroy']();},'play':function(_0x280a13){this['anim']['play'](),this['poolId']=_0x280a13;}}),cc[_0x3f7b('0x58')]['pop']();},{}],'doorBody':[function(_0x1fc16b,_0x482c03,_0x243374){'use strict';cc['_RF']['push'](_0x482c03,'fe4fe1rjGlIxKznu2MVP3hc','doorBody'),cc['Class']({'extends':cc['Component'],'properties':{'normalSF':cc['SpriteFrame'],'closeSF':cc['SpriteFrame'],'spr':cc[_0x3f7b('0x193')]},'onLoad':function(){this['doorState']=!0x1;},'showNormalState':function(){this['doorState']=!0x1,this['spr']['spriteFrame']=this['normalSF'],this['getComponent'](cc['PhysicsBoxCollider'])['enabled']=!0x1,this['getComponent'](cc['PhysicsBoxCollider'])['enabled']=!0x0;},'showCloseState':function(){this['doorState']=!0x0,this[_0x3f7b('0x194')]['spriteFrame']=this['closeSF'];}}),cc['_RF']['pop']();},{}],'item-sign-arrow':[function(_0x5f2efe,_0x2a6aa0,_0x4ec931){'use strict';cc['_RF']['push'](_0x2a6aa0,_0x3f7b('0x195'),'item-sign-arrow'),cc['Class']({'extends':cc['Component'],'properties':{'nameLabel':cc['Label'],'_itemId':0x0,'itemId':{'get':function(){return this['_itemId'];},'set':function(_0x5f2efe){this['_itemId']=_0x5f2efe,this[_0x3f7b('0x196')]();}}},'refresh':function(){var _0x5f2efe=Game['Config']['ItemCfg'][this['_itemId']];if(_0x5f2efe){this['setItemName'](_0x5f2efe['name']);var _0x2a6aa0=Game['Config'][_0x3f7b('0x48')][_0x5f2efe['grade']||0x0];this['nameLabel']['node'][_0x3f7b('0x15c')]=_0x2a6aa0,this['node']['getChildByName']('img')['color']=_0x2a6aa0,this['getComponent'](cc['Animation'])['play']();}},'setItemName':function(_0x5f2efe){this['nameLabel']['string']=_0x5f2efe;}}),cc['_RF']['pop']();},{}],'itemListCtrl':[function(_0x2ff770,_0x20d0a4,_0x4deb88){'use strict';cc['_RF']['push'](_0x20d0a4,'309a3snnXxJILVSdsTyVpNG','itemListCtrl'),cc['Class']({'extends':cc['Component'],'properties':{'itemPrefab':cc['Prefab'],'tipLabel':cc['Label']},'ctor':function(){this['items']=[];},'onLoad':function(){this[_0x3f7b('0x197')]=this['getComponent'](cc['ScrollView']);},'onEnable':function(){this['node']['on']('itemInList-select',this['onItemSelet'],this);},'onDisable':function(){this['node']['off']('itemInList-select',this['onItemSelet'],this);},'onItemSelet':function(_0x2ff770){var _0x20d0a4=_0x2ff770['target']['getComponent']('ItemInList');_0x20d0a4&&this[_0x3f7b('0x198')](_0x20d0a4['data']['idx']);},'setItem':function(_0x2ff770,_0x20d0a4){var _0x4deb88=this['items'][_0x2ff770];_0x4deb88||(_0x4deb88=cc['instantiate'](this[_0x3f7b('0x199')]),this['items'][_0x2ff770]=_0x4deb88,_0x4deb88['parent']=this['scrollView']['content']),_0x4deb88['getComponent']('ItemInList')['setData'](_0x20d0a4);},'selecAt':function(_0x2ff770){var _0x20d0a4=this,_0x4deb88=!0x1;this['items']['forEach'](function(_0x319977,_0x469ff1){if('PaSbs'!=='eJocq'){if(_0x4deb88=_0x2ff770===_0x469ff1,_0x319977['getComponent']('ItemInList')['setSelectState'](_0x4deb88),_0x4deb88){var _0x4efe6c=Game['Config'][_0x3f7b('0x19a')](_0x319977['getComponent']('ItemInList')['data']['itemId']);_0x20d0a4['tipLabel']['string']=_0x4efe6c;}}else{this['doorState']=!0x1,this['spr']['spriteFrame']=this['normalSF'],this['getComponent'](cc['PhysicsBoxCollider'])['enabled']=!0x1,this['getComponent'](cc['PhysicsBoxCollider'])['enabled']=!0x0;}});},'refresh':function(){var _0x2ff770=this,_0x20d0a4=Game['Data']['heroData'];_0x20d0a4['equipments'][_0x3f7b('0x13b')](function(_0x20d0a4,_0x4deb88){_0x2ff770['setItem'](_0x4deb88,{'itemId':_0x20d0a4,'idx':_0x4deb88});});for(var _0x4deb88=_0x20d0a4[_0x3f7b('0x19b')][_0x3f7b('0x27')],_0x2eff33=this['items']['length']-0x1;_0x2eff33>=_0x4deb88;_0x2eff33--)this['items']['pop']()['destroy']();this['selecAt'](0x0);}}),cc['_RF']['pop']();},{}]},{},[_0x3f7b('0x19c'),'AStar','AtkUnit','CameraFollow','Entity','Hero','Joystick','MoveUnit',_0x3f7b('0x155'),'TiledMapRoom','bornAnim','bornSeqEvent','Building',_0x3f7b('0x19d'),'FragileBox','Thorn','Bullet-0','Bullet-11','Bullet-3','Bullet','doorBody','Enemy-0','Enemy','DropWeapon','Equipment','Item','NextLevelEntrance','OnceItem','TreasureBox','Min-map-room','Min-map',_0x3f7b('0x19e'),'ItemInList','commonHitEff','item-sign-arrow','itemListCtrl','UILoading','UIPanel','UIPlay','UIStart','UITip',_0x3f7b('0x19f'),'Weapon-1','Weapon-11','Weapon-12','Weapon-2','Weapon-3','Weapon-4','Weapon-5','Weapon-6','Weapon-7','Weapon-8','Weapon-9','Weapon','AudioMgr','Config','Const','Data','Event',_0x3f7b('0x81'),'GameMgr','MapMgr','PlayMgr','PoolMgr','ResMgr','StepTaskMgr','UIMgr','EventListener','GameFunc','GameMath']);